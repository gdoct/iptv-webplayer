import{createPortal as Fs}from"react-dom";(function(){const ne=document.createElement("link").relList;if(ne&&ne.supports&&ne.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))b(A);new MutationObserver(A=>{for(const P of A)if(P.type==="childList")for(const D of P.addedNodes)D.tagName==="LINK"&&D.rel==="modulepreload"&&b(D)}).observe(document,{childList:!0,subtree:!0});function J(A){const P={};return A.integrity&&(P.integrity=A.integrity),A.referrerPolicy&&(P.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?P.credentials="include":A.crossOrigin==="anonymous"?P.credentials="omit":P.credentials="same-origin",P}function b(A){if(A.ep)return;A.ep=!0;const P=J(A);fetch(A.href,P)}})();function Jf(te){return te&&te.__esModule&&Object.prototype.hasOwnProperty.call(te,"default")?te.default:te}var Wo={exports:{}},Lr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf;function cp(){if(Lf)return Lr;Lf=1;var te=Symbol.for("react.transitional.element"),ne=Symbol.for("react.fragment");function J(b,A,P){var D=null;if(P!==void 0&&(D=""+P),A.key!==void 0&&(D=""+A.key),"key"in A){P={};for(var g in A)g!=="key"&&(P[g]=A[g])}else P=A;return A=P.ref,{$$typeof:te,type:b,key:D,ref:A!==void 0?A:null,props:P}}return Lr.Fragment=ne,Lr.jsx=J,Lr.jsxs=J,Lr}var Bf;function dp(){return Bf||(Bf=1,Wo.exports=cp()),Wo.exports}var Le=dp(),$o={exports:{}},Qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kf;function fp(){if(kf)return Qe;kf=1;var te=Symbol.for("react.transitional.element"),ne=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),D=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.iterator;function L(c){return c===null||typeof c!="object"?null:(c=M&&c[M]||c["@@iterator"],typeof c=="function"?c:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,V={};function K(c,v,q){this.props=c,this.context=v,this.refs=V,this.updater=q||C}K.prototype.isReactComponent={},K.prototype.setState=function(c,v){if(typeof c!="object"&&typeof c!="function"&&c!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,c,v,"setState")},K.prototype.forceUpdate=function(c){this.updater.enqueueForceUpdate(this,c,"forceUpdate")};function W(){}W.prototype=K.prototype;function Q(c,v,q){this.props=c,this.context=v,this.refs=V,this.updater=q||C}var ce=Q.prototype=new W;ce.constructor=Q,z(ce,K.prototype),ce.isPureReactComponent=!0;var I=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},re=Object.prototype.hasOwnProperty;function H(c,v,q,ae,_e,De){return q=De.ref,{$$typeof:te,type:c,key:v,ref:q!==void 0?q:null,props:De}}function x(c,v){return H(c.type,v,void 0,void 0,void 0,c.props)}function E(c){return typeof c=="object"&&c!==null&&c.$$typeof===te}function T(c){var v={"=":"=0",":":"=2"};return"$"+c.replace(/[=:]/g,function(q){return v[q]})}var B=/\/+/g;function oe(c,v){return typeof c=="object"&&c!==null&&c.key!=null?T(""+c.key):v.toString(36)}function Te(){}function ye(c){switch(c.status){case"fulfilled":return c.value;case"rejected":throw c.reason;default:switch(typeof c.status=="string"?c.then(Te,Te):(c.status="pending",c.then(function(v){c.status==="pending"&&(c.status="fulfilled",c.value=v)},function(v){c.status==="pending"&&(c.status="rejected",c.reason=v)})),c.status){case"fulfilled":return c.value;case"rejected":throw c.reason}}throw c}function be(c,v,q,ae,_e){var De=typeof c;(De==="undefined"||De==="boolean")&&(c=null);var Ee=!1;if(c===null)Ee=!0;else switch(De){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(c.$$typeof){case te:case ne:Ee=!0;break;case S:return Ee=c._init,be(Ee(c._payload),v,q,ae,_e)}}if(Ee)return _e=_e(c),Ee=ae===""?"."+oe(c,0):ae,I(_e)?(q="",Ee!=null&&(q=Ee.replace(B,"$&/")+"/"),be(_e,v,q,"",function(we){return we})):_e!=null&&(E(_e)&&(_e=x(_e,q+(_e.key==null||c&&c.key===_e.key?"":(""+_e.key).replace(B,"$&/")+"/")+Ee)),v.push(_e)),1;Ee=0;var me=ae===""?".":ae+":";if(I(c))for(var pe=0;pe<c.length;pe++)ae=c[pe],De=me+oe(ae,pe),Ee+=be(ae,v,q,De,_e);else if(pe=L(c),typeof pe=="function")for(c=pe.call(c),pe=0;!(ae=c.next()).done;)ae=ae.value,De=me+oe(ae,pe++),Ee+=be(ae,v,q,De,_e);else if(De==="object"){if(typeof c.then=="function")return be(ye(c),v,q,ae,_e);throw v=String(c),Error("Objects are not valid as a React child (found: "+(v==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":v)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function k(c,v,q){if(c==null)return c;var ae=[],_e=0;return be(c,ae,"","",function(De){return v.call(q,De,_e++)}),ae}function he(c){if(c._status===-1){var v=c._result;v=v(),v.then(function(q){(c._status===0||c._status===-1)&&(c._status=1,c._result=q)},function(q){(c._status===0||c._status===-1)&&(c._status=2,c._result=q)}),c._status===-1&&(c._status=0,c._result=v)}if(c._status===1)return c._result.default;throw c._result}var le=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var v=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(v))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function N(){}return Qe.Children={map:k,forEach:function(c,v,q){k(c,function(){v.apply(this,arguments)},q)},count:function(c){var v=0;return k(c,function(){v++}),v},toArray:function(c){return k(c,function(v){return v})||[]},only:function(c){if(!E(c))throw Error("React.Children.only expected to receive a single React element child.");return c}},Qe.Component=K,Qe.Fragment=J,Qe.Profiler=A,Qe.PureComponent=Q,Qe.StrictMode=b,Qe.Suspense=y,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(c){return $.H.useMemoCache(c)}},Qe.cache=function(c){return function(){return c.apply(null,arguments)}},Qe.cloneElement=function(c,v,q){if(c==null)throw Error("The argument must be a React element, but you passed "+c+".");var ae=z({},c.props),_e=c.key,De=void 0;if(v!=null)for(Ee in v.ref!==void 0&&(De=void 0),v.key!==void 0&&(_e=""+v.key),v)!re.call(v,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&v.ref===void 0||(ae[Ee]=v[Ee]);var Ee=arguments.length-2;if(Ee===1)ae.children=q;else if(1<Ee){for(var me=Array(Ee),pe=0;pe<Ee;pe++)me[pe]=arguments[pe+2];ae.children=me}return H(c.type,_e,void 0,void 0,De,ae)},Qe.createContext=function(c){return c={$$typeof:D,_currentValue:c,_currentValue2:c,_threadCount:0,Provider:null,Consumer:null},c.Provider=c,c.Consumer={$$typeof:P,_context:c},c},Qe.createElement=function(c,v,q){var ae,_e={},De=null;if(v!=null)for(ae in v.key!==void 0&&(De=""+v.key),v)re.call(v,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(_e[ae]=v[ae]);var Ee=arguments.length-2;if(Ee===1)_e.children=q;else if(1<Ee){for(var me=Array(Ee),pe=0;pe<Ee;pe++)me[pe]=arguments[pe+2];_e.children=me}if(c&&c.defaultProps)for(ae in Ee=c.defaultProps,Ee)_e[ae]===void 0&&(_e[ae]=Ee[ae]);return H(c,De,void 0,void 0,null,_e)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(c){return{$$typeof:g,render:c}},Qe.isValidElement=E,Qe.lazy=function(c){return{$$typeof:S,_payload:{_status:-1,_result:c},_init:he}},Qe.memo=function(c,v){return{$$typeof:m,type:c,compare:v===void 0?null:v}},Qe.startTransition=function(c){var v=$.T,q={};$.T=q;try{var ae=c(),_e=$.S;_e!==null&&_e(q,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(N,le)}catch(De){le(De)}finally{$.T=v}},Qe.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Qe.use=function(c){return $.H.use(c)},Qe.useActionState=function(c,v,q){return $.H.useActionState(c,v,q)},Qe.useCallback=function(c,v){return $.H.useCallback(c,v)},Qe.useContext=function(c){return $.H.useContext(c)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(c,v){return $.H.useDeferredValue(c,v)},Qe.useEffect=function(c,v,q){var ae=$.H;if(typeof q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(c,v)},Qe.useId=function(){return $.H.useId()},Qe.useImperativeHandle=function(c,v,q){return $.H.useImperativeHandle(c,v,q)},Qe.useInsertionEffect=function(c,v){return $.H.useInsertionEffect(c,v)},Qe.useLayoutEffect=function(c,v){return $.H.useLayoutEffect(c,v)},Qe.useMemo=function(c,v){return $.H.useMemo(c,v)},Qe.useOptimistic=function(c,v){return $.H.useOptimistic(c,v)},Qe.useReducer=function(c,v,q){return $.H.useReducer(c,v,q)},Qe.useRef=function(c){return $.H.useRef(c)},Qe.useState=function(c){return $.H.useState(c)},Qe.useSyncExternalStore=function(c,v,q){return $.H.useSyncExternalStore(c,v,q)},Qe.useTransition=function(){return $.H.useTransition()},Qe.version="19.1.1",Qe}var Nf;function uu(){return Nf||(Nf=1,$o.exports=fp()),$o.exports}var Ke=uu();const Uf=Jf(Ke);var eu={exports:{}},Br={},tu={exports:{}},au={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf;function hp(){return zf||(zf=1,(function(te){function ne(k,he){var le=k.length;k.push(he);e:for(;0<le;){var N=le-1>>>1,c=k[N];if(0<A(c,he))k[N]=he,k[le]=c,le=N;else break e}}function J(k){return k.length===0?null:k[0]}function b(k){if(k.length===0)return null;var he=k[0],le=k.pop();if(le!==he){k[0]=le;e:for(var N=0,c=k.length,v=c>>>1;N<v;){var q=2*(N+1)-1,ae=k[q],_e=q+1,De=k[_e];if(0>A(ae,le))_e<c&&0>A(De,ae)?(k[N]=De,k[_e]=le,N=_e):(k[N]=ae,k[q]=le,N=q);else if(_e<c&&0>A(De,le))k[N]=De,k[_e]=le,N=_e;else break e}}return he}function A(k,he){var le=k.sortIndex-he.sortIndex;return le!==0?le:k.id-he.id}if(te.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var P=performance;te.unstable_now=function(){return P.now()}}else{var D=Date,g=D.now();te.unstable_now=function(){return D.now()-g}}var y=[],m=[],S=1,M=null,L=3,C=!1,z=!1,V=!1,K=!1,W=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function I(k){for(var he=J(m);he!==null;){if(he.callback===null)b(m);else if(he.startTime<=k)b(m),he.sortIndex=he.expirationTime,ne(y,he);else break;he=J(m)}}function $(k){if(V=!1,I(k),!z)if(J(y)!==null)z=!0,re||(re=!0,oe());else{var he=J(m);he!==null&&be($,he.startTime-k)}}var re=!1,H=-1,x=5,E=-1;function T(){return K?!0:!(te.unstable_now()-E<x)}function B(){if(K=!1,re){var k=te.unstable_now();E=k;var he=!0;try{e:{z=!1,V&&(V=!1,Q(H),H=-1),C=!0;var le=L;try{t:{for(I(k),M=J(y);M!==null&&!(M.expirationTime>k&&T());){var N=M.callback;if(typeof N=="function"){M.callback=null,L=M.priorityLevel;var c=N(M.expirationTime<=k);if(k=te.unstable_now(),typeof c=="function"){M.callback=c,I(k),he=!0;break t}M===J(y)&&b(y),I(k)}else b(y);M=J(y)}if(M!==null)he=!0;else{var v=J(m);v!==null&&be($,v.startTime-k),he=!1}}break e}finally{M=null,L=le,C=!1}he=void 0}}finally{he?oe():re=!1}}}var oe;if(typeof ce=="function")oe=function(){ce(B)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,ye=Te.port2;Te.port1.onmessage=B,oe=function(){ye.postMessage(null)}}else oe=function(){W(B,0)};function be(k,he){H=W(function(){k(te.unstable_now())},he)}te.unstable_IdlePriority=5,te.unstable_ImmediatePriority=1,te.unstable_LowPriority=4,te.unstable_NormalPriority=3,te.unstable_Profiling=null,te.unstable_UserBlockingPriority=2,te.unstable_cancelCallback=function(k){k.callback=null},te.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<k?Math.floor(1e3/k):5},te.unstable_getCurrentPriorityLevel=function(){return L},te.unstable_next=function(k){switch(L){case 1:case 2:case 3:var he=3;break;default:he=L}var le=L;L=he;try{return k()}finally{L=le}},te.unstable_requestPaint=function(){K=!0},te.unstable_runWithPriority=function(k,he){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var le=L;L=k;try{return he()}finally{L=le}},te.unstable_scheduleCallback=function(k,he,le){var N=te.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?N+le:N):le=N,k){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return c=le+c,k={id:S++,callback:he,priorityLevel:k,startTime:le,expirationTime:c,sortIndex:-1},le>N?(k.sortIndex=le,ne(m,k),J(y)===null&&k===J(m)&&(V?(Q(H),H=-1):V=!0,be($,le-N))):(k.sortIndex=c,ne(y,k),z||C||(z=!0,re||(re=!0,oe()))),k},te.unstable_shouldYield=T,te.unstable_wrapCallback=function(k){var he=L;return function(){var le=L;L=he;try{return k.apply(this,arguments)}finally{L=le}}}})(au)),au}var jf;function _p(){return jf||(jf=1,tu.exports=hp()),tu.exports}var nu={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If;function pp(){if(If)return Zt;If=1;var te=uu();function ne(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)m+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function J(){}var b={d:{f:J,r:function(){throw Error(ne(522))},D:J,C:J,L:J,m:J,X:J,S:J,M:J},p:0,findDOMNode:null},A=Symbol.for("react.portal");function P(y,m,S){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:M==null?null:""+M,children:y,containerInfo:m,implementation:S}}var D=te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,Zt.createPortal=function(y,m){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(ne(299));return P(y,m,null,S)},Zt.flushSync=function(y){var m=D.T,S=b.p;try{if(D.T=null,b.p=2,y)return y()}finally{D.T=m,b.p=S,b.d.f()}},Zt.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,b.d.C(y,m))},Zt.prefetchDNS=function(y){typeof y=="string"&&b.d.D(y)},Zt.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var S=m.as,M=g(S,m.crossOrigin),L=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;S==="style"?b.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:M,integrity:L,fetchPriority:C}):S==="script"&&b.d.X(y,{crossOrigin:M,integrity:L,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Zt.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var S=g(m.as,m.crossOrigin);b.d.M(y,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&b.d.M(y)},Zt.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var S=m.as,M=g(S,m.crossOrigin);b.d.L(y,S,{crossOrigin:M,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Zt.preloadModule=function(y,m){if(typeof y=="string")if(m){var S=g(m.as,m.crossOrigin);b.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else b.d.m(y)},Zt.requestFormReset=function(y){b.d.r(y)},Zt.unstable_batchedUpdates=function(y,m){return y(m)},Zt.useFormState=function(y,m,S){return D.H.useFormState(y,m,S)},Zt.useFormStatus=function(){return D.H.useHostTransitionStatus()},Zt.version="19.1.1",Zt}var Pf;function mp(){if(Pf)return nu.exports;Pf=1;function te(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(te)}catch(ne){console.error(ne)}}return te(),nu.exports=pp(),nu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vf;function gp(){if(Vf)return Br;Vf=1;var te=_p(),ne=uu(),J=mp();function b(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function A(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function P(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function D(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(P(e)!==e)throw Error(b(188))}function y(e){var t=e.alternate;if(!t){if(t=P(e),t===null)throw Error(b(188));return t!==e?null:e}for(var a=e,n=t;;){var i=a.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){a=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===a)return g(i),e;if(o===n)return g(i),t;o=o.sibling}throw Error(b(188))}if(a.return!==n.return)a=i,n=o;else{for(var _=!1,R=i.child;R;){if(R===a){_=!0,a=i,n=o;break}if(R===n){_=!0,n=i,a=o;break}R=R.sibling}if(!_){for(R=o.child;R;){if(R===a){_=!0,a=o,n=i;break}if(R===n){_=!0,n=o,a=i;break}R=R.sibling}if(!_)throw Error(b(189))}}if(a.alternate!==n)throw Error(b(190))}if(a.tag!==3)throw Error(b(188));return a.stateNode.current===a?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Symbol.for("react.client.reference");function ye(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Te?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case K:return"Profiler";case V:return"StrictMode";case $:return"Suspense";case re:return"SuspenseList";case E:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case ce:return(e.displayName||"Context")+".Provider";case Q:return(e._context.displayName||"Context")+".Consumer";case I:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return t=e.displayName||null,t!==null?t:ye(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return ye(e(t))}catch{}}return null}var be=Array.isArray,k=ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=J.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},N=[],c=-1;function v(e){return{current:e}}function q(e){0>c||(e.current=N[c],N[c]=null,c--)}function ae(e,t){c++,N[c]=e.current,e.current=t}var _e=v(null),De=v(null),Ee=v(null),me=v(null);function pe(e,t){switch(ae(Ee,t),ae(De,e),ae(_e,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=sf(t),e=lf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(_e),ae(_e,e)}function we(){q(_e),q(De),q(Ee)}function Ie(e){e.memoizedState!==null&&ae(me,e);var t=_e.current,a=lf(t,e.type);t!==a&&(ae(De,e),ae(_e,a))}function Pe(e){De.current===e&&(q(_e),q(De)),me.current===e&&(q(me),Cr._currentValue=le)}var Je=Object.prototype.hasOwnProperty,At=te.unstable_scheduleCallback,Ct=te.unstable_cancelCallback,fa=te.unstable_shouldYield,gt=te.unstable_requestPaint,Ft=te.unstable_now,Zn=te.unstable_getCurrentPriorityLevel,Jn=te.unstable_ImmediatePriority,Wn=te.unstable_UserBlockingPriority,$n=te.unstable_NormalPriority,Ks=te.unstable_LowPriority,Nr=te.unstable_IdlePriority,Xs=te.log,Qs=te.unstable_setDisableYieldValue,Rn=null,Jt=null;function Ca(e){if(typeof Xs=="function"&&Qs(e),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(Rn,e)}catch{}}var Wt=Math.clz32?Math.clz32:Ws,Zs=Math.log,Js=Math.LN2;function Ws(e){return e>>>=0,e===0?32:31-(Zs(e)/Js|0)|0}var ei=256,ti=4194304;function Ua(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var i=0,o=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var R=n&134217727;return R!==0?(n=R&~o,n!==0?i=Ua(n):(_&=R,_!==0?i=Ua(_):a||(a=R&~e,a!==0&&(i=Ua(a))))):(R=n&~o,R!==0?i=Ua(R):_!==0?i=Ua(_):a||(a=n&~e,a!==0&&(i=Ua(a)))),i===0?0:t!==0&&t!==i&&(t&o)===0&&(o=i&-i,a=t&-t,o>=a||o===32&&(a&4194048)!==0)?t:i}function Tn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $s(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ur(){var e=ei;return ei<<=1,(ei&4194048)===0&&(ei=256),e}function zr(){var e=ti;return ti<<=1,(ti&62914560)===0&&(ti=4194304),e}function Ui(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function xn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function el(e,t,a,n,i,o){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var R=e.entanglements,G=e.expirationTimes,se=e.hiddenUpdates;for(a=_&~a;0<a;){var ve=31-Wt(a),Ae=1<<ve;R[ve]=0,G[ve]=-1;var ue=se[ve];if(ue!==null)for(se[ve]=null,ve=0;ve<ue.length;ve++){var fe=ue[ve];fe!==null&&(fe.lane&=-536870913)}a&=~Ae}n!==0&&jr(e,n,0),o!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=o&~(_&~t))}function jr(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-Wt(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function Ir(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-Wt(a),i=1<<n;i&t|e[n]&t&&(e[n]|=t),a&=~i}}function Ea(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function zi(){var e=he.p;return e!==0?e:(e=window.event,e===void 0?32:xf(e.type))}function Pr(e,t){var a=he.p;try{return he.p=e,t()}finally{he.p=a}}var $t=Math.random().toString(36).slice(2),kt="__reactFiber$"+$t,yt="__reactProps$"+$t,za="__reactContainer$"+$t,ji="__reactEvents$"+$t,Mt="__reactListeners$"+$t,tl="__reactHandles$"+$t,u="__reactResources$"+$t,l="__reactMarker$"+$t;function s(e){delete e[kt],delete e[yt],delete e[ji],delete e[Mt],delete e[tl]}function r(e){var t=e[kt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[za]||a[kt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=df(e);e!==null;){if(a=e[kt])return a;e=df(e)}return t}e=a,a=e.parentNode}return null}function d(e){if(e=e[kt]||e[za]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function h(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(b(33))}function f(e){var t=e[u];return t||(t=e[u]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function p(e){e[l]=!0}var w=new Set,O={};function U(e,t){F(e,t),F(e+"Capture",t)}function F(e,t){for(O[e]=t,e=0;e<t.length;e++)w.add(t[e])}var Y=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Z={},de={};function Re(e){return Je.call(de,e)?!0:Je.call(Z,e)?!1:Y.test(e)?de[e]=!0:(Z[e]=!0,!1)}function ge(e,t,a){if(Re(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Oe(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Ce(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var xe,ze;function He(e){if(xe===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);xe=t&&t[1]||"",ze=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+e+ze}var Me=!1;function ke(e,t){if(!e||Me)return"";Me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(fe){var ue=fe}Reflect.construct(e,[],Ae)}else{try{Ae.call()}catch(fe){ue=fe}e.call(Ae.prototype)}}else{try{throw Error()}catch(fe){ue=fe}(Ae=e())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(fe){if(fe&&ue&&typeof fe.stack=="string")return[fe.stack,ue.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=n.DetermineComponentFrameRoot(),_=o[0],R=o[1];if(_&&R){var G=_.split(`
`),se=R.split(`
`);for(i=n=0;n<G.length&&!G[n].includes("DetermineComponentFrameRoot");)n++;for(;i<se.length&&!se[i].includes("DetermineComponentFrameRoot");)i++;if(n===G.length||i===se.length)for(n=G.length-1,i=se.length-1;1<=n&&0<=i&&G[n]!==se[i];)i--;for(;1<=n&&0<=i;n--,i--)if(G[n]!==se[i]){if(n!==1||i!==1)do if(n--,i--,0>i||G[n]!==se[i]){var ve=`
`+G[n].replace(" at new "," at ");return e.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",e.displayName)),ve}while(1<=n&&0<=i);break}}}finally{Me=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?He(a):""}function Fe(e){switch(e.tag){case 26:case 27:case 5:return He(e.type);case 16:return He("Lazy");case 13:return He("Suspense");case 19:return He("SuspenseList");case 0:case 15:return ke(e.type,!1);case 11:return ke(e.type.render,!1);case 1:return ke(e.type,!0);case 31:return He("Activity");default:return""}}function je(e){try{var t="";do t+=Fe(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ne(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function et(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lt(e){var t=et(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,o=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(_){n=""+_,o.call(this,_)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(_){n=""+_},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ve(e){e._valueTracker||(e._valueTracker=lt(e))}function Xe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=et(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function rt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rt=/[\n"\\]/g;function vt(e){return e.replace(Rt,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function wt(e,t,a,n,i,o,_,R){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),t!=null?_==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ne(t)):e.value!==""+Ne(t)&&(e.value=""+Ne(t)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),t!=null?Nt(e,_,Ne(t)):a!=null?Nt(e,_,Ne(a)):n!=null&&e.removeAttribute("value"),i==null&&o!=null&&(e.defaultChecked=!!o),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.name=""+Ne(R):e.removeAttribute("name")}function Kt(e,t,a,n,i,o,_,R){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||a!=null){if(!(o!=="submit"&&o!=="reset"||t!=null))return;a=a!=null?""+Ne(a):"",t=t!=null?""+Ne(t):a,R||t===e.value||(e.value=t),e.defaultValue=t}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=R?e.checked:!!n,e.defaultChecked=!!n,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Nt(e,t,a){t==="number"&&rt(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function St(e,t,a,n){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Ne(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function It(e,t,a){if(t!=null&&(t=""+Ne(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ne(a):""}function nt(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(b(92));if(be(n)){if(1<n.length)throw Error(b(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Ne(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function Xt(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Aa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cn(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||Aa.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Ii(e,t,a){if(t!=null&&typeof t!="object")throw Error(b(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&a[i]!==n&&Cn(e,i,n)}else for(var o in t)t.hasOwnProperty(o)&&Cn(e,o,t[o])}function Pi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ma(e){return Mn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ii=null;function Dn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Da=null,ha=null;function ri(e){var t=d(e);if(t&&(e=t.stateNode)){var a=e[yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(wt(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var i=n[yt]||null;if(!i)throw Error(b(90));wt(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Xe(n)}break e;case"textarea":It(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&St(e,!!a.multiple,t,!1)}}}var On=!1;function wn(e,t,a){if(On)return e(t,a);On=!0;try{var n=e(t);return n}finally{if(On=!1,(Da!==null||ha!==null)&&(Ts(),Da&&(t=Da,e=ha,ha=Da=null,ri(t),e)))for(t=0;t<e.length;t++)ri(e[t])}}function Wa(e,t){var a=e.stateNode;if(a===null)return null;var n=a[yt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(b(231,t,typeof a));return a}var _a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ln=!1;if(_a)try{var $a={};Object.defineProperty($a,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{Ln=!1}var Oa=null,si=null,Bn=null;function Vi(){if(Bn)return Bn;var e,t=si,a=t.length,n,i="value"in Oa?Oa.value:Oa.textContent,o=i.length;for(e=0;e<a&&t[e]===i[e];e++);var _=a-e;for(n=1;n<=_&&t[a-n]===i[o-n];n++);return Bn=i.slice(e,1<n?1-n:void 0)}function Gr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hr(){return!0}function cu(){return!1}function ta(e){function t(a,n,i,o,_){this._reactName=a,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=_,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(a=e[R],this[R]=a?a(o):o[R]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Hr:cu,this.isPropagationStopped=cu,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hr)},persist:function(){},isPersistent:Hr}),t}var kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qr=ta(kn),Gi=S({},kn,{view:0,detail:0}),ch=ta(Gi),al,nl,Hi,Yr=S({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hi&&(Hi&&e.type==="mousemove"?(al=e.screenX-Hi.screenX,nl=e.screenY-Hi.screenY):nl=al=0,Hi=e),al)},movementY:function(e){return"movementY"in e?e.movementY:nl}}),du=ta(Yr),dh=S({},Yr,{dataTransfer:0}),fh=ta(dh),hh=S({},Gi,{relatedTarget:0}),il=ta(hh),_h=S({},kn,{animationName:0,elapsedTime:0,pseudoElement:0}),ph=ta(_h),mh=S({},kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gh=ta(mh),yh=S({},kn,{data:0}),fu=ta(yh),vh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sh[e])?!!t[e]:!1}function rl(){return Eh}var Ah=S({},Gi,{key:function(e){if(e.key){var t=vh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rl,charCode:function(e){return e.type==="keypress"?Gr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rh=ta(Ah),Th=S({},Yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hu=ta(Th),xh=S({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rl}),Ch=ta(xh),Mh=S({},kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dh=ta(Mh),Oh=S({},Yr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wh=ta(Oh),Lh=S({},kn,{newState:0,oldState:0}),Bh=ta(Lh),kh=[9,13,27,32],sl=_a&&"CompositionEvent"in window,qi=null;_a&&"documentMode"in document&&(qi=document.documentMode);var Nh=_a&&"TextEvent"in window&&!qi,_u=_a&&(!sl||qi&&8<qi&&11>=qi),pu=" ",mu=!1;function gu(e,t){switch(e){case"keyup":return kh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var li=!1;function Uh(e,t){switch(e){case"compositionend":return yu(t);case"keypress":return t.which!==32?null:(mu=!0,pu);case"textInput":return e=t.data,e===pu&&mu?null:e;default:return null}}function zh(e,t){if(li)return e==="compositionend"||!sl&&gu(e,t)?(e=Vi(),Bn=si=Oa=null,li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _u&&t.locale!=="ko"?null:t.data;default:return null}}var jh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jh[e.type]:t==="textarea"}function bu(e,t,a,n){Da?ha?ha.push(n):ha=[n]:Da=n,t=ws(t,"onChange"),0<t.length&&(a=new qr("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Yi=null,Fi=null;function Ih(e){ef(e,0)}function Fr(e){var t=h(e);if(Xe(t))return e}function Su(e,t){if(e==="change")return t}var Eu=!1;if(_a){var ll;if(_a){var ol="oninput"in document;if(!ol){var Au=document.createElement("div");Au.setAttribute("oninput","return;"),ol=typeof Au.oninput=="function"}ll=ol}else ll=!1;Eu=ll&&(!document.documentMode||9<document.documentMode)}function Ru(){Yi&&(Yi.detachEvent("onpropertychange",Tu),Fi=Yi=null)}function Tu(e){if(e.propertyName==="value"&&Fr(Fi)){var t=[];bu(t,Fi,e,Dn(e)),wn(Ih,t)}}function Ph(e,t,a){e==="focusin"?(Ru(),Yi=t,Fi=a,Yi.attachEvent("onpropertychange",Tu)):e==="focusout"&&Ru()}function Vh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fr(Fi)}function Gh(e,t){if(e==="click")return Fr(t)}function Hh(e,t){if(e==="input"||e==="change")return Fr(t)}function qh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ra=typeof Object.is=="function"?Object.is:qh;function Ki(e,t){if(ra(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var i=a[n];if(!Je.call(t,i)||!ra(e[i],t[i]))return!1}return!0}function xu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cu(e,t){var a=xu(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xu(a)}}function Mu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Du(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=rt(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=rt(e.document)}return t}function ul(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Yh=_a&&"documentMode"in document&&11>=document.documentMode,oi=null,cl=null,Xi=null,dl=!1;function Ou(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;dl||oi==null||oi!==rt(n)||(n=oi,"selectionStart"in n&&ul(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xi&&Ki(Xi,n)||(Xi=n,n=ws(cl,"onSelect"),0<n.length&&(t=new qr("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=oi)))}function Nn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var ui={animationend:Nn("Animation","AnimationEnd"),animationiteration:Nn("Animation","AnimationIteration"),animationstart:Nn("Animation","AnimationStart"),transitionrun:Nn("Transition","TransitionRun"),transitionstart:Nn("Transition","TransitionStart"),transitioncancel:Nn("Transition","TransitionCancel"),transitionend:Nn("Transition","TransitionEnd")},fl={},wu={};_a&&(wu=document.createElement("div").style,"AnimationEvent"in window||(delete ui.animationend.animation,delete ui.animationiteration.animation,delete ui.animationstart.animation),"TransitionEvent"in window||delete ui.transitionend.transition);function Un(e){if(fl[e])return fl[e];if(!ui[e])return e;var t=ui[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in wu)return fl[e]=t[a];return e}var Lu=Un("animationend"),Bu=Un("animationiteration"),ku=Un("animationstart"),Fh=Un("transitionrun"),Kh=Un("transitionstart"),Xh=Un("transitioncancel"),Nu=Un("transitionend"),Uu=new Map,hl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hl.push("scrollEnd");function Ra(e,t){Uu.set(e,t),U(t,[e])}var zu=new WeakMap;function pa(e,t){if(typeof e=="object"&&e!==null){var a=zu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:je(t)},zu.set(e,t),t)}return{value:e,source:t,stack:je(t)}}var ma=[],ci=0,_l=0;function Kr(){for(var e=ci,t=_l=ci=0;t<e;){var a=ma[t];ma[t++]=null;var n=ma[t];ma[t++]=null;var i=ma[t];ma[t++]=null;var o=ma[t];if(ma[t++]=null,n!==null&&i!==null){var _=n.pending;_===null?i.next=i:(i.next=_.next,_.next=i),n.pending=i}o!==0&&ju(a,i,o)}}function Xr(e,t,a,n){ma[ci++]=e,ma[ci++]=t,ma[ci++]=a,ma[ci++]=n,_l|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function pl(e,t,a,n){return Xr(e,t,a,n),Qr(e)}function di(e,t){return Xr(e,null,null,t),Qr(e)}function ju(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var i=!1,o=e.return;o!==null;)o.childLanes|=a,n=o.alternate,n!==null&&(n.childLanes|=a),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(i=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,i&&t!==null&&(i=31-Wt(a),e=o.hiddenUpdates,n=e[i],n===null?e[i]=[t]:n.push(t),t.lane=a|536870912),o):null}function Qr(e){if(50<vr)throw vr=0,Eo=null,Error(b(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var fi={};function Qh(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(e,t,a,n){return new Qh(e,t,a,n)}function ml(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ja(e,t){var a=e.alternate;return a===null?(a=sa(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Iu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Zr(e,t,a,n,i,o){var _=0;if(n=e,typeof e=="function")ml(e)&&(_=1);else if(typeof e=="string")_=J_(e,a,_e.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case E:return e=sa(31,a,t,i),e.elementType=E,e.lanes=o,e;case z:return zn(a.children,i,o,t);case V:_=8,i|=24;break;case K:return e=sa(12,a,t,i|2),e.elementType=K,e.lanes=o,e;case $:return e=sa(13,a,t,i),e.elementType=$,e.lanes=o,e;case re:return e=sa(19,a,t,i),e.elementType=re,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:case ce:_=10;break e;case Q:_=9;break e;case I:_=11;break e;case H:_=14;break e;case x:_=16,n=null;break e}_=29,a=Error(b(130,e===null?"null":typeof e,"")),n=null}return t=sa(_,a,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function zn(e,t,a,n){return e=sa(7,e,n,t),e.lanes=a,e}function gl(e,t,a){return e=sa(6,e,null,t),e.lanes=a,e}function yl(e,t,a){return t=sa(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var hi=[],_i=0,Jr=null,Wr=0,ga=[],ya=0,jn=null,Ia=1,Pa="";function In(e,t){hi[_i++]=Wr,hi[_i++]=Jr,Jr=e,Wr=t}function Pu(e,t,a){ga[ya++]=Ia,ga[ya++]=Pa,ga[ya++]=jn,jn=e;var n=Ia;e=Pa;var i=32-Wt(n)-1;n&=~(1<<i),a+=1;var o=32-Wt(t)+i;if(30<o){var _=i-i%5;o=(n&(1<<_)-1).toString(32),n>>=_,i-=_,Ia=1<<32-Wt(t)+i|a<<i|n,Pa=o+e}else Ia=1<<o|a<<i|n,Pa=e}function vl(e){e.return!==null&&(In(e,1),Pu(e,1,0))}function bl(e){for(;e===Jr;)Jr=hi[--_i],hi[_i]=null,Wr=hi[--_i],hi[_i]=null;for(;e===jn;)jn=ga[--ya],ga[ya]=null,Pa=ga[--ya],ga[ya]=null,Ia=ga[--ya],ga[ya]=null}var ea=null,Tt=null,ot=!1,Pn=null,wa=!1,Sl=Error(b(519));function Vn(e){var t=Error(b(418,""));throw Ji(pa(t,e)),Sl}function Vu(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[kt]=e,t[yt]=n,a){case"dialog":at("cancel",t),at("close",t);break;case"iframe":case"object":case"embed":at("load",t);break;case"video":case"audio":for(a=0;a<Sr.length;a++)at(Sr[a],t);break;case"source":at("error",t);break;case"img":case"image":case"link":at("error",t),at("load",t);break;case"details":at("toggle",t);break;case"input":at("invalid",t),Kt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Ve(t);break;case"select":at("invalid",t);break;case"textarea":at("invalid",t),nt(t,n.value,n.defaultValue,n.children),Ve(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||rf(t.textContent,a)?(n.popover!=null&&(at("beforetoggle",t),at("toggle",t)),n.onScroll!=null&&at("scroll",t),n.onScrollEnd!=null&&at("scrollend",t),n.onClick!=null&&(t.onclick=Ls),t=!0):t=!1,t||Vn(e)}function Gu(e){for(ea=e.return;ea;)switch(ea.tag){case 5:case 13:wa=!1;return;case 27:case 3:wa=!0;return;default:ea=ea.return}}function Qi(e){if(e!==ea)return!1;if(!ot)return Gu(e),ot=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||jo(e.type,e.memoizedProps)),a=!a),a&&Tt&&Vn(e),Gu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Tt=xa(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Tt=null}}else t===27?(t=Tt,mn(e.type)?(e=Go,Go=null,Tt=e):Tt=t):Tt=ea?xa(e.stateNode.nextSibling):null;return!0}function Zi(){Tt=ea=null,ot=!1}function Hu(){var e=Pn;return e!==null&&(ia===null?ia=e:ia.push.apply(ia,e),Pn=null),e}function Ji(e){Pn===null?Pn=[e]:Pn.push(e)}var El=v(null),Gn=null,Va=null;function en(e,t,a){ae(El,t._currentValue),t._currentValue=a}function Ga(e){e._currentValue=El.current,q(El)}function Al(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Rl(e,t,a,n){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){var _=i.child;o=o.firstContext;e:for(;o!==null;){var R=o;o=i;for(var G=0;G<t.length;G++)if(R.context===t[G]){o.lanes|=a,R=o.alternate,R!==null&&(R.lanes|=a),Al(o.return,a,e),n||(_=null);break e}o=R.next}}else if(i.tag===18){if(_=i.return,_===null)throw Error(b(341));_.lanes|=a,o=_.alternate,o!==null&&(o.lanes|=a),Al(_,a,e),_=null}else _=i.child;if(_!==null)_.return=i;else for(_=i;_!==null;){if(_===e){_=null;break}if(i=_.sibling,i!==null){i.return=_.return,_=i;break}_=_.return}i=_}}function Wi(e,t,a,n){e=null;for(var i=t,o=!1;i!==null;){if(!o){if((i.flags&524288)!==0)o=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var _=i.alternate;if(_===null)throw Error(b(387));if(_=_.memoizedProps,_!==null){var R=i.type;ra(i.pendingProps.value,_.value)||(e!==null?e.push(R):e=[R])}}else if(i===me.current){if(_=i.alternate,_===null)throw Error(b(387));_.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Cr):e=[Cr])}i=i.return}e!==null&&Rl(t,e,a,n),t.flags|=262144}function $r(e){for(e=e.firstContext;e!==null;){if(!ra(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Hn(e){Gn=e,Va=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qt(e){return qu(Gn,e)}function es(e,t){return Gn===null&&Hn(e),qu(e,t)}function qu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Va===null){if(e===null)throw Error(b(308));Va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Va=Va.next=t;return a}var Zh=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Jh=te.unstable_scheduleCallback,Wh=te.unstable_NormalPriority,Ut={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tl(){return{controller:new Zh,data:new Map,refCount:0}}function $i(e){e.refCount--,e.refCount===0&&Jh(Wh,function(){e.controller.abort()})}var er=null,xl=0,pi=0,mi=null;function $h(e,t){if(er===null){var a=er=[];xl=0,pi=Do(),mi={status:"pending",value:void 0,then:function(n){a.push(n)}}}return xl++,t.then(Yu,Yu),t}function Yu(){if(--xl===0&&er!==null){mi!==null&&(mi.status="fulfilled");var e=er;er=null,pi=0,mi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function e_(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var i=0;i<a.length;i++)(0,a[i])(t)},function(i){for(n.status="rejected",n.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),n}var Fu=k.S;k.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&$h(e,t),Fu!==null&&Fu(e,t)};var qn=v(null);function Cl(){var e=qn.current;return e!==null?e:mt.pooledCache}function ts(e,t){t===null?ae(qn,qn.current):ae(qn,t.pool)}function Ku(){var e=Cl();return e===null?null:{parent:Ut._currentValue,pool:e}}var tr=Error(b(460)),Xu=Error(b(474)),as=Error(b(542)),Ml={then:function(){}};function Qu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ns(){}function Zu(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ns,ns),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Wu(e),e;default:if(typeof t.status=="string")t.then(ns,ns);else{if(e=mt,e!==null&&100<e.shellSuspendCounter)throw Error(b(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=n}},function(n){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Wu(e),e}throw ar=t,tr}}var ar=null;function Ju(){if(ar===null)throw Error(b(459));var e=ar;return ar=null,e}function Wu(e){if(e===tr||e===as)throw Error(b(483))}var tn=!1;function Dl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ol(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function an(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function nn(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(ut&2)!==0){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=Qr(e),ju(e,null,a),t}return Xr(e,n,t,a),Qr(e)}function nr(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Ir(e,a)}}function wl(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var i=null,o=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};o===null?i=o=_:o=o.next=_,a=a.next}while(a!==null);o===null?i=o=t:o=o.next=t}else i=o=t;a={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Ll=!1;function ir(){if(Ll){var e=mi;if(e!==null)throw e}}function rr(e,t,a,n){Ll=!1;var i=e.updateQueue;tn=!1;var o=i.firstBaseUpdate,_=i.lastBaseUpdate,R=i.shared.pending;if(R!==null){i.shared.pending=null;var G=R,se=G.next;G.next=null,_===null?o=se:_.next=se,_=G;var ve=e.alternate;ve!==null&&(ve=ve.updateQueue,R=ve.lastBaseUpdate,R!==_&&(R===null?ve.firstBaseUpdate=se:R.next=se,ve.lastBaseUpdate=G))}if(o!==null){var Ae=i.baseState;_=0,ve=se=G=null,R=o;do{var ue=R.lane&-536870913,fe=ue!==R.lane;if(fe?(it&ue)===ue:(n&ue)===ue){ue!==0&&ue===pi&&(Ll=!0),ve!==null&&(ve=ve.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ye=e,Ge=R;ue=t;var _t=a;switch(Ge.tag){case 1:if(Ye=Ge.payload,typeof Ye=="function"){Ae=Ye.call(_t,Ae,ue);break e}Ae=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=Ge.payload,ue=typeof Ye=="function"?Ye.call(_t,Ae,ue):Ye,ue==null)break e;Ae=S({},Ae,ue);break e;case 2:tn=!0}}ue=R.callback,ue!==null&&(e.flags|=64,fe&&(e.flags|=8192),fe=i.callbacks,fe===null?i.callbacks=[ue]:fe.push(ue))}else fe={lane:ue,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ve===null?(se=ve=fe,G=Ae):ve=ve.next=fe,_|=ue;if(R=R.next,R===null){if(R=i.shared.pending,R===null)break;fe=R,R=fe.next,fe.next=null,i.lastBaseUpdate=fe,i.shared.pending=null}}while(!0);ve===null&&(G=Ae),i.baseState=G,i.firstBaseUpdate=se,i.lastBaseUpdate=ve,o===null&&(i.shared.lanes=0),fn|=_,e.lanes=_,e.memoizedState=Ae}}function $u(e,t){if(typeof e!="function")throw Error(b(191,e));e.call(t)}function ec(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)$u(a[e],t)}var gi=v(null),is=v(0);function tc(e,t){e=Qa,ae(is,e),ae(gi,t),Qa=e|t.baseLanes}function Bl(){ae(is,Qa),ae(gi,gi.current)}function kl(){Qa=is.current,q(gi),q(is)}var rn=0,We=null,ft=null,Lt=null,rs=!1,yi=!1,Yn=!1,ss=0,sr=0,vi=null,t_=0;function Dt(){throw Error(b(321))}function Nl(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ra(e[a],t[a]))return!1;return!0}function Ul(e,t,a,n,i,o){return rn=o,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?jc:Ic,Yn=!1,o=a(n,i),Yn=!1,yi&&(o=nc(t,a,n,i)),ac(e),o}function ac(e){k.H=fs;var t=ft!==null&&ft.next!==null;if(rn=0,Lt=ft=We=null,rs=!1,sr=0,vi=null,t)throw Error(b(300));e===null||Pt||(e=e.dependencies,e!==null&&$r(e)&&(Pt=!0))}function nc(e,t,a,n){We=e;var i=0;do{if(yi&&(vi=null),sr=0,yi=!1,25<=i)throw Error(b(301));if(i+=1,Lt=ft=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}k.H=o_,o=t(a,n)}while(yi);return o}function a_(){var e=k.H,t=e.useState()[0];return t=typeof t.then=="function"?lr(t):t,e=e.useState()[0],(ft!==null?ft.memoizedState:null)!==e&&(We.flags|=1024),t}function zl(){var e=ss!==0;return ss=0,e}function jl(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Il(e){if(rs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}rs=!1}rn=0,Lt=ft=We=null,yi=!1,sr=ss=0,vi=null}function aa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?We.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function Bt(){if(ft===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=Lt===null?We.memoizedState:Lt.next;if(t!==null)Lt=t,ft=e;else{if(e===null)throw We.alternate===null?Error(b(467)):Error(b(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Lt===null?We.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function Pl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lr(e){var t=sr;return sr+=1,vi===null&&(vi=[]),e=Zu(vi,e,t),t=We,(Lt===null?t.memoizedState:Lt.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?jc:Ic),e}function ls(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return lr(e);if(e.$$typeof===ce)return Qt(e)}throw Error(b(438,String(e)))}function Vl(e){var t=null,a=We.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=We.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Pl(),We.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=T;return t.index++,a}function Ha(e,t){return typeof t=="function"?t(e):t}function os(e){var t=Bt();return Gl(t,ft,e)}function Gl(e,t,a){var n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=a;var i=e.baseQueue,o=n.pending;if(o!==null){if(i!==null){var _=i.next;i.next=o.next,o.next=_}t.baseQueue=i=o,n.pending=null}if(o=e.baseState,i===null)e.memoizedState=o;else{t=i.next;var R=_=null,G=null,se=t,ve=!1;do{var Ae=se.lane&-536870913;if(Ae!==se.lane?(it&Ae)===Ae:(rn&Ae)===Ae){var ue=se.revertLane;if(ue===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),Ae===pi&&(ve=!0);else if((rn&ue)===ue){se=se.next,ue===pi&&(ve=!0);continue}else Ae={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},G===null?(R=G=Ae,_=o):G=G.next=Ae,We.lanes|=ue,fn|=ue;Ae=se.action,Yn&&a(o,Ae),o=se.hasEagerState?se.eagerState:a(o,Ae)}else ue={lane:Ae,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},G===null?(R=G=ue,_=o):G=G.next=ue,We.lanes|=Ae,fn|=Ae;se=se.next}while(se!==null&&se!==t);if(G===null?_=o:G.next=R,!ra(o,e.memoizedState)&&(Pt=!0,ve&&(a=mi,a!==null)))throw a;e.memoizedState=o,e.baseState=_,e.baseQueue=G,n.lastRenderedState=o}return i===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Hl(e){var t=Bt(),a=t.queue;if(a===null)throw Error(b(311));a.lastRenderedReducer=e;var n=a.dispatch,i=a.pending,o=t.memoizedState;if(i!==null){a.pending=null;var _=i=i.next;do o=e(o,_.action),_=_.next;while(_!==i);ra(o,t.memoizedState)||(Pt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),a.lastRenderedState=o}return[o,n]}function ic(e,t,a){var n=We,i=Bt(),o=ot;if(o){if(a===void 0)throw Error(b(407));a=a()}else a=t();var _=!ra((ft||i).memoizedState,a);_&&(i.memoizedState=a,Pt=!0),i=i.queue;var R=lc.bind(null,n,i,e);if(or(2048,8,R,[e]),i.getSnapshot!==t||_||Lt!==null&&Lt.memoizedState.tag&1){if(n.flags|=2048,bi(9,us(),sc.bind(null,n,i,a,t),null),mt===null)throw Error(b(349));o||(rn&124)!==0||rc(n,t,a)}return a}function rc(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=We.updateQueue,t===null?(t=Pl(),We.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function sc(e,t,a,n){t.value=a,t.getSnapshot=n,oc(t)&&uc(e)}function lc(e,t,a){return a(function(){oc(t)&&uc(e)})}function oc(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ra(e,a)}catch{return!0}}function uc(e){var t=di(e,2);t!==null&&da(t,e,2)}function ql(e){var t=aa();if(typeof e=="function"){var a=e;if(e=a(),Yn){Ca(!0);try{a()}finally{Ca(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:e},t}function cc(e,t,a,n){return e.baseState=a,Gl(e,ft,typeof n=="function"?n:Ha)}function n_(e,t,a,n,i){if(ds(e))throw Error(b(485));if(e=t.action,e!==null){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){o.listeners.push(_)}};k.T!==null?a(!0):o.isTransition=!1,n(o),a=t.pending,a===null?(o.next=t.pending=o,dc(t,o)):(o.next=a.next,t.pending=a.next=o)}}function dc(e,t){var a=t.action,n=t.payload,i=e.state;if(t.isTransition){var o=k.T,_={};k.T=_;try{var R=a(i,n),G=k.S;G!==null&&G(_,R),fc(e,t,R)}catch(se){Yl(e,t,se)}finally{k.T=o}}else try{o=a(i,n),fc(e,t,o)}catch(se){Yl(e,t,se)}}function fc(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){hc(e,t,n)},function(n){return Yl(e,t,n)}):hc(e,t,a)}function hc(e,t,a){t.status="fulfilled",t.value=a,_c(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,dc(e,a)))}function Yl(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,_c(t),t=t.next;while(t!==n)}e.action=null}function _c(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function pc(e,t){return t}function mc(e,t){if(ot){var a=mt.formState;if(a!==null){e:{var n=We;if(ot){if(Tt){t:{for(var i=Tt,o=wa;i.nodeType!==8;){if(!o){i=null;break t}if(i=xa(i.nextSibling),i===null){i=null;break t}}o=i.data,i=o==="F!"||o==="F"?i:null}if(i){Tt=xa(i.nextSibling),n=i.data==="F!";break e}}Vn(n)}n=!1}n&&(t=a[0])}}return a=aa(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pc,lastRenderedState:t},a.queue=n,a=Nc.bind(null,We,n),n.dispatch=a,n=ql(!1),o=Zl.bind(null,We,!1,n.queue),n=aa(),i={state:t,dispatch:null,action:e,pending:null},n.queue=i,a=n_.bind(null,We,i,o,a),i.dispatch=a,n.memoizedState=e,[t,a,!1]}function gc(e){var t=Bt();return yc(t,ft,e)}function yc(e,t,a){if(t=Gl(e,t,pc)[0],e=os(Ha)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=lr(t)}catch(_){throw _===tr?as:_}else n=t;t=Bt();var i=t.queue,o=i.dispatch;return a!==t.memoizedState&&(We.flags|=2048,bi(9,us(),i_.bind(null,i,a),null)),[n,o,e]}function i_(e,t){e.action=t}function vc(e){var t=Bt(),a=ft;if(a!==null)return yc(t,a,e);Bt(),t=t.memoizedState,a=Bt();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function bi(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=We.updateQueue,t===null&&(t=Pl(),We.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function us(){return{destroy:void 0,resource:void 0}}function bc(){return Bt().memoizedState}function cs(e,t,a,n){var i=aa();n=n===void 0?null:n,We.flags|=e,i.memoizedState=bi(1|t,us(),a,n)}function or(e,t,a,n){var i=Bt();n=n===void 0?null:n;var o=i.memoizedState.inst;ft!==null&&n!==null&&Nl(n,ft.memoizedState.deps)?i.memoizedState=bi(t,o,a,n):(We.flags|=e,i.memoizedState=bi(1|t,o,a,n))}function Sc(e,t){cs(8390656,8,e,t)}function Ec(e,t){or(2048,8,e,t)}function Ac(e,t){return or(4,2,e,t)}function Rc(e,t){return or(4,4,e,t)}function Tc(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xc(e,t,a){a=a!=null?a.concat([e]):null,or(4,4,Tc.bind(null,t,e),a)}function Fl(){}function Cc(e,t){var a=Bt();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Nl(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Mc(e,t){var a=Bt();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Nl(t,n[1]))return n[0];if(n=e(),Yn){Ca(!0);try{e()}finally{Ca(!1)}}return a.memoizedState=[n,t],n}function Kl(e,t,a){return a===void 0||(rn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=wd(),We.lanes|=e,fn|=e,a)}function Dc(e,t,a,n){return ra(a,t)?a:gi.current!==null?(e=Kl(e,a,n),ra(e,t)||(Pt=!0),e):(rn&42)===0?(Pt=!0,e.memoizedState=a):(e=wd(),We.lanes|=e,fn|=e,t)}function Oc(e,t,a,n,i){var o=he.p;he.p=o!==0&&8>o?o:8;var _=k.T,R={};k.T=R,Zl(e,!1,t,a);try{var G=i(),se=k.S;if(se!==null&&se(R,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ve=e_(G,n);ur(e,t,ve,ca(e))}else ur(e,t,n,ca(e))}catch(Ae){ur(e,t,{then:function(){},status:"rejected",reason:Ae},ca())}finally{he.p=o,k.T=_}}function r_(){}function Xl(e,t,a,n){if(e.tag!==5)throw Error(b(476));var i=wc(e).queue;Oc(e,i,t,le,a===null?r_:function(){return Lc(e),a(n)})}function wc(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:le},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Lc(e){var t=wc(e).next.queue;ur(e,t,{},ca())}function Ql(){return Qt(Cr)}function Bc(){return Bt().memoizedState}function kc(){return Bt().memoizedState}function s_(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ca();e=an(a);var n=nn(t,e,a);n!==null&&(da(n,t,a),nr(n,t,a)),t={cache:Tl()},e.payload=t;return}t=t.return}}function l_(e,t,a){var n=ca();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ds(e)?Uc(t,a):(a=pl(e,t,a,n),a!==null&&(da(a,e,n),zc(a,t,n)))}function Nc(e,t,a){var n=ca();ur(e,t,a,n)}function ur(e,t,a,n){var i={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ds(e))Uc(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var _=t.lastRenderedState,R=o(_,a);if(i.hasEagerState=!0,i.eagerState=R,ra(R,_))return Xr(e,t,i,0),mt===null&&Kr(),!1}catch{}finally{}if(a=pl(e,t,i,n),a!==null)return da(a,e,n),zc(a,t,n),!0}return!1}function Zl(e,t,a,n){if(n={lane:2,revertLane:Do(),action:n,hasEagerState:!1,eagerState:null,next:null},ds(e)){if(t)throw Error(b(479))}else t=pl(e,a,n,2),t!==null&&da(t,e,2)}function ds(e){var t=e.alternate;return e===We||t!==null&&t===We}function Uc(e,t){yi=rs=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function zc(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Ir(e,a)}}var fs={readContext:Qt,use:ls,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt},jc={readContext:Qt,use:ls,useCallback:function(e,t){return aa().memoizedState=[e,t===void 0?null:t],e},useContext:Qt,useEffect:Sc,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,cs(4194308,4,Tc.bind(null,t,e),a)},useLayoutEffect:function(e,t){return cs(4194308,4,e,t)},useInsertionEffect:function(e,t){cs(4,2,e,t)},useMemo:function(e,t){var a=aa();t=t===void 0?null:t;var n=e();if(Yn){Ca(!0);try{e()}finally{Ca(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=aa();if(a!==void 0){var i=a(t);if(Yn){Ca(!0);try{a(t)}finally{Ca(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=l_.bind(null,We,e),[n.memoizedState,e]},useRef:function(e){var t=aa();return e={current:e},t.memoizedState=e},useState:function(e){e=ql(e);var t=e.queue,a=Nc.bind(null,We,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Fl,useDeferredValue:function(e,t){var a=aa();return Kl(a,e,t)},useTransition:function(){var e=ql(!1);return e=Oc.bind(null,We,e.queue,!0,!1),aa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=We,i=aa();if(ot){if(a===void 0)throw Error(b(407));a=a()}else{if(a=t(),mt===null)throw Error(b(349));(it&124)!==0||rc(n,t,a)}i.memoizedState=a;var o={value:a,getSnapshot:t};return i.queue=o,Sc(lc.bind(null,n,o,e),[e]),n.flags|=2048,bi(9,us(),sc.bind(null,n,o,a,t),null),a},useId:function(){var e=aa(),t=mt.identifierPrefix;if(ot){var a=Pa,n=Ia;a=(n&~(1<<32-Wt(n)-1)).toString(32)+a,t="«"+t+"R"+a,a=ss++,0<a&&(t+="H"+a.toString(32)),t+="»"}else a=t_++,t="«"+t+"r"+a.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Ql,useFormState:mc,useActionState:mc,useOptimistic:function(e){var t=aa();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Zl.bind(null,We,!0,a),a.dispatch=t,[e,t]},useMemoCache:Vl,useCacheRefresh:function(){return aa().memoizedState=s_.bind(null,We)}},Ic={readContext:Qt,use:ls,useCallback:Cc,useContext:Qt,useEffect:Ec,useImperativeHandle:xc,useInsertionEffect:Ac,useLayoutEffect:Rc,useMemo:Mc,useReducer:os,useRef:bc,useState:function(){return os(Ha)},useDebugValue:Fl,useDeferredValue:function(e,t){var a=Bt();return Dc(a,ft.memoizedState,e,t)},useTransition:function(){var e=os(Ha)[0],t=Bt().memoizedState;return[typeof e=="boolean"?e:lr(e),t]},useSyncExternalStore:ic,useId:Bc,useHostTransitionStatus:Ql,useFormState:gc,useActionState:gc,useOptimistic:function(e,t){var a=Bt();return cc(a,ft,e,t)},useMemoCache:Vl,useCacheRefresh:kc},o_={readContext:Qt,use:ls,useCallback:Cc,useContext:Qt,useEffect:Ec,useImperativeHandle:xc,useInsertionEffect:Ac,useLayoutEffect:Rc,useMemo:Mc,useReducer:Hl,useRef:bc,useState:function(){return Hl(Ha)},useDebugValue:Fl,useDeferredValue:function(e,t){var a=Bt();return ft===null?Kl(a,e,t):Dc(a,ft.memoizedState,e,t)},useTransition:function(){var e=Hl(Ha)[0],t=Bt().memoizedState;return[typeof e=="boolean"?e:lr(e),t]},useSyncExternalStore:ic,useId:Bc,useHostTransitionStatus:Ql,useFormState:vc,useActionState:vc,useOptimistic:function(e,t){var a=Bt();return ft!==null?cc(a,ft,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Vl,useCacheRefresh:kc},Si=null,cr=0;function hs(e){var t=cr;return cr+=1,Si===null&&(Si=[]),Zu(Si,e,t)}function dr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function _s(e,t){throw t.$$typeof===M?Error(b(525)):(e=Object.prototype.toString.call(t),Error(b(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Pc(e){var t=e._init;return t(e._payload)}function Vc(e){function t(ee,X){if(e){var ie=ee.deletions;ie===null?(ee.deletions=[X],ee.flags|=16):ie.push(X)}}function a(ee,X){if(!e)return null;for(;X!==null;)t(ee,X),X=X.sibling;return null}function n(ee){for(var X=new Map;ee!==null;)ee.key!==null?X.set(ee.key,ee):X.set(ee.index,ee),ee=ee.sibling;return X}function i(ee,X){return ee=ja(ee,X),ee.index=0,ee.sibling=null,ee}function o(ee,X,ie){return ee.index=ie,e?(ie=ee.alternate,ie!==null?(ie=ie.index,ie<X?(ee.flags|=67108866,X):ie):(ee.flags|=67108866,X)):(ee.flags|=1048576,X)}function _(ee){return e&&ee.alternate===null&&(ee.flags|=67108866),ee}function R(ee,X,ie,Se){return X===null||X.tag!==6?(X=gl(ie,ee.mode,Se),X.return=ee,X):(X=i(X,ie),X.return=ee,X)}function G(ee,X,ie,Se){var Be=ie.type;return Be===z?ve(ee,X,ie.props.children,Se,ie.key):X!==null&&(X.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===x&&Pc(Be)===X.type)?(X=i(X,ie.props),dr(X,ie),X.return=ee,X):(X=Zr(ie.type,ie.key,ie.props,null,ee.mode,Se),dr(X,ie),X.return=ee,X)}function se(ee,X,ie,Se){return X===null||X.tag!==4||X.stateNode.containerInfo!==ie.containerInfo||X.stateNode.implementation!==ie.implementation?(X=yl(ie,ee.mode,Se),X.return=ee,X):(X=i(X,ie.children||[]),X.return=ee,X)}function ve(ee,X,ie,Se,Be){return X===null||X.tag!==7?(X=zn(ie,ee.mode,Se,Be),X.return=ee,X):(X=i(X,ie),X.return=ee,X)}function Ae(ee,X,ie){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=gl(""+X,ee.mode,ie),X.return=ee,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case L:return ie=Zr(X.type,X.key,X.props,null,ee.mode,ie),dr(ie,X),ie.return=ee,ie;case C:return X=yl(X,ee.mode,ie),X.return=ee,X;case x:var Se=X._init;return X=Se(X._payload),Ae(ee,X,ie)}if(be(X)||oe(X))return X=zn(X,ee.mode,ie,null),X.return=ee,X;if(typeof X.then=="function")return Ae(ee,hs(X),ie);if(X.$$typeof===ce)return Ae(ee,es(ee,X),ie);_s(ee,X)}return null}function ue(ee,X,ie,Se){var Be=X!==null?X.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Be!==null?null:R(ee,X,""+ie,Se);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case L:return ie.key===Be?G(ee,X,ie,Se):null;case C:return ie.key===Be?se(ee,X,ie,Se):null;case x:return Be=ie._init,ie=Be(ie._payload),ue(ee,X,ie,Se)}if(be(ie)||oe(ie))return Be!==null?null:ve(ee,X,ie,Se,null);if(typeof ie.then=="function")return ue(ee,X,hs(ie),Se);if(ie.$$typeof===ce)return ue(ee,X,es(ee,ie),Se);_s(ee,ie)}return null}function fe(ee,X,ie,Se,Be){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return ee=ee.get(ie)||null,R(X,ee,""+Se,Be);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case L:return ee=ee.get(Se.key===null?ie:Se.key)||null,G(X,ee,Se,Be);case C:return ee=ee.get(Se.key===null?ie:Se.key)||null,se(X,ee,Se,Be);case x:var $e=Se._init;return Se=$e(Se._payload),fe(ee,X,ie,Se,Be)}if(be(Se)||oe(Se))return ee=ee.get(ie)||null,ve(X,ee,Se,Be,null);if(typeof Se.then=="function")return fe(ee,X,ie,hs(Se),Be);if(Se.$$typeof===ce)return fe(ee,X,ie,es(X,Se),Be);_s(X,Se)}return null}function Ye(ee,X,ie,Se){for(var Be=null,$e=null,Ue=X,qe=X=0,Gt=null;Ue!==null&&qe<ie.length;qe++){Ue.index>qe?(Gt=Ue,Ue=null):Gt=Ue.sibling;var st=ue(ee,Ue,ie[qe],Se);if(st===null){Ue===null&&(Ue=Gt);break}e&&Ue&&st.alternate===null&&t(ee,Ue),X=o(st,X,qe),$e===null?Be=st:$e.sibling=st,$e=st,Ue=Gt}if(qe===ie.length)return a(ee,Ue),ot&&In(ee,qe),Be;if(Ue===null){for(;qe<ie.length;qe++)Ue=Ae(ee,ie[qe],Se),Ue!==null&&(X=o(Ue,X,qe),$e===null?Be=Ue:$e.sibling=Ue,$e=Ue);return ot&&In(ee,qe),Be}for(Ue=n(Ue);qe<ie.length;qe++)Gt=fe(Ue,ee,qe,ie[qe],Se),Gt!==null&&(e&&Gt.alternate!==null&&Ue.delete(Gt.key===null?qe:Gt.key),X=o(Gt,X,qe),$e===null?Be=Gt:$e.sibling=Gt,$e=Gt);return e&&Ue.forEach(function(Sn){return t(ee,Sn)}),ot&&In(ee,qe),Be}function Ge(ee,X,ie,Se){if(ie==null)throw Error(b(151));for(var Be=null,$e=null,Ue=X,qe=X=0,Gt=null,st=ie.next();Ue!==null&&!st.done;qe++,st=ie.next()){Ue.index>qe?(Gt=Ue,Ue=null):Gt=Ue.sibling;var Sn=ue(ee,Ue,st.value,Se);if(Sn===null){Ue===null&&(Ue=Gt);break}e&&Ue&&Sn.alternate===null&&t(ee,Ue),X=o(Sn,X,qe),$e===null?Be=Sn:$e.sibling=Sn,$e=Sn,Ue=Gt}if(st.done)return a(ee,Ue),ot&&In(ee,qe),Be;if(Ue===null){for(;!st.done;qe++,st=ie.next())st=Ae(ee,st.value,Se),st!==null&&(X=o(st,X,qe),$e===null?Be=st:$e.sibling=st,$e=st);return ot&&In(ee,qe),Be}for(Ue=n(Ue);!st.done;qe++,st=ie.next())st=fe(Ue,ee,qe,st.value,Se),st!==null&&(e&&st.alternate!==null&&Ue.delete(st.key===null?qe:st.key),X=o(st,X,qe),$e===null?Be=st:$e.sibling=st,$e=st);return e&&Ue.forEach(function(up){return t(ee,up)}),ot&&In(ee,qe),Be}function _t(ee,X,ie,Se){if(typeof ie=="object"&&ie!==null&&ie.type===z&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case L:e:{for(var Be=ie.key;X!==null;){if(X.key===Be){if(Be=ie.type,Be===z){if(X.tag===7){a(ee,X.sibling),Se=i(X,ie.props.children),Se.return=ee,ee=Se;break e}}else if(X.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===x&&Pc(Be)===X.type){a(ee,X.sibling),Se=i(X,ie.props),dr(Se,ie),Se.return=ee,ee=Se;break e}a(ee,X);break}else t(ee,X);X=X.sibling}ie.type===z?(Se=zn(ie.props.children,ee.mode,Se,ie.key),Se.return=ee,ee=Se):(Se=Zr(ie.type,ie.key,ie.props,null,ee.mode,Se),dr(Se,ie),Se.return=ee,ee=Se)}return _(ee);case C:e:{for(Be=ie.key;X!==null;){if(X.key===Be)if(X.tag===4&&X.stateNode.containerInfo===ie.containerInfo&&X.stateNode.implementation===ie.implementation){a(ee,X.sibling),Se=i(X,ie.children||[]),Se.return=ee,ee=Se;break e}else{a(ee,X);break}else t(ee,X);X=X.sibling}Se=yl(ie,ee.mode,Se),Se.return=ee,ee=Se}return _(ee);case x:return Be=ie._init,ie=Be(ie._payload),_t(ee,X,ie,Se)}if(be(ie))return Ye(ee,X,ie,Se);if(oe(ie)){if(Be=oe(ie),typeof Be!="function")throw Error(b(150));return ie=Be.call(ie),Ge(ee,X,ie,Se)}if(typeof ie.then=="function")return _t(ee,X,hs(ie),Se);if(ie.$$typeof===ce)return _t(ee,X,es(ee,ie),Se);_s(ee,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,X!==null&&X.tag===6?(a(ee,X.sibling),Se=i(X,ie),Se.return=ee,ee=Se):(a(ee,X),Se=gl(ie,ee.mode,Se),Se.return=ee,ee=Se),_(ee)):a(ee,X)}return function(ee,X,ie,Se){try{cr=0;var Be=_t(ee,X,ie,Se);return Si=null,Be}catch(Ue){if(Ue===tr||Ue===as)throw Ue;var $e=sa(29,Ue,null,ee.mode);return $e.lanes=Se,$e.return=ee,$e}finally{}}}var Ei=Vc(!0),Gc=Vc(!1),va=v(null),La=null;function sn(e){var t=e.alternate;ae(zt,zt.current&1),ae(va,e),La===null&&(t===null||gi.current!==null||t.memoizedState!==null)&&(La=e)}function Hc(e){if(e.tag===22){if(ae(zt,zt.current),ae(va,e),La===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(La=e)}}else ln()}function ln(){ae(zt,zt.current),ae(va,va.current)}function qa(e){q(va),La===e&&(La=null),q(zt)}var zt=v(0);function ps(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Vo(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Jl(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:S({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Wl={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=ca(),i=an(n);i.payload=t,a!=null&&(i.callback=a),t=nn(e,i,n),t!==null&&(da(t,e,n),nr(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=ca(),i=an(n);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=nn(e,i,n),t!==null&&(da(t,e,n),nr(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ca(),n=an(a);n.tag=2,t!=null&&(n.callback=t),t=nn(e,n,a),t!==null&&(da(t,e,a),nr(t,e,a))}};function qc(e,t,a,n,i,o,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,_):t.prototype&&t.prototype.isPureReactComponent?!Ki(a,n)||!Ki(i,o):!0}function Yc(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Wl.enqueueReplaceState(t,t.state,null)}function Fn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=S({},a));for(var i in e)a[i]===void 0&&(a[i]=e[i])}return a}var ms=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Fc(e){ms(e)}function Kc(e){console.error(e)}function Xc(e){ms(e)}function gs(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Qc(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function $l(e,t,a){return a=an(a),a.tag=3,a.payload={element:null},a.callback=function(){gs(e,t)},a}function Zc(e){return e=an(e),e.tag=3,e}function Jc(e,t,a,n){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var o=n.value;e.payload=function(){return i(o)},e.callback=function(){Qc(t,a,n)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Qc(t,a,n),typeof i!="function"&&(hn===null?hn=new Set([this]):hn.add(this));var R=n.stack;this.componentDidCatch(n.value,{componentStack:R!==null?R:""})})}function u_(e,t,a,n,i){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Wi(t,a,i,!0),a=va.current,a!==null){switch(a.tag){case 13:return La===null?Ro():a.alternate===null&&xt===0&&(xt=3),a.flags&=-257,a.flags|=65536,a.lanes=i,n===Ml?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),xo(e,n,i)),!1;case 22:return a.flags|=65536,n===Ml?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),xo(e,n,i)),!1}throw Error(b(435,a.tag))}return xo(e,n,i),Ro(),!1}if(ot)return t=va.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==Sl&&(e=Error(b(422),{cause:n}),Ji(pa(e,a)))):(n!==Sl&&(t=Error(b(423),{cause:n}),Ji(pa(t,a))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,n=pa(n,a),i=$l(e.stateNode,n,i),wl(e,i),xt!==4&&(xt=2)),!1;var o=Error(b(520),{cause:n});if(o=pa(o,a),yr===null?yr=[o]:yr.push(o),xt!==4&&(xt=2),t===null)return!0;n=pa(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=i&-i,a.lanes|=e,e=$l(a.stateNode,n,e),wl(a,e),!1;case 1:if(t=a.type,o=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(hn===null||!hn.has(o))))return a.flags|=65536,i&=-i,a.lanes|=i,i=Zc(i),Jc(i,e,a,n),wl(a,i),!1}a=a.return}while(a!==null);return!1}var Wc=Error(b(461)),Pt=!1;function Ht(e,t,a,n){t.child=e===null?Gc(t,null,a,n):Ei(t,e.child,a,n)}function $c(e,t,a,n,i){a=a.render;var o=t.ref;if("ref"in n){var _={};for(var R in n)R!=="ref"&&(_[R]=n[R])}else _=n;return Hn(t),n=Ul(e,t,a,_,o,i),R=zl(),e!==null&&!Pt?(jl(e,t,i),Ya(e,t,i)):(ot&&R&&vl(t),t.flags|=1,Ht(e,t,n,i),t.child)}function ed(e,t,a,n,i){if(e===null){var o=a.type;return typeof o=="function"&&!ml(o)&&o.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=o,td(e,t,o,n,i)):(e=Zr(a.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!lo(e,i)){var _=o.memoizedProps;if(a=a.compare,a=a!==null?a:Ki,a(_,n)&&e.ref===t.ref)return Ya(e,t,i)}return t.flags|=1,e=ja(o,n),e.ref=t.ref,e.return=t,t.child=e}function td(e,t,a,n,i){if(e!==null){var o=e.memoizedProps;if(Ki(o,n)&&e.ref===t.ref)if(Pt=!1,t.pendingProps=n=o,lo(e,i))(e.flags&131072)!==0&&(Pt=!0);else return t.lanes=e.lanes,Ya(e,t,i)}return eo(e,t,a,n,i)}function ad(e,t,a){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if((t.flags&128)!==0){if(n=o!==null?o.baseLanes|a:a,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~n}else t.childLanes=0,t.child=null;return nd(e,t,n,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ts(t,o!==null?o.cachePool:null),o!==null?tc(t,o):Bl(),Hc(t);else return t.lanes=t.childLanes=536870912,nd(e,t,o!==null?o.baseLanes|a:a,a)}else o!==null?(ts(t,o.cachePool),tc(t,o),ln(),t.memoizedState=null):(e!==null&&ts(t,null),Bl(),ln());return Ht(e,t,i,a),t.child}function nd(e,t,a,n){var i=Cl();return i=i===null?null:{parent:Ut._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&ts(t,null),Bl(),Hc(t),e!==null&&Wi(e,t,n,!0),null}function ys(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(b(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function eo(e,t,a,n,i){return Hn(t),a=Ul(e,t,a,n,void 0,i),n=zl(),e!==null&&!Pt?(jl(e,t,i),Ya(e,t,i)):(ot&&n&&vl(t),t.flags|=1,Ht(e,t,a,i),t.child)}function id(e,t,a,n,i,o){return Hn(t),t.updateQueue=null,a=nc(t,n,a,i),ac(e),n=zl(),e!==null&&!Pt?(jl(e,t,o),Ya(e,t,o)):(ot&&n&&vl(t),t.flags|=1,Ht(e,t,a,o),t.child)}function rd(e,t,a,n,i){if(Hn(t),t.stateNode===null){var o=fi,_=a.contextType;typeof _=="object"&&_!==null&&(o=Qt(_)),o=new a(n,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Wl,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=n,o.state=t.memoizedState,o.refs={},Dl(t),_=a.contextType,o.context=typeof _=="object"&&_!==null?Qt(_):fi,o.state=t.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Jl(t,a,_,n),o.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(_=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),_!==o.state&&Wl.enqueueReplaceState(o,o.state,null),rr(t,n,o,i),ir(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){o=t.stateNode;var R=t.memoizedProps,G=Fn(a,R);o.props=G;var se=o.context,ve=a.contextType;_=fi,typeof ve=="object"&&ve!==null&&(_=Qt(ve));var Ae=a.getDerivedStateFromProps;ve=typeof Ae=="function"||typeof o.getSnapshotBeforeUpdate=="function",R=t.pendingProps!==R,ve||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(R||se!==_)&&Yc(t,o,n,_),tn=!1;var ue=t.memoizedState;o.state=ue,rr(t,n,o,i),ir(),se=t.memoizedState,R||ue!==se||tn?(typeof Ae=="function"&&(Jl(t,a,Ae,n),se=t.memoizedState),(G=tn||qc(t,a,G,n,ue,se,_))?(ve||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=se),o.props=n,o.state=se,o.context=_,n=G):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Ol(e,t),_=t.memoizedProps,ve=Fn(a,_),o.props=ve,Ae=t.pendingProps,ue=o.context,se=a.contextType,G=fi,typeof se=="object"&&se!==null&&(G=Qt(se)),R=a.getDerivedStateFromProps,(se=typeof R=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(_!==Ae||ue!==G)&&Yc(t,o,n,G),tn=!1,ue=t.memoizedState,o.state=ue,rr(t,n,o,i),ir();var fe=t.memoizedState;_!==Ae||ue!==fe||tn||e!==null&&e.dependencies!==null&&$r(e.dependencies)?(typeof R=="function"&&(Jl(t,a,R,n),fe=t.memoizedState),(ve=tn||qc(t,a,ve,n,ue,fe,G)||e!==null&&e.dependencies!==null&&$r(e.dependencies))?(se||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,fe,G),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,fe,G)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||_===e.memoizedProps&&ue===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&ue===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=fe),o.props=n,o.state=fe,o.context=G,n=ve):(typeof o.componentDidUpdate!="function"||_===e.memoizedProps&&ue===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&ue===e.memoizedState||(t.flags|=1024),n=!1)}return o=n,ys(e,t),n=(t.flags&128)!==0,o||n?(o=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&n?(t.child=Ei(t,e.child,null,i),t.child=Ei(t,null,a,i)):Ht(e,t,a,i),t.memoizedState=o.state,e=t.child):e=Ya(e,t,i),e}function sd(e,t,a,n){return Zi(),t.flags|=256,Ht(e,t,a,n),t.child}var to={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ao(e){return{baseLanes:e,cachePool:Ku()}}function no(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ba),e}function ld(e,t,a){var n=t.pendingProps,i=!1,o=(t.flags&128)!==0,_;if((_=o)||(_=e!==null&&e.memoizedState===null?!1:(zt.current&2)!==0),_&&(i=!0,t.flags&=-129),_=(t.flags&32)!==0,t.flags&=-33,e===null){if(ot){if(i?sn(t):ln(),ot){var R=Tt,G;if(G=R){e:{for(G=R,R=wa;G.nodeType!==8;){if(!R){R=null;break e}if(G=xa(G.nextSibling),G===null){R=null;break e}}R=G}R!==null?(t.memoizedState={dehydrated:R,treeContext:jn!==null?{id:Ia,overflow:Pa}:null,retryLane:536870912,hydrationErrors:null},G=sa(18,null,null,0),G.stateNode=R,G.return=t,t.child=G,ea=t,Tt=null,G=!0):G=!1}G||Vn(t)}if(R=t.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return Vo(R)?t.lanes=32:t.lanes=536870912,null;qa(t)}return R=n.children,n=n.fallback,i?(ln(),i=t.mode,R=vs({mode:"hidden",children:R},i),n=zn(n,i,a,null),R.return=t,n.return=t,R.sibling=n,t.child=R,i=t.child,i.memoizedState=ao(a),i.childLanes=no(e,_,a),t.memoizedState=to,n):(sn(t),io(t,R))}if(G=e.memoizedState,G!==null&&(R=G.dehydrated,R!==null)){if(o)t.flags&256?(sn(t),t.flags&=-257,t=ro(e,t,a)):t.memoizedState!==null?(ln(),t.child=e.child,t.flags|=128,t=null):(ln(),i=n.fallback,R=t.mode,n=vs({mode:"visible",children:n.children},R),i=zn(i,R,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,Ei(t,e.child,null,a),n=t.child,n.memoizedState=ao(a),n.childLanes=no(e,_,a),t.memoizedState=to,t=i);else if(sn(t),Vo(R)){if(_=R.nextSibling&&R.nextSibling.dataset,_)var se=_.dgst;_=se,n=Error(b(419)),n.stack="",n.digest=_,Ji({value:n,source:null,stack:null}),t=ro(e,t,a)}else if(Pt||Wi(e,t,a,!1),_=(a&e.childLanes)!==0,Pt||_){if(_=mt,_!==null&&(n=a&-a,n=(n&42)!==0?1:Ea(n),n=(n&(_.suspendedLanes|a))!==0?0:n,n!==0&&n!==G.retryLane))throw G.retryLane=n,di(e,n),da(_,e,n),Wc;R.data==="$?"||Ro(),t=ro(e,t,a)}else R.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=G.treeContext,Tt=xa(R.nextSibling),ea=t,ot=!0,Pn=null,wa=!1,e!==null&&(ga[ya++]=Ia,ga[ya++]=Pa,ga[ya++]=jn,Ia=e.id,Pa=e.overflow,jn=t),t=io(t,n.children),t.flags|=4096);return t}return i?(ln(),i=n.fallback,R=t.mode,G=e.child,se=G.sibling,n=ja(G,{mode:"hidden",children:n.children}),n.subtreeFlags=G.subtreeFlags&65011712,se!==null?i=ja(se,i):(i=zn(i,R,a,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,R=e.child.memoizedState,R===null?R=ao(a):(G=R.cachePool,G!==null?(se=Ut._currentValue,G=G.parent!==se?{parent:se,pool:se}:G):G=Ku(),R={baseLanes:R.baseLanes|a,cachePool:G}),i.memoizedState=R,i.childLanes=no(e,_,a),t.memoizedState=to,n):(sn(t),a=e.child,e=a.sibling,a=ja(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(_=t.deletions,_===null?(t.deletions=[e],t.flags|=16):_.push(e)),t.child=a,t.memoizedState=null,a)}function io(e,t){return t=vs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function vs(e,t){return e=sa(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ro(e,t,a){return Ei(t,e.child,null,a),e=io(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function od(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Al(e.return,t,a)}function so(e,t,a,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=a,o.tailMode=i)}function ud(e,t,a){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Ht(e,t,n.children,a),n=zt.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&od(e,a,t);else if(e.tag===19)od(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(ae(zt,n),i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&ps(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),so(t,!1,i,a,o);break;case"backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ps(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}so(t,!0,a,null,o);break;case"together":so(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ya(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),fn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Wi(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(b(153));if(t.child!==null){for(e=t.child,a=ja(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ja(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function lo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&$r(e)))}function c_(e,t,a){switch(t.tag){case 3:pe(t,t.stateNode.containerInfo),en(t,Ut,e.memoizedState.cache),Zi();break;case 27:case 5:Ie(t);break;case 4:pe(t,t.stateNode.containerInfo);break;case 10:en(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(sn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?ld(e,t,a):(sn(t),e=Ya(e,t,a),e!==null?e.sibling:null);sn(t);break;case 19:var i=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Wi(e,t,a,!1),n=(a&t.childLanes)!==0),i){if(n)return ud(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ae(zt,zt.current),n)break;return null;case 22:case 23:return t.lanes=0,ad(e,t,a);case 24:en(t,Ut,e.memoizedState.cache)}return Ya(e,t,a)}function cd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Pt=!0;else{if(!lo(e,a)&&(t.flags&128)===0)return Pt=!1,c_(e,t,a);Pt=(e.flags&131072)!==0}else Pt=!1,ot&&(t.flags&1048576)!==0&&Pu(t,Wr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,i=n._init;if(n=i(n._payload),t.type=n,typeof n=="function")ml(n)?(e=Fn(n,e),t.tag=1,t=rd(null,t,n,e,a)):(t.tag=0,t=eo(null,t,n,e,a));else{if(n!=null){if(i=n.$$typeof,i===I){t.tag=11,t=$c(null,t,n,e,a);break e}else if(i===H){t.tag=14,t=ed(null,t,n,e,a);break e}}throw t=ye(n)||n,Error(b(306,t,""))}}return t;case 0:return eo(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,i=Fn(n,t.pendingProps),rd(e,t,n,i,a);case 3:e:{if(pe(t,t.stateNode.containerInfo),e===null)throw Error(b(387));n=t.pendingProps;var o=t.memoizedState;i=o.element,Ol(e,t),rr(t,n,null,a);var _=t.memoizedState;if(n=_.cache,en(t,Ut,n),n!==o.cache&&Rl(t,[Ut],a,!0),ir(),n=_.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:_.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=sd(e,t,n,a);break e}else if(n!==i){i=pa(Error(b(424)),t),Ji(i),t=sd(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Tt=xa(e.firstChild),ea=t,ot=!0,Pn=null,wa=!0,a=Gc(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Zi(),n===i){t=Ya(e,t,a);break e}Ht(e,t,n,a)}t=t.child}return t;case 26:return ys(e,t),e===null?(a=pf(t.type,null,t.pendingProps,null))?t.memoizedState=a:ot||(a=t.type,e=t.pendingProps,n=Bs(Ee.current).createElement(a),n[kt]=t,n[yt]=e,Yt(n,a,e),p(n),t.stateNode=n):t.memoizedState=pf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ie(t),e===null&&ot&&(n=t.stateNode=ff(t.type,t.pendingProps,Ee.current),ea=t,wa=!0,i=Tt,mn(t.type)?(Go=i,Tt=xa(n.firstChild)):Tt=i),Ht(e,t,t.pendingProps.children,a),ys(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ot&&((i=n=Tt)&&(n=j_(n,t.type,t.pendingProps,wa),n!==null?(t.stateNode=n,ea=t,Tt=xa(n.firstChild),wa=!1,i=!0):i=!1),i||Vn(t)),Ie(t),i=t.type,o=t.pendingProps,_=e!==null?e.memoizedProps:null,n=o.children,jo(i,o)?n=null:_!==null&&jo(i,_)&&(t.flags|=32),t.memoizedState!==null&&(i=Ul(e,t,a_,null,null,a),Cr._currentValue=i),ys(e,t),Ht(e,t,n,a),t.child;case 6:return e===null&&ot&&((e=a=Tt)&&(a=I_(a,t.pendingProps,wa),a!==null?(t.stateNode=a,ea=t,Tt=null,e=!0):e=!1),e||Vn(t)),null;case 13:return ld(e,t,a);case 4:return pe(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ei(t,null,n,a):Ht(e,t,n,a),t.child;case 11:return $c(e,t,t.type,t.pendingProps,a);case 7:return Ht(e,t,t.pendingProps,a),t.child;case 8:return Ht(e,t,t.pendingProps.children,a),t.child;case 12:return Ht(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,en(t,t.type,n.value),Ht(e,t,n.children,a),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,Hn(t),i=Qt(i),n=n(i),t.flags|=1,Ht(e,t,n,a),t.child;case 14:return ed(e,t,t.type,t.pendingProps,a);case 15:return td(e,t,t.type,t.pendingProps,a);case 19:return ud(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=vs(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=ja(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return ad(e,t,a);case 24:return Hn(t),n=Qt(Ut),e===null?(i=Cl(),i===null&&(i=mt,o=Tl(),i.pooledCache=o,o.refCount++,o!==null&&(i.pooledCacheLanes|=a),i=o),t.memoizedState={parent:n,cache:i},Dl(t),en(t,Ut,i)):((e.lanes&a)!==0&&(Ol(e,t),rr(t,null,null,a),ir()),i=e.memoizedState,o=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),en(t,Ut,n)):(n=o.cache,en(t,Ut,n),n!==i.cache&&Rl(t,[Ut],a,!0))),Ht(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(b(156,t.tag))}function Fa(e){e.flags|=4}function dd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!bf(t)){if(t=va.current,t!==null&&((it&4194048)===it?La!==null:(it&62914560)!==it&&(it&536870912)===0||t!==La))throw ar=Ml,Xu;e.flags|=8192}}function bs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?zr():536870912,e.lanes|=t,xi|=t)}function fr(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function d_(e,t,a){var n=t.pendingProps;switch(bl(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return Et(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ga(Ut),we(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Qi(t)?Fa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Hu())),Et(t),null;case 26:return a=t.memoizedState,e===null?(Fa(t),a!==null?(Et(t),dd(t,a)):(Et(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Fa(t),Et(t),dd(t,a)):(Et(t),t.flags&=-16777217):(e.memoizedProps!==n&&Fa(t),Et(t),t.flags&=-16777217),null;case 27:Pe(t),a=Ee.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Fa(t);else{if(!n){if(t.stateNode===null)throw Error(b(166));return Et(t),null}e=_e.current,Qi(t)?Vu(t):(e=ff(i,n,a),t.stateNode=e,Fa(t))}return Et(t),null;case 5:if(Pe(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Fa(t);else{if(!n){if(t.stateNode===null)throw Error(b(166));return Et(t),null}if(e=_e.current,Qi(t))Vu(t);else{switch(i=Bs(Ee.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?i.createElement(a,{is:n.is}):i.createElement(a)}}e[kt]=t,e[yt]=n;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Yt(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Fa(t)}}return Et(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Fa(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(b(166));if(e=Ee.current,Qi(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,i=ea,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}e[kt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||rf(e.nodeValue,a)),e||Vn(t)}else e=Bs(e).createTextNode(n),e[kt]=t,t.stateNode=e}return Et(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Qi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(b(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(b(317));i[kt]=t}else Zi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Et(t),i=!1}else i=Hu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(qa(t),t):(qa(t),null)}if(qa(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool);var o=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),bs(t,t.updateQueue),Et(t),null;case 4:return we(),e===null&&Bo(t.stateNode.containerInfo),Et(t),null;case 10:return Ga(t.type),Et(t),null;case 19:if(q(zt),i=t.memoizedState,i===null)return Et(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)fr(i,!1);else{if(xt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=ps(e),o!==null){for(t.flags|=128,fr(i,!1),e=o.updateQueue,t.updateQueue=e,bs(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Iu(a,e),a=a.sibling;return ae(zt,zt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ft()>As&&(t.flags|=128,n=!0,fr(i,!1),t.lanes=4194304)}else{if(!n)if(e=ps(o),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,bs(t,e),fr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ot)return Et(t),null}else 2*Ft()-i.renderingStartTime>As&&a!==536870912&&(t.flags|=128,n=!0,fr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(e=i.last,e!==null?e.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ft(),t.sibling=null,e=zt.current,ae(zt,n?e&1|2:e&1),t):(Et(t),null);case 22:case 23:return qa(t),kl(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),a=t.updateQueue,a!==null&&bs(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&q(qn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ga(Ut),Et(t),null;case 25:return null;case 30:return null}throw Error(b(156,t.tag))}function f_(e,t){switch(bl(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ga(Ut),we(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Pe(t),null;case 13:if(qa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(b(340));Zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(zt),null;case 4:return we(),null;case 10:return Ga(t.type),null;case 22:case 23:return qa(t),kl(),e!==null&&q(qn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ga(Ut),null;case 25:return null;default:return null}}function fd(e,t){switch(bl(t),t.tag){case 3:Ga(Ut),we();break;case 26:case 27:case 5:Pe(t);break;case 4:we();break;case 13:qa(t);break;case 19:q(zt);break;case 10:Ga(t.type);break;case 22:case 23:qa(t),kl(),e!==null&&q(qn);break;case 24:Ga(Ut)}}function hr(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){n=void 0;var o=a.create,_=a.inst;n=o(),_.destroy=n}a=a.next}while(a!==i)}}catch(R){pt(t,t.return,R)}}function on(e,t,a){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&e)===e){var _=n.inst,R=_.destroy;if(R!==void 0){_.destroy=void 0,i=t;var G=a,se=R;try{se()}catch(ve){pt(i,G,ve)}}}n=n.next}while(n!==o)}}catch(ve){pt(t,t.return,ve)}}function hd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{ec(t,a)}catch(n){pt(e,e.return,n)}}}function _d(e,t,a){a.props=Fn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){pt(e,t,n)}}function _r(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(i){pt(e,t,i)}}function Ba(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(i){pt(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){pt(e,t,i)}else a.current=null}function pd(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(i){pt(e,e.return,i)}}function oo(e,t,a){try{var n=e.stateNode;B_(n,e.type,a,t),n[yt]=t}catch(i){pt(e,e.return,i)}}function md(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&mn(e.type)||e.tag===4}function uo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||md(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&mn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function co(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ls));else if(n!==4&&(n===27&&mn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(co(e,t,a),e=e.sibling;e!==null;)co(e,t,a),e=e.sibling}function Ss(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&mn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ss(e,t,a),e=e.sibling;e!==null;)Ss(e,t,a),e=e.sibling}function gd(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Yt(t,n,a),t[kt]=e,t[yt]=a}catch(o){pt(e,e.return,o)}}var Ka=!1,Ot=!1,fo=!1,yd=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function h_(e,t){if(e=e.containerInfo,Uo=Is,e=Du(e),ul(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{a.nodeType,o.nodeType}catch{a=null;break e}var _=0,R=-1,G=-1,se=0,ve=0,Ae=e,ue=null;t:for(;;){for(var fe;Ae!==a||i!==0&&Ae.nodeType!==3||(R=_+i),Ae!==o||n!==0&&Ae.nodeType!==3||(G=_+n),Ae.nodeType===3&&(_+=Ae.nodeValue.length),(fe=Ae.firstChild)!==null;)ue=Ae,Ae=fe;for(;;){if(Ae===e)break t;if(ue===a&&++se===i&&(R=_),ue===o&&++ve===n&&(G=_),(fe=Ae.nextSibling)!==null)break;Ae=ue,ue=Ae.parentNode}Ae=fe}a=R===-1||G===-1?null:{start:R,end:G}}else a=null}a=a||{start:0,end:0}}else a=null;for(zo={focusedElem:e,selectionRange:a},Is=!1,Vt=t;Vt!==null;)if(t=Vt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Vt=e;else for(;Vt!==null;){switch(t=Vt,o=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,a=t,i=o.memoizedProps,o=o.memoizedState,n=a.stateNode;try{var Ye=Fn(a.type,i,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(Ye,o),n.__reactInternalSnapshotBeforeUpdate=e}catch(Ge){pt(a,a.return,Ge)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Po(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Po(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(b(163))}if(e=t.sibling,e!==null){e.return=t.return,Vt=e;break}Vt=t.return}}function vd(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:un(e,a),n&4&&hr(5,a);break;case 1:if(un(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(_){pt(a,a.return,_)}else{var i=Fn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(_){pt(a,a.return,_)}}n&64&&hd(a),n&512&&_r(a,a.return);break;case 3:if(un(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{ec(e,t)}catch(_){pt(a,a.return,_)}}break;case 27:t===null&&n&4&&gd(a);case 26:case 5:un(e,a),t===null&&n&4&&pd(a),n&512&&_r(a,a.return);break;case 12:un(e,a);break;case 13:un(e,a),n&4&&Ed(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=E_.bind(null,a),P_(e,a))));break;case 22:if(n=a.memoizedState!==null||Ka,!n){t=t!==null&&t.memoizedState!==null||Ot,i=Ka;var o=Ot;Ka=n,(Ot=t)&&!o?cn(e,a,(a.subtreeFlags&8772)!==0):un(e,a),Ka=i,Ot=o}break;case 30:break;default:un(e,a)}}function bd(e){var t=e.alternate;t!==null&&(e.alternate=null,bd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&s(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var bt=null,na=!1;function Xa(e,t,a){for(a=a.child;a!==null;)Sd(e,t,a),a=a.sibling}function Sd(e,t,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Rn,a)}catch{}switch(a.tag){case 26:Ot||Ba(a,t),Xa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ot||Ba(a,t);var n=bt,i=na;mn(a.type)&&(bt=a.stateNode,na=!1),Xa(e,t,a),Ar(a.stateNode),bt=n,na=i;break;case 5:Ot||Ba(a,t);case 6:if(n=bt,i=na,bt=null,Xa(e,t,a),bt=n,na=i,bt!==null)if(na)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(a.stateNode)}catch(o){pt(a,t,o)}else try{bt.removeChild(a.stateNode)}catch(o){pt(a,t,o)}break;case 18:bt!==null&&(na?(e=bt,cf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),wr(e)):cf(bt,a.stateNode));break;case 4:n=bt,i=na,bt=a.stateNode.containerInfo,na=!0,Xa(e,t,a),bt=n,na=i;break;case 0:case 11:case 14:case 15:Ot||on(2,a,t),Ot||on(4,a,t),Xa(e,t,a);break;case 1:Ot||(Ba(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&_d(a,t,n)),Xa(e,t,a);break;case 21:Xa(e,t,a);break;case 22:Ot=(n=Ot)||a.memoizedState!==null,Xa(e,t,a),Ot=n;break;default:Xa(e,t,a)}}function Ed(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wr(e)}catch(a){pt(t,t.return,a)}}function __(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new yd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new yd),t;default:throw Error(b(435,e.tag))}}function ho(e,t){var a=__(e);t.forEach(function(n){var i=A_.bind(null,e,n);a.has(n)||(a.add(n),n.then(i,i))})}function la(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var i=a[n],o=e,_=t,R=_;e:for(;R!==null;){switch(R.tag){case 27:if(mn(R.type)){bt=R.stateNode,na=!1;break e}break;case 5:bt=R.stateNode,na=!1;break e;case 3:case 4:bt=R.stateNode.containerInfo,na=!0;break e}R=R.return}if(bt===null)throw Error(b(160));Sd(o,_,i),bt=null,na=!1,o=i.alternate,o!==null&&(o.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Ad(t,e),t=t.sibling}var Ta=null;function Ad(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:la(t,e),oa(e),n&4&&(on(3,e,e.return),hr(3,e),on(5,e,e.return));break;case 1:la(t,e),oa(e),n&512&&(Ot||a===null||Ba(a,a.return)),n&64&&Ka&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var i=Ta;if(la(t,e),oa(e),n&512&&(Ot||a===null||Ba(a,a.return)),n&4){var o=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":o=i.getElementsByTagName("title")[0],(!o||o[l]||o[kt]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=i.createElement(n),i.head.insertBefore(o,i.querySelector("head > title"))),Yt(o,n,a),o[kt]=e,p(o),n=o;break e;case"link":var _=yf("link","href",i).get(n+(a.href||""));if(_){for(var R=0;R<_.length;R++)if(o=_[R],o.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&o.getAttribute("rel")===(a.rel==null?null:a.rel)&&o.getAttribute("title")===(a.title==null?null:a.title)&&o.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(R,1);break t}}o=i.createElement(n),Yt(o,n,a),i.head.appendChild(o);break;case"meta":if(_=yf("meta","content",i).get(n+(a.content||""))){for(R=0;R<_.length;R++)if(o=_[R],o.getAttribute("content")===(a.content==null?null:""+a.content)&&o.getAttribute("name")===(a.name==null?null:a.name)&&o.getAttribute("property")===(a.property==null?null:a.property)&&o.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&o.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(R,1);break t}}o=i.createElement(n),Yt(o,n,a),i.head.appendChild(o);break;default:throw Error(b(468,n))}o[kt]=e,p(o),n=o}e.stateNode=n}else vf(i,e.type,e.stateNode);else e.stateNode=gf(i,n,e.memoizedProps);else o!==n?(o===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):o.count--,n===null?vf(i,e.type,e.stateNode):gf(i,n,e.memoizedProps)):n===null&&e.stateNode!==null&&oo(e,e.memoizedProps,a.memoizedProps)}break;case 27:la(t,e),oa(e),n&512&&(Ot||a===null||Ba(a,a.return)),a!==null&&n&4&&oo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(la(t,e),oa(e),n&512&&(Ot||a===null||Ba(a,a.return)),e.flags&32){i=e.stateNode;try{Xt(i,"")}catch(fe){pt(e,e.return,fe)}}n&4&&e.stateNode!=null&&(i=e.memoizedProps,oo(e,i,a!==null?a.memoizedProps:i)),n&1024&&(fo=!0);break;case 6:if(la(t,e),oa(e),n&4){if(e.stateNode===null)throw Error(b(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(fe){pt(e,e.return,fe)}}break;case 3:if(Us=null,i=Ta,Ta=ks(t.containerInfo),la(t,e),Ta=i,oa(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{wr(t.containerInfo)}catch(fe){pt(e,e.return,fe)}fo&&(fo=!1,Rd(e));break;case 4:n=Ta,Ta=ks(e.stateNode.containerInfo),la(t,e),oa(e),Ta=n;break;case 12:la(t,e),oa(e);break;case 13:la(t,e),oa(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vo=Ft()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,ho(e,n)));break;case 22:i=e.memoizedState!==null;var G=a!==null&&a.memoizedState!==null,se=Ka,ve=Ot;if(Ka=se||i,Ot=ve||G,la(t,e),Ot=ve,Ka=se,oa(e),n&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(a===null||G||Ka||Ot||Kn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){G=a=t;try{if(o=G.stateNode,i)_=o.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{R=G.stateNode;var Ae=G.memoizedProps.style,ue=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;R.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(fe){pt(G,G.return,fe)}}}else if(t.tag===6){if(a===null){G=t;try{G.stateNode.nodeValue=i?"":G.memoizedProps}catch(fe){pt(G,G.return,fe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,ho(e,a))));break;case 19:la(t,e),oa(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,ho(e,n)));break;case 30:break;case 21:break;default:la(t,e),oa(e)}}function oa(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(md(n)){a=n;break}n=n.return}if(a==null)throw Error(b(160));switch(a.tag){case 27:var i=a.stateNode,o=uo(e);Ss(e,o,i);break;case 5:var _=a.stateNode;a.flags&32&&(Xt(_,""),a.flags&=-33);var R=uo(e);Ss(e,R,_);break;case 3:case 4:var G=a.stateNode.containerInfo,se=uo(e);co(e,se,G);break;default:throw Error(b(161))}}catch(ve){pt(e,e.return,ve)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Rd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function un(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)vd(e,t.alternate,t),t=t.sibling}function Kn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:on(4,t,t.return),Kn(t);break;case 1:Ba(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&_d(t,t.return,a),Kn(t);break;case 27:Ar(t.stateNode);case 26:case 5:Ba(t,t.return),Kn(t);break;case 22:t.memoizedState===null&&Kn(t);break;case 30:Kn(t);break;default:Kn(t)}e=e.sibling}}function cn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,i=e,o=t,_=o.flags;switch(o.tag){case 0:case 11:case 15:cn(i,o,a),hr(4,o);break;case 1:if(cn(i,o,a),n=o,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(se){pt(n,n.return,se)}if(n=o,i=n.updateQueue,i!==null){var R=n.stateNode;try{var G=i.shared.hiddenCallbacks;if(G!==null)for(i.shared.hiddenCallbacks=null,i=0;i<G.length;i++)$u(G[i],R)}catch(se){pt(n,n.return,se)}}a&&_&64&&hd(o),_r(o,o.return);break;case 27:gd(o);case 26:case 5:cn(i,o,a),a&&n===null&&_&4&&pd(o),_r(o,o.return);break;case 12:cn(i,o,a);break;case 13:cn(i,o,a),a&&_&4&&Ed(i,o);break;case 22:o.memoizedState===null&&cn(i,o,a),_r(o,o.return);break;case 30:break;default:cn(i,o,a)}t=t.sibling}}function _o(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&$i(a))}function po(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$i(e))}function ka(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Td(e,t,a,n),t=t.sibling}function Td(e,t,a,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ka(e,t,a,n),i&2048&&hr(9,t);break;case 1:ka(e,t,a,n);break;case 3:ka(e,t,a,n),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$i(e)));break;case 12:if(i&2048){ka(e,t,a,n),e=t.stateNode;try{var o=t.memoizedProps,_=o.id,R=o.onPostCommit;typeof R=="function"&&R(_,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(G){pt(t,t.return,G)}}else ka(e,t,a,n);break;case 13:ka(e,t,a,n);break;case 23:break;case 22:o=t.stateNode,_=t.alternate,t.memoizedState!==null?o._visibility&2?ka(e,t,a,n):pr(e,t):o._visibility&2?ka(e,t,a,n):(o._visibility|=2,Ai(e,t,a,n,(t.subtreeFlags&10256)!==0)),i&2048&&_o(_,t);break;case 24:ka(e,t,a,n),i&2048&&po(t.alternate,t);break;default:ka(e,t,a,n)}}function Ai(e,t,a,n,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var o=e,_=t,R=a,G=n,se=_.flags;switch(_.tag){case 0:case 11:case 15:Ai(o,_,R,G,i),hr(8,_);break;case 23:break;case 22:var ve=_.stateNode;_.memoizedState!==null?ve._visibility&2?Ai(o,_,R,G,i):pr(o,_):(ve._visibility|=2,Ai(o,_,R,G,i)),i&&se&2048&&_o(_.alternate,_);break;case 24:Ai(o,_,R,G,i),i&&se&2048&&po(_.alternate,_);break;default:Ai(o,_,R,G,i)}t=t.sibling}}function pr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,i=n.flags;switch(n.tag){case 22:pr(a,n),i&2048&&_o(n.alternate,n);break;case 24:pr(a,n),i&2048&&po(n.alternate,n);break;default:pr(a,n)}t=t.sibling}}var mr=8192;function Ri(e){if(e.subtreeFlags&mr)for(e=e.child;e!==null;)xd(e),e=e.sibling}function xd(e){switch(e.tag){case 26:Ri(e),e.flags&mr&&e.memoizedState!==null&&$_(Ta,e.memoizedState,e.memoizedProps);break;case 5:Ri(e);break;case 3:case 4:var t=Ta;Ta=ks(e.stateNode.containerInfo),Ri(e),Ta=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=mr,mr=16777216,Ri(e),mr=t):Ri(e));break;default:Ri(e)}}function Cd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function gr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Vt=n,Dd(n,e)}Cd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Md(e),e=e.sibling}function Md(e){switch(e.tag){case 0:case 11:case 15:gr(e),e.flags&2048&&on(9,e,e.return);break;case 3:gr(e);break;case 12:gr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Es(e)):gr(e);break;default:gr(e)}}function Es(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Vt=n,Dd(n,e)}Cd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:on(8,t,t.return),Es(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Es(t));break;default:Es(t)}e=e.sibling}}function Dd(e,t){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:on(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:$i(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Vt=n;else e:for(a=e;Vt!==null;){n=Vt;var i=n.sibling,o=n.return;if(bd(n),n===a){Vt=null;break e}if(i!==null){i.return=o,Vt=i;break e}Vt=o}}}var p_={getCacheForType:function(e){var t=Qt(Ut),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},m_=typeof WeakMap=="function"?WeakMap:Map,ut=0,mt=null,tt=null,it=0,ct=0,ua=null,dn=!1,Ti=!1,mo=!1,Qa=0,xt=0,fn=0,Xn=0,go=0,ba=0,xi=0,yr=null,ia=null,yo=!1,vo=0,As=1/0,Rs=null,hn=null,qt=0,_n=null,Ci=null,Mi=0,bo=0,So=null,Od=null,vr=0,Eo=null;function ca(){if((ut&2)!==0&&it!==0)return it&-it;if(k.T!==null){var e=pi;return e!==0?e:Do()}return zi()}function wd(){ba===0&&(ba=(it&536870912)===0||ot?Ur():536870912);var e=va.current;return e!==null&&(e.flags|=32),ba}function da(e,t,a){(e===mt&&(ct===2||ct===9)||e.cancelPendingCommit!==null)&&(Di(e,0),pn(e,it,ba,!1)),xn(e,a),((ut&2)===0||e!==mt)&&(e===mt&&((ut&2)===0&&(Xn|=a),xt===4&&pn(e,it,ba,!1)),Na(e))}function Ld(e,t,a){if((ut&6)!==0)throw Error(b(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Tn(e,t),i=n?v_(e,t):To(e,t,!0),o=n;do{if(i===0){Ti&&!n&&pn(e,t,0,!1);break}else{if(a=e.current.alternate,o&&!g_(a)){i=To(e,t,!1),o=!1;continue}if(i===2){if(o=t,e.errorRecoveryDisabledLanes&o)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){t=_;e:{var R=e;i=yr;var G=R.current.memoizedState.isDehydrated;if(G&&(Di(R,_).flags|=256),_=To(R,_,!1),_!==2){if(mo&&!G){R.errorRecoveryDisabledLanes|=o,Xn|=o,i=4;break e}o=ia,ia=i,o!==null&&(ia===null?ia=o:ia.push.apply(ia,o))}i=_}if(o=!1,i!==2)continue}}if(i===1){Di(e,0),pn(e,t,0,!0);break}e:{switch(n=e,o=i,o){case 0:case 1:throw Error(b(345));case 4:if((t&4194048)!==t)break;case 6:pn(n,t,ba,!dn);break e;case 2:ia=null;break;case 3:case 5:break;default:throw Error(b(329))}if((t&62914560)===t&&(i=vo+300-Ft(),10<i)){if(pn(n,t,ba,!dn),ai(n,0,!0)!==0)break e;n.timeoutHandle=of(Bd.bind(null,n,a,ia,Rs,yo,t,ba,Xn,xi,dn,o,2,-0,0),i);break e}Bd(n,a,ia,Rs,yo,t,ba,Xn,xi,dn,o,0,-0,0)}}break}while(!0);Na(e)}function Bd(e,t,a,n,i,o,_,R,G,se,ve,Ae,ue,fe){if(e.timeoutHandle=-1,Ae=t.subtreeFlags,(Ae&8192||(Ae&16785408)===16785408)&&(xr={stylesheets:null,count:0,unsuspend:W_},xd(t),Ae=ep(),Ae!==null)){e.cancelPendingCommit=Ae(Pd.bind(null,e,t,o,a,n,i,_,R,G,ve,1,ue,fe)),pn(e,o,_,!se);return}Pd(e,t,o,a,n,i,_,R,G)}function g_(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var i=a[n],o=i.getSnapshot;i=i.value;try{if(!ra(o(),i))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pn(e,t,a,n){t&=~go,t&=~Xn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var o=31-Wt(i),_=1<<o;n[o]=-1,i&=~_}a!==0&&jr(e,a,t)}function Ts(){return(ut&6)===0?(br(0),!1):!0}function Ao(){if(tt!==null){if(ct===0)var e=tt.return;else e=tt,Va=Gn=null,Il(e),Si=null,cr=0,e=tt;for(;e!==null;)fd(e.alternate,e),e=e.return;tt=null}}function Di(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,N_(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ao(),mt=e,tt=a=ja(e.current,null),it=t,ct=0,ua=null,dn=!1,Ti=Tn(e,t),mo=!1,xi=ba=go=Xn=fn=xt=0,ia=yr=null,yo=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var i=31-Wt(n),o=1<<i;t|=e[i],n&=~o}return Qa=t,Kr(),a}function kd(e,t){We=null,k.H=fs,t===tr||t===as?(t=Ju(),ct=3):t===Xu?(t=Ju(),ct=4):ct=t===Wc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ua=t,tt===null&&(xt=1,gs(e,pa(t,e.current)))}function Nd(){var e=k.H;return k.H=fs,e===null?fs:e}function Ud(){var e=k.A;return k.A=p_,e}function Ro(){xt=4,dn||(it&4194048)!==it&&va.current!==null||(Ti=!0),(fn&134217727)===0&&(Xn&134217727)===0||mt===null||pn(mt,it,ba,!1)}function To(e,t,a){var n=ut;ut|=2;var i=Nd(),o=Ud();(mt!==e||it!==t)&&(Rs=null,Di(e,t)),t=!1;var _=xt;e:do try{if(ct!==0&&tt!==null){var R=tt,G=ua;switch(ct){case 8:Ao(),_=6;break e;case 3:case 2:case 9:case 6:va.current===null&&(t=!0);var se=ct;if(ct=0,ua=null,Oi(e,R,G,se),a&&Ti){_=0;break e}break;default:se=ct,ct=0,ua=null,Oi(e,R,G,se)}}y_(),_=xt;break}catch(ve){kd(e,ve)}while(!0);return t&&e.shellSuspendCounter++,Va=Gn=null,ut=n,k.H=i,k.A=o,tt===null&&(mt=null,it=0,Kr()),_}function y_(){for(;tt!==null;)zd(tt)}function v_(e,t){var a=ut;ut|=2;var n=Nd(),i=Ud();mt!==e||it!==t?(Rs=null,As=Ft()+500,Di(e,t)):Ti=Tn(e,t);e:do try{if(ct!==0&&tt!==null){t=tt;var o=ua;t:switch(ct){case 1:ct=0,ua=null,Oi(e,t,o,1);break;case 2:case 9:if(Qu(o)){ct=0,ua=null,jd(t);break}t=function(){ct!==2&&ct!==9||mt!==e||(ct=7),Na(e)},o.then(t,t);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:Qu(o)?(ct=0,ua=null,jd(t)):(ct=0,ua=null,Oi(e,t,o,7));break;case 5:var _=null;switch(tt.tag){case 26:_=tt.memoizedState;case 5:case 27:var R=tt;if(!_||bf(_)){ct=0,ua=null;var G=R.sibling;if(G!==null)tt=G;else{var se=R.return;se!==null?(tt=se,xs(se)):tt=null}break t}}ct=0,ua=null,Oi(e,t,o,5);break;case 6:ct=0,ua=null,Oi(e,t,o,6);break;case 8:Ao(),xt=6;break e;default:throw Error(b(462))}}b_();break}catch(ve){kd(e,ve)}while(!0);return Va=Gn=null,k.H=n,k.A=i,ut=a,tt!==null?0:(mt=null,it=0,Kr(),xt)}function b_(){for(;tt!==null&&!fa();)zd(tt)}function zd(e){var t=cd(e.alternate,e,Qa);e.memoizedProps=e.pendingProps,t===null?xs(e):tt=t}function jd(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=id(a,t,t.pendingProps,t.type,void 0,it);break;case 11:t=id(a,t,t.pendingProps,t.type.render,t.ref,it);break;case 5:Il(t);default:fd(a,t),t=tt=Iu(t,Qa),t=cd(a,t,Qa)}e.memoizedProps=e.pendingProps,t===null?xs(e):tt=t}function Oi(e,t,a,n){Va=Gn=null,Il(t),Si=null,cr=0;var i=t.return;try{if(u_(e,i,t,a,it)){xt=1,gs(e,pa(a,e.current)),tt=null;return}}catch(o){if(i!==null)throw tt=i,o;xt=1,gs(e,pa(a,e.current)),tt=null;return}t.flags&32768?(ot||n===1?e=!0:Ti||(it&536870912)!==0?e=!1:(dn=e=!0,(n===2||n===9||n===3||n===6)&&(n=va.current,n!==null&&n.tag===13&&(n.flags|=16384))),Id(t,e)):xs(t)}function xs(e){var t=e;do{if((t.flags&32768)!==0){Id(t,dn);return}e=t.return;var a=d_(t.alternate,t,Qa);if(a!==null){tt=a;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);xt===0&&(xt=5)}function Id(e,t){do{var a=f_(e.alternate,e);if(a!==null){a.flags&=32767,tt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){tt=e;return}tt=e=a}while(e!==null);xt=6,tt=null}function Pd(e,t,a,n,i,o,_,R,G){e.cancelPendingCommit=null;do Cs();while(qt!==0);if((ut&6)!==0)throw Error(b(327));if(t!==null){if(t===e.current)throw Error(b(177));if(o=t.lanes|t.childLanes,o|=_l,el(e,a,o,_,R,G),e===mt&&(tt=mt=null,it=0),Ci=t,_n=e,Mi=a,bo=o,So=i,Od=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,R_($n,function(){return Yd(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=k.T,k.T=null,i=he.p,he.p=2,_=ut,ut|=4;try{h_(e,t,a)}finally{ut=_,he.p=i,k.T=n}}qt=1,Vd(),Gd(),Hd()}}function Vd(){if(qt===1){qt=0;var e=_n,t=Ci,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=k.T,k.T=null;var n=he.p;he.p=2;var i=ut;ut|=4;try{Ad(t,e);var o=zo,_=Du(e.containerInfo),R=o.focusedElem,G=o.selectionRange;if(_!==R&&R&&R.ownerDocument&&Mu(R.ownerDocument.documentElement,R)){if(G!==null&&ul(R)){var se=G.start,ve=G.end;if(ve===void 0&&(ve=se),"selectionStart"in R)R.selectionStart=se,R.selectionEnd=Math.min(ve,R.value.length);else{var Ae=R.ownerDocument||document,ue=Ae&&Ae.defaultView||window;if(ue.getSelection){var fe=ue.getSelection(),Ye=R.textContent.length,Ge=Math.min(G.start,Ye),_t=G.end===void 0?Ge:Math.min(G.end,Ye);!fe.extend&&Ge>_t&&(_=_t,_t=Ge,Ge=_);var ee=Cu(R,Ge),X=Cu(R,_t);if(ee&&X&&(fe.rangeCount!==1||fe.anchorNode!==ee.node||fe.anchorOffset!==ee.offset||fe.focusNode!==X.node||fe.focusOffset!==X.offset)){var ie=Ae.createRange();ie.setStart(ee.node,ee.offset),fe.removeAllRanges(),Ge>_t?(fe.addRange(ie),fe.extend(X.node,X.offset)):(ie.setEnd(X.node,X.offset),fe.addRange(ie))}}}}for(Ae=[],fe=R;fe=fe.parentNode;)fe.nodeType===1&&Ae.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<Ae.length;R++){var Se=Ae[R];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}Is=!!Uo,zo=Uo=null}finally{ut=i,he.p=n,k.T=a}}e.current=t,qt=2}}function Gd(){if(qt===2){qt=0;var e=_n,t=Ci,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=k.T,k.T=null;var n=he.p;he.p=2;var i=ut;ut|=4;try{vd(e,t.alternate,t)}finally{ut=i,he.p=n,k.T=a}}qt=3}}function Hd(){if(qt===4||qt===3){qt=0,gt();var e=_n,t=Ci,a=Mi,n=Od;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?qt=5:(qt=0,Ci=_n=null,qd(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(hn=null),ni(a),t=t.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Rn,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=k.T,i=he.p,he.p=2,k.T=null;try{for(var o=e.onRecoverableError,_=0;_<n.length;_++){var R=n[_];o(R.value,{componentStack:R.stack})}}finally{k.T=t,he.p=i}}(Mi&3)!==0&&Cs(),Na(e),i=e.pendingLanes,(a&4194090)!==0&&(i&42)!==0?e===Eo?vr++:(vr=0,Eo=e):vr=0,br(0)}}function qd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$i(t)))}function Cs(e){return Vd(),Gd(),Hd(),Yd()}function Yd(){if(qt!==5)return!1;var e=_n,t=bo;bo=0;var a=ni(Mi),n=k.T,i=he.p;try{he.p=32>a?32:a,k.T=null,a=So,So=null;var o=_n,_=Mi;if(qt=0,Ci=_n=null,Mi=0,(ut&6)!==0)throw Error(b(331));var R=ut;if(ut|=4,Md(o.current),Td(o,o.current,_,a),ut=R,br(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Rn,o)}catch{}return!0}finally{he.p=i,k.T=n,qd(e,t)}}function Fd(e,t,a){t=pa(a,t),t=$l(e.stateNode,t,2),e=nn(e,t,2),e!==null&&(xn(e,2),Na(e))}function pt(e,t,a){if(e.tag===3)Fd(e,e,a);else for(;t!==null;){if(t.tag===3){Fd(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(hn===null||!hn.has(n))){e=pa(a,e),a=Zc(2),n=nn(t,a,2),n!==null&&(Jc(a,n,t,e),xn(n,2),Na(n));break}}t=t.return}}function xo(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new m_;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(a)||(mo=!0,i.add(a),e=S_.bind(null,e,t,a),t.then(e,e))}function S_(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,mt===e&&(it&a)===a&&(xt===4||xt===3&&(it&62914560)===it&&300>Ft()-vo?(ut&2)===0&&Di(e,0):go|=a,xi===it&&(xi=0)),Na(e)}function Kd(e,t){t===0&&(t=zr()),e=di(e,t),e!==null&&(xn(e,t),Na(e))}function E_(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Kd(e,a)}function A_(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(b(314))}n!==null&&n.delete(t),Kd(e,a)}function R_(e,t){return At(e,t)}var Ms=null,wi=null,Co=!1,Ds=!1,Mo=!1,Qn=0;function Na(e){e!==wi&&e.next===null&&(wi===null?Ms=wi=e:wi=wi.next=e),Ds=!0,Co||(Co=!0,x_())}function br(e,t){if(!Mo&&Ds){Mo=!0;do for(var a=!1,n=Ms;n!==null;){if(e!==0){var i=n.pendingLanes;if(i===0)var o=0;else{var _=n.suspendedLanes,R=n.pingedLanes;o=(1<<31-Wt(42|e)+1)-1,o&=i&~(_&~R),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(a=!0,Jd(n,o))}else o=it,o=ai(n,n===mt?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(o&3)===0||Tn(n,o)||(a=!0,Jd(n,o));n=n.next}while(a);Mo=!1}}function T_(){Xd()}function Xd(){Ds=Co=!1;var e=0;Qn!==0&&(k_()&&(e=Qn),Qn=0);for(var t=Ft(),a=null,n=Ms;n!==null;){var i=n.next,o=Qd(n,t);o===0?(n.next=null,a===null?Ms=i:a.next=i,i===null&&(wi=a)):(a=n,(e!==0||(o&3)!==0)&&(Ds=!0)),n=i}br(e)}function Qd(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var _=31-Wt(o),R=1<<_,G=i[_];G===-1?((R&a)===0||(R&n)!==0)&&(i[_]=$s(R,t)):G<=t&&(e.expiredLanes|=R),o&=~R}if(t=mt,a=it,a=ai(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(ct===2||ct===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Ct(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Tn(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Ct(n),ni(a)){case 2:case 8:a=Wn;break;case 32:a=$n;break;case 268435456:a=Nr;break;default:a=$n}return n=Zd.bind(null,e),a=At(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Ct(n),e.callbackPriority=2,e.callbackNode=null,2}function Zd(e,t){if(qt!==0&&qt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Cs()&&e.callbackNode!==a)return null;var n=it;return n=ai(e,e===mt?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Ld(e,n,t),Qd(e,Ft()),e.callbackNode!=null&&e.callbackNode===a?Zd.bind(null,e):null)}function Jd(e,t){if(Cs())return null;Ld(e,t,!0)}function x_(){U_(function(){(ut&6)!==0?At(Jn,T_):Xd()})}function Do(){return Qn===0&&(Qn=Ur()),Qn}function Wd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ma(""+e)}function $d(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function C_(e,t,a,n,i){if(t==="submit"&&a&&a.stateNode===i){var o=Wd((i[yt]||null).action),_=n.submitter;_&&(t=(t=_[yt]||null)?Wd(t.formAction):_.getAttribute("formAction"),t!==null&&(o=t,_=null));var R=new qr("action","action",null,n,i);e.push({event:R,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Qn!==0){var G=_?$d(i,_):new FormData(i);Xl(a,{pending:!0,data:G,method:i.method,action:o},null,G)}}else typeof o=="function"&&(R.preventDefault(),G=_?$d(i,_):new FormData(i),Xl(a,{pending:!0,data:G,method:i.method,action:o},o,G))},currentTarget:i}]})}}for(var Oo=0;Oo<hl.length;Oo++){var wo=hl[Oo],M_=wo.toLowerCase(),D_=wo[0].toUpperCase()+wo.slice(1);Ra(M_,"on"+D_)}Ra(Lu,"onAnimationEnd"),Ra(Bu,"onAnimationIteration"),Ra(ku,"onAnimationStart"),Ra("dblclick","onDoubleClick"),Ra("focusin","onFocus"),Ra("focusout","onBlur"),Ra(Fh,"onTransitionRun"),Ra(Kh,"onTransitionStart"),Ra(Xh,"onTransitionCancel"),Ra(Nu,"onTransitionEnd"),F("onMouseEnter",["mouseout","mouseover"]),F("onMouseLeave",["mouseout","mouseover"]),F("onPointerEnter",["pointerout","pointerover"]),F("onPointerLeave",["pointerout","pointerover"]),U("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),U("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),U("onBeforeInput",["compositionend","keypress","textInput","paste"]),U("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),U("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),U("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sr));function ef(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var _=n.length-1;0<=_;_--){var R=n[_],G=R.instance,se=R.currentTarget;if(R=R.listener,G!==o&&i.isPropagationStopped())break e;o=R,i.currentTarget=se;try{o(i)}catch(ve){ms(ve)}i.currentTarget=null,o=G}else for(_=0;_<n.length;_++){if(R=n[_],G=R.instance,se=R.currentTarget,R=R.listener,G!==o&&i.isPropagationStopped())break e;o=R,i.currentTarget=se;try{o(i)}catch(ve){ms(ve)}i.currentTarget=null,o=G}}}}function at(e,t){var a=t[ji];a===void 0&&(a=t[ji]=new Set);var n=e+"__bubble";a.has(n)||(tf(t,e,2,!1),a.add(n))}function Lo(e,t,a){var n=0;t&&(n|=4),tf(a,e,n,t)}var Os="_reactListening"+Math.random().toString(36).slice(2);function Bo(e){if(!e[Os]){e[Os]=!0,w.forEach(function(a){a!=="selectionchange"&&(O_.has(a)||Lo(a,!1,e),Lo(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Os]||(t[Os]=!0,Lo("selectionchange",!1,t))}}function tf(e,t,a,n){switch(xf(t)){case 2:var i=np;break;case 8:i=ip;break;default:i=Ko}a=i.bind(null,t,a,e),i=void 0,!Ln||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function ko(e,t,a,n,i){var o=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var _=n.tag;if(_===3||_===4){var R=n.stateNode.containerInfo;if(R===i)break;if(_===4)for(_=n.return;_!==null;){var G=_.tag;if((G===3||G===4)&&_.stateNode.containerInfo===i)return;_=_.return}for(;R!==null;){if(_=r(R),_===null)return;if(G=_.tag,G===5||G===6||G===26||G===27){n=o=_;continue e}R=R.parentNode}}n=n.return}wn(function(){var se=o,ve=Dn(a),Ae=[];e:{var ue=Uu.get(e);if(ue!==void 0){var fe=qr,Ye=e;switch(e){case"keypress":if(Gr(a)===0)break e;case"keydown":case"keyup":fe=Rh;break;case"focusin":Ye="focus",fe=il;break;case"focusout":Ye="blur",fe=il;break;case"beforeblur":case"afterblur":fe=il;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=du;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Ch;break;case Lu:case Bu:case ku:fe=ph;break;case Nu:fe=Dh;break;case"scroll":case"scrollend":fe=ch;break;case"wheel":fe=wh;break;case"copy":case"cut":case"paste":fe=gh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=hu;break;case"toggle":case"beforetoggle":fe=Bh}var Ge=(t&4)!==0,_t=!Ge&&(e==="scroll"||e==="scrollend"),ee=Ge?ue!==null?ue+"Capture":null:ue;Ge=[];for(var X=se,ie;X!==null;){var Se=X;if(ie=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||ie===null||ee===null||(Se=Wa(X,ee),Se!=null&&Ge.push(Er(X,Se,ie))),_t)break;X=X.return}0<Ge.length&&(ue=new fe(ue,Ye,null,a,ve),Ae.push({event:ue,listeners:Ge}))}}if((t&7)===0){e:{if(ue=e==="mouseover"||e==="pointerover",fe=e==="mouseout"||e==="pointerout",ue&&a!==ii&&(Ye=a.relatedTarget||a.fromElement)&&(r(Ye)||Ye[za]))break e;if((fe||ue)&&(ue=ve.window===ve?ve:(ue=ve.ownerDocument)?ue.defaultView||ue.parentWindow:window,fe?(Ye=a.relatedTarget||a.toElement,fe=se,Ye=Ye?r(Ye):null,Ye!==null&&(_t=P(Ye),Ge=Ye.tag,Ye!==_t||Ge!==5&&Ge!==27&&Ge!==6)&&(Ye=null)):(fe=null,Ye=se),fe!==Ye)){if(Ge=du,Se="onMouseLeave",ee="onMouseEnter",X="mouse",(e==="pointerout"||e==="pointerover")&&(Ge=hu,Se="onPointerLeave",ee="onPointerEnter",X="pointer"),_t=fe==null?ue:h(fe),ie=Ye==null?ue:h(Ye),ue=new Ge(Se,X+"leave",fe,a,ve),ue.target=_t,ue.relatedTarget=ie,Se=null,r(ve)===se&&(Ge=new Ge(ee,X+"enter",Ye,a,ve),Ge.target=ie,Ge.relatedTarget=_t,Se=Ge),_t=Se,fe&&Ye)t:{for(Ge=fe,ee=Ye,X=0,ie=Ge;ie;ie=Li(ie))X++;for(ie=0,Se=ee;Se;Se=Li(Se))ie++;for(;0<X-ie;)Ge=Li(Ge),X--;for(;0<ie-X;)ee=Li(ee),ie--;for(;X--;){if(Ge===ee||ee!==null&&Ge===ee.alternate)break t;Ge=Li(Ge),ee=Li(ee)}Ge=null}else Ge=null;fe!==null&&af(Ae,ue,fe,Ge,!1),Ye!==null&&_t!==null&&af(Ae,_t,Ye,Ge,!0)}}e:{if(ue=se?h(se):window,fe=ue.nodeName&&ue.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ue.type==="file")var Be=Su;else if(vu(ue))if(Eu)Be=Hh;else{Be=Vh;var $e=Ph}else fe=ue.nodeName,!fe||fe.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?se&&Pi(se.elementType)&&(Be=Su):Be=Gh;if(Be&&(Be=Be(e,se))){bu(Ae,Be,a,ve);break e}$e&&$e(e,ue,se),e==="focusout"&&se&&ue.type==="number"&&se.memoizedProps.value!=null&&Nt(ue,"number",ue.value)}switch($e=se?h(se):window,e){case"focusin":(vu($e)||$e.contentEditable==="true")&&(oi=$e,cl=se,Xi=null);break;case"focusout":Xi=cl=oi=null;break;case"mousedown":dl=!0;break;case"contextmenu":case"mouseup":case"dragend":dl=!1,Ou(Ae,a,ve);break;case"selectionchange":if(Yh)break;case"keydown":case"keyup":Ou(Ae,a,ve)}var Ue;if(sl)e:{switch(e){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else li?gu(e,a)&&(qe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(qe="onCompositionStart");qe&&(_u&&a.locale!=="ko"&&(li||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&li&&(Ue=Vi()):(Oa=ve,si="value"in Oa?Oa.value:Oa.textContent,li=!0)),$e=ws(se,qe),0<$e.length&&(qe=new fu(qe,e,null,a,ve),Ae.push({event:qe,listeners:$e}),Ue?qe.data=Ue:(Ue=yu(a),Ue!==null&&(qe.data=Ue)))),(Ue=Nh?Uh(e,a):zh(e,a))&&(qe=ws(se,"onBeforeInput"),0<qe.length&&($e=new fu("onBeforeInput","beforeinput",null,a,ve),Ae.push({event:$e,listeners:qe}),$e.data=Ue)),C_(Ae,e,se,a,ve)}ef(Ae,t)})}function Er(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ws(e,t){for(var a=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||o===null||(i=Wa(e,a),i!=null&&n.unshift(Er(e,i,o)),i=Wa(e,t),i!=null&&n.push(Er(e,i,o))),e.tag===3)return n;e=e.return}return[]}function Li(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function af(e,t,a,n,i){for(var o=t._reactName,_=[];a!==null&&a!==n;){var R=a,G=R.alternate,se=R.stateNode;if(R=R.tag,G!==null&&G===n)break;R!==5&&R!==26&&R!==27||se===null||(G=se,i?(se=Wa(a,o),se!=null&&_.unshift(Er(a,se,G))):i||(se=Wa(a,o),se!=null&&_.push(Er(a,se,G)))),a=a.return}_.length!==0&&e.push({event:t,listeners:_})}var w_=/\r\n?/g,L_=/\u0000|\uFFFD/g;function nf(e){return(typeof e=="string"?e:""+e).replace(w_,`
`).replace(L_,"")}function rf(e,t){return t=nf(t),nf(e)===t}function Ls(){}function ht(e,t,a,n,i,o){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Xt(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Xt(e,""+n);break;case"className":Oe(e,"class",n);break;case"tabIndex":Oe(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Oe(e,a,n);break;case"style":Ii(e,n,o);break;case"data":if(t!=="object"){Oe(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ma(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(a==="formAction"?(t!=="input"&&ht(e,t,"name",i.name,i,null),ht(e,t,"formEncType",i.formEncType,i,null),ht(e,t,"formMethod",i.formMethod,i,null),ht(e,t,"formTarget",i.formTarget,i,null)):(ht(e,t,"encType",i.encType,i,null),ht(e,t,"method",i.method,i,null),ht(e,t,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ma(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Ls);break;case"onScroll":n!=null&&at("scroll",e);break;case"onScrollEnd":n!=null&&at("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(b(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(b(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Ma(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":at("beforetoggle",e),at("toggle",e),ge(e,"popover",n);break;case"xlinkActuate":Ce(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Ce(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Ce(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Ce(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Ce(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Ce(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":ge(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vr.get(a)||a,ge(e,a,n))}}function No(e,t,a,n,i,o){switch(a){case"style":Ii(e,n,o);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(b(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(b(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Xt(e,n):(typeof n=="number"||typeof n=="bigint")&&Xt(e,""+n);break;case"onScroll":n!=null&&at("scroll",e);break;case"onScrollEnd":n!=null&&at("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Ls);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!O.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),t=a.slice(2,i?a.length-7:void 0),o=e[yt]||null,o=o!=null?o[a]:null,typeof o=="function"&&e.removeEventListener(t,o,i),typeof n=="function")){typeof o!="function"&&o!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,i);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):ge(e,a,n)}}}function Yt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",e),at("load",e);var n=!1,i=!1,o;for(o in a)if(a.hasOwnProperty(o)){var _=a[o];if(_!=null)switch(o){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(b(137,t));default:ht(e,t,o,_,a,null)}}i&&ht(e,t,"srcSet",a.srcSet,a,null),n&&ht(e,t,"src",a.src,a,null);return;case"input":at("invalid",e);var R=o=_=i=null,G=null,se=null;for(n in a)if(a.hasOwnProperty(n)){var ve=a[n];if(ve!=null)switch(n){case"name":i=ve;break;case"type":_=ve;break;case"checked":G=ve;break;case"defaultChecked":se=ve;break;case"value":o=ve;break;case"defaultValue":R=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(b(137,t));break;default:ht(e,t,n,ve,a,null)}}Kt(e,o,R,G,se,_,i,!1),Ve(e);return;case"select":at("invalid",e),n=_=o=null;for(i in a)if(a.hasOwnProperty(i)&&(R=a[i],R!=null))switch(i){case"value":o=R;break;case"defaultValue":_=R;break;case"multiple":n=R;default:ht(e,t,i,R,a,null)}t=o,a=_,e.multiple=!!n,t!=null?St(e,!!n,t,!1):a!=null&&St(e,!!n,a,!0);return;case"textarea":at("invalid",e),o=i=n=null;for(_ in a)if(a.hasOwnProperty(_)&&(R=a[_],R!=null))switch(_){case"value":n=R;break;case"defaultValue":i=R;break;case"children":o=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(b(91));break;default:ht(e,t,_,R,a,null)}nt(e,n,i,o),Ve(e);return;case"option":for(G in a)if(a.hasOwnProperty(G)&&(n=a[G],n!=null))switch(G){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:ht(e,t,G,n,a,null)}return;case"dialog":at("beforetoggle",e),at("toggle",e),at("cancel",e),at("close",e);break;case"iframe":case"object":at("load",e);break;case"video":case"audio":for(n=0;n<Sr.length;n++)at(Sr[n],e);break;case"image":at("error",e),at("load",e);break;case"details":at("toggle",e);break;case"embed":case"source":case"link":at("error",e),at("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in a)if(a.hasOwnProperty(se)&&(n=a[se],n!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(b(137,t));default:ht(e,t,se,n,a,null)}return;default:if(Pi(t)){for(ve in a)a.hasOwnProperty(ve)&&(n=a[ve],n!==void 0&&No(e,t,ve,n,a,void 0));return}}for(R in a)a.hasOwnProperty(R)&&(n=a[R],n!=null&&ht(e,t,R,n,a,null))}function B_(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,_=null,R=null,G=null,se=null,ve=null;for(fe in a){var Ae=a[fe];if(a.hasOwnProperty(fe)&&Ae!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":G=Ae;default:n.hasOwnProperty(fe)||ht(e,t,fe,null,n,Ae)}}for(var ue in n){var fe=n[ue];if(Ae=a[ue],n.hasOwnProperty(ue)&&(fe!=null||Ae!=null))switch(ue){case"type":o=fe;break;case"name":i=fe;break;case"checked":se=fe;break;case"defaultChecked":ve=fe;break;case"value":_=fe;break;case"defaultValue":R=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(b(137,t));break;default:fe!==Ae&&ht(e,t,ue,fe,n,Ae)}}wt(e,_,R,G,se,ve,o,i);return;case"select":fe=_=R=ue=null;for(o in a)if(G=a[o],a.hasOwnProperty(o)&&G!=null)switch(o){case"value":break;case"multiple":fe=G;default:n.hasOwnProperty(o)||ht(e,t,o,null,n,G)}for(i in n)if(o=n[i],G=a[i],n.hasOwnProperty(i)&&(o!=null||G!=null))switch(i){case"value":ue=o;break;case"defaultValue":R=o;break;case"multiple":_=o;default:o!==G&&ht(e,t,i,o,n,G)}t=R,a=_,n=fe,ue!=null?St(e,!!a,ue,!1):!!n!=!!a&&(t!=null?St(e,!!a,t,!0):St(e,!!a,a?[]:"",!1));return;case"textarea":fe=ue=null;for(R in a)if(i=a[R],a.hasOwnProperty(R)&&i!=null&&!n.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:ht(e,t,R,null,n,i)}for(_ in n)if(i=n[_],o=a[_],n.hasOwnProperty(_)&&(i!=null||o!=null))switch(_){case"value":ue=i;break;case"defaultValue":fe=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(b(91));break;default:i!==o&&ht(e,t,_,i,n,o)}It(e,ue,fe);return;case"option":for(var Ye in a)if(ue=a[Ye],a.hasOwnProperty(Ye)&&ue!=null&&!n.hasOwnProperty(Ye))switch(Ye){case"selected":e.selected=!1;break;default:ht(e,t,Ye,null,n,ue)}for(G in n)if(ue=n[G],fe=a[G],n.hasOwnProperty(G)&&ue!==fe&&(ue!=null||fe!=null))switch(G){case"selected":e.selected=ue&&typeof ue!="function"&&typeof ue!="symbol";break;default:ht(e,t,G,ue,n,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in a)ue=a[Ge],a.hasOwnProperty(Ge)&&ue!=null&&!n.hasOwnProperty(Ge)&&ht(e,t,Ge,null,n,ue);for(se in n)if(ue=n[se],fe=a[se],n.hasOwnProperty(se)&&ue!==fe&&(ue!=null||fe!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(b(137,t));break;default:ht(e,t,se,ue,n,fe)}return;default:if(Pi(t)){for(var _t in a)ue=a[_t],a.hasOwnProperty(_t)&&ue!==void 0&&!n.hasOwnProperty(_t)&&No(e,t,_t,void 0,n,ue);for(ve in n)ue=n[ve],fe=a[ve],!n.hasOwnProperty(ve)||ue===fe||ue===void 0&&fe===void 0||No(e,t,ve,ue,n,fe);return}}for(var ee in a)ue=a[ee],a.hasOwnProperty(ee)&&ue!=null&&!n.hasOwnProperty(ee)&&ht(e,t,ee,null,n,ue);for(Ae in n)ue=n[Ae],fe=a[Ae],!n.hasOwnProperty(Ae)||ue===fe||ue==null&&fe==null||ht(e,t,Ae,ue,n,fe)}var Uo=null,zo=null;function Bs(e){return e.nodeType===9?e:e.ownerDocument}function sf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function jo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Io=null;function k_(){var e=window.event;return e&&e.type==="popstate"?e===Io?!1:(Io=e,!0):(Io=null,!1)}var of=typeof setTimeout=="function"?setTimeout:void 0,N_=typeof clearTimeout=="function"?clearTimeout:void 0,uf=typeof Promise=="function"?Promise:void 0,U_=typeof queueMicrotask=="function"?queueMicrotask:typeof uf<"u"?function(e){return uf.resolve(null).then(e).catch(z_)}:of;function z_(e){setTimeout(function(){throw e})}function mn(e){return e==="head"}function cf(e,t){var a=t,n=0,i=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(0<n&&8>n){a=n;var _=e.ownerDocument;if(a&1&&Ar(_.documentElement),a&2&&Ar(_.body),a&4)for(a=_.head,Ar(a),_=a.firstChild;_;){var R=_.nextSibling,G=_.nodeName;_[l]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=R}}if(i===0){e.removeChild(o),wr(t);return}i--}else a==="$"||a==="$?"||a==="$!"?i++:n=a.charCodeAt(0)-48;else n=0;a=o}while(a);wr(t)}function Po(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Po(a),s(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function j_(e,t,a,n){for(;e.nodeType===1;){var i=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[l])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=xa(e.nextSibling),e===null)break}return null}function I_(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=xa(e.nextSibling),e===null))return null;return e}function Vo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function P_(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function xa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Go=null;function df(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function ff(e,t,a){switch(t=Bs(a),e){case"html":if(e=t.documentElement,!e)throw Error(b(452));return e;case"head":if(e=t.head,!e)throw Error(b(453));return e;case"body":if(e=t.body,!e)throw Error(b(454));return e;default:throw Error(b(451))}}function Ar(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);s(e)}var Sa=new Map,hf=new Set;function ks(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Za=he.d;he.d={f:V_,r:G_,D:H_,C:q_,L:Y_,m:F_,X:X_,S:K_,M:Q_};function V_(){var e=Za.f(),t=Ts();return e||t}function G_(e){var t=d(e);t!==null&&t.tag===5&&t.type==="form"?Lc(t):Za.r(e)}var Bi=typeof document>"u"?null:document;function _f(e,t,a){var n=Bi;if(n&&typeof t=="string"&&t){var i=vt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),hf.has(i)||(hf.add(i),e={rel:e,crossOrigin:a,href:t},n.querySelector(i)===null&&(t=n.createElement("link"),Yt(t,"link",e),p(t),n.head.appendChild(t)))}}function H_(e){Za.D(e),_f("dns-prefetch",e,null)}function q_(e,t){Za.C(e,t),_f("preconnect",e,t)}function Y_(e,t,a){Za.L(e,t,a);var n=Bi;if(n&&e&&t){var i='link[rel="preload"][as="'+vt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+vt(a.imageSizes)+'"]')):i+='[href="'+vt(e)+'"]';var o=i;switch(t){case"style":o=ki(e);break;case"script":o=Ni(e)}Sa.has(o)||(e=S({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Sa.set(o,e),n.querySelector(i)!==null||t==="style"&&n.querySelector(Rr(o))||t==="script"&&n.querySelector(Tr(o))||(t=n.createElement("link"),Yt(t,"link",e),p(t),n.head.appendChild(t)))}}function F_(e,t){Za.m(e,t);var a=Bi;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+vt(n)+'"][href="'+vt(e)+'"]',o=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Ni(e)}if(!Sa.has(o)&&(e=S({rel:"modulepreload",href:e},t),Sa.set(o,e),a.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Tr(o)))return}n=a.createElement("link"),Yt(n,"link",e),p(n),a.head.appendChild(n)}}}function K_(e,t,a){Za.S(e,t,a);var n=Bi;if(n&&e){var i=f(n).hoistableStyles,o=ki(e);t=t||"default";var _=i.get(o);if(!_){var R={loading:0,preload:null};if(_=n.querySelector(Rr(o)))R.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Sa.get(o))&&Ho(e,a);var G=_=n.createElement("link");p(G),Yt(G,"link",e),G._p=new Promise(function(se,ve){G.onload=se,G.onerror=ve}),G.addEventListener("load",function(){R.loading|=1}),G.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Ns(_,t,n)}_={type:"stylesheet",instance:_,count:1,state:R},i.set(o,_)}}}function X_(e,t){Za.X(e,t);var a=Bi;if(a&&e){var n=f(a).hoistableScripts,i=Ni(e),o=n.get(i);o||(o=a.querySelector(Tr(i)),o||(e=S({src:e,async:!0},t),(t=Sa.get(i))&&qo(e,t),o=a.createElement("script"),p(o),Yt(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(i,o))}}function Q_(e,t){Za.M(e,t);var a=Bi;if(a&&e){var n=f(a).hoistableScripts,i=Ni(e),o=n.get(i);o||(o=a.querySelector(Tr(i)),o||(e=S({src:e,async:!0,type:"module"},t),(t=Sa.get(i))&&qo(e,t),o=a.createElement("script"),p(o),Yt(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(i,o))}}function pf(e,t,a,n){var i=(i=Ee.current)?ks(i):null;if(!i)throw Error(b(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ki(a.href),a=f(i).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ki(a.href);var o=f(i).hoistableStyles,_=o.get(e);if(_||(i=i.ownerDocument||i,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,_),(o=i.querySelector(Rr(e)))&&!o._p&&(_.instance=o,_.state.loading=5),Sa.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Sa.set(e,a),o||Z_(i,e,a,_.state))),t&&n===null)throw Error(b(528,""));return _}if(t&&n!==null)throw Error(b(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ni(a),a=f(i).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(b(444,e))}}function ki(e){return'href="'+vt(e)+'"'}function Rr(e){return'link[rel="stylesheet"]['+e+"]"}function mf(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Z_(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Yt(t,"link",a),p(t),e.head.appendChild(t))}function Ni(e){return'[src="'+vt(e)+'"]'}function Tr(e){return"script[async]"+e}function gf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+vt(a.href)+'"]');if(n)return t.instance=n,p(n),n;var i=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),p(n),Yt(n,"style",i),Ns(n,a.precedence,e),t.instance=n;case"stylesheet":i=ki(a.href);var o=e.querySelector(Rr(i));if(o)return t.state.loading|=4,t.instance=o,p(o),o;n=mf(a),(i=Sa.get(i))&&Ho(n,i),o=(e.ownerDocument||e).createElement("link"),p(o);var _=o;return _._p=new Promise(function(R,G){_.onload=R,_.onerror=G}),Yt(o,"link",n),t.state.loading|=4,Ns(o,a.precedence,e),t.instance=o;case"script":return o=Ni(a.src),(i=e.querySelector(Tr(o)))?(t.instance=i,p(i),i):(n=a,(i=Sa.get(o))&&(n=S({},a),qo(n,i)),e=e.ownerDocument||e,i=e.createElement("script"),p(i),Yt(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(b(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Ns(n,a.precedence,e));return t.instance}function Ns(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,o=i,_=0;_<n.length;_++){var R=n[_];if(R.dataset.precedence===t)o=R;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Ho(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function qo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Us=null;function yf(e,t,a){if(Us===null){var n=new Map,i=Us=new Map;i.set(a,n)}else i=Us,n=i.get(a),n||(n=new Map,i.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),i=0;i<a.length;i++){var o=a[i];if(!(o[l]||o[kt]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var _=o.getAttribute(t)||"";_=e+_;var R=n.get(_);R?R.push(o):n.set(_,[o])}}return n}function vf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function J_(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function bf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var xr=null;function W_(){}function $_(e,t,a){if(xr===null)throw Error(b(475));var n=xr;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var i=ki(a.href),o=e.querySelector(Rr(i));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=zs.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=o,p(o);return}o=e.ownerDocument||e,a=mf(a),(i=Sa.get(i))&&Ho(a,i),o=o.createElement("link"),p(o);var _=o;_._p=new Promise(function(R,G){_.onload=R,_.onerror=G}),Yt(o,"link",a),t.instance=o}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(n.count++,t=zs.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function ep(){if(xr===null)throw Error(b(475));var e=xr;return e.stylesheets&&e.count===0&&Yo(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Yo(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function zs(){if(this.count--,this.count===0){if(this.stylesheets)Yo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var js=null;function Yo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,js=new Map,t.forEach(tp,e),js=null,zs.call(e))}function tp(e,t){if(!(t.state.loading&4)){var a=js.get(e);if(a)var n=a.get(null);else{a=new Map,js.set(e,a);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var _=i[o];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),n=_)}n&&a.set(null,n)}i=t.instance,_=i.getAttribute("data-precedence"),o=a.get(_)||n,o===n&&a.set(null,i),a.set(_,i),this.count++,n=zs.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),o?o.parentNode.insertBefore(i,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Cr={$$typeof:ce,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function ap(e,t,a,n,i,o,_,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.hiddenUpdates=Ui(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Sf(e,t,a,n,i,o,_,R,G,se,ve,Ae){return e=new ap(e,t,a,_,R,G,se,Ae),t=1,o===!0&&(t|=24),o=sa(3,null,null,t),e.current=o,o.stateNode=e,t=Tl(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:n,isDehydrated:a,cache:t},Dl(o),e}function Ef(e){return e?(e=fi,e):fi}function Af(e,t,a,n,i,o){i=Ef(i),n.context===null?n.context=i:n.pendingContext=i,n=an(t),n.payload={element:a},o=o===void 0?null:o,o!==null&&(n.callback=o),a=nn(e,n,t),a!==null&&(da(a,e,t),nr(a,e,t))}function Rf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Fo(e,t){Rf(e,t),(e=e.alternate)&&Rf(e,t)}function Tf(e){if(e.tag===13){var t=di(e,67108864);t!==null&&da(t,e,67108864),Fo(e,67108864)}}var Is=!0;function np(e,t,a,n){var i=k.T;k.T=null;var o=he.p;try{he.p=2,Ko(e,t,a,n)}finally{he.p=o,k.T=i}}function ip(e,t,a,n){var i=k.T;k.T=null;var o=he.p;try{he.p=8,Ko(e,t,a,n)}finally{he.p=o,k.T=i}}function Ko(e,t,a,n){if(Is){var i=Xo(n);if(i===null)ko(e,t,n,Ps,a),Cf(e,n);else if(sp(i,e,t,a,n))n.stopPropagation();else if(Cf(e,n),t&4&&-1<rp.indexOf(e)){for(;i!==null;){var o=d(i);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var _=Ua(o.pendingLanes);if(_!==0){var R=o;for(R.pendingLanes|=2,R.entangledLanes|=2;_;){var G=1<<31-Wt(_);R.entanglements[1]|=G,_&=~G}Na(o),(ut&6)===0&&(As=Ft()+500,br(0))}}break;case 13:R=di(o,2),R!==null&&da(R,o,2),Ts(),Fo(o,2)}if(o=Xo(n),o===null&&ko(e,t,n,Ps,a),o===i)break;i=o}i!==null&&n.stopPropagation()}else ko(e,t,n,null,a)}}function Xo(e){return e=Dn(e),Qo(e)}var Ps=null;function Qo(e){if(Ps=null,e=r(e),e!==null){var t=P(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=D(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ps=e,null}function xf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zn()){case Jn:return 2;case Wn:return 8;case $n:case Ks:return 32;case Nr:return 268435456;default:return 32}default:return 32}}var Zo=!1,gn=null,yn=null,vn=null,Mr=new Map,Dr=new Map,bn=[],rp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cf(e,t){switch(e){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":vn=null;break;case"pointerover":case"pointerout":Mr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dr.delete(t.pointerId)}}function Or(e,t,a,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=d(t),t!==null&&Tf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function sp(e,t,a,n,i){switch(t){case"focusin":return gn=Or(gn,e,t,a,n,i),!0;case"dragenter":return yn=Or(yn,e,t,a,n,i),!0;case"mouseover":return vn=Or(vn,e,t,a,n,i),!0;case"pointerover":var o=i.pointerId;return Mr.set(o,Or(Mr.get(o)||null,e,t,a,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Dr.set(o,Or(Dr.get(o)||null,e,t,a,n,i)),!0}return!1}function Mf(e){var t=r(e.target);if(t!==null){var a=P(t);if(a!==null){if(t=a.tag,t===13){if(t=D(a),t!==null){e.blockedOn=t,Pr(e.priority,function(){if(a.tag===13){var n=ca();n=Ea(n);var i=di(a,n);i!==null&&da(i,a,n),Fo(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Xo(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);ii=n,a.target.dispatchEvent(n),ii=null}else return t=d(a),t!==null&&Tf(t),e.blockedOn=a,!1;t.shift()}return!0}function Df(e,t,a){Vs(e)&&a.delete(t)}function lp(){Zo=!1,gn!==null&&Vs(gn)&&(gn=null),yn!==null&&Vs(yn)&&(yn=null),vn!==null&&Vs(vn)&&(vn=null),Mr.forEach(Df),Dr.forEach(Df)}function Gs(e,t){e.blockedOn===t&&(e.blockedOn=null,Zo||(Zo=!0,te.unstable_scheduleCallback(te.unstable_NormalPriority,lp)))}var Hs=null;function Of(e){Hs!==e&&(Hs=e,te.unstable_scheduleCallback(te.unstable_NormalPriority,function(){Hs===e&&(Hs=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],i=e[t+2];if(typeof n!="function"){if(Qo(n||a)===null)continue;break}var o=d(a);o!==null&&(e.splice(t,3),t-=3,Xl(o,{pending:!0,data:i,method:a.method,action:n},n,i))}}))}function wr(e){function t(G){return Gs(G,e)}gn!==null&&Gs(gn,e),yn!==null&&Gs(yn,e),vn!==null&&Gs(vn,e),Mr.forEach(t),Dr.forEach(t);for(var a=0;a<bn.length;a++){var n=bn[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<bn.length&&(a=bn[0],a.blockedOn===null);)Mf(a),a.blockedOn===null&&bn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var i=a[n],o=a[n+1],_=i[yt]||null;if(typeof o=="function")_||Of(a);else if(_){var R=null;if(o&&o.hasAttribute("formAction")){if(i=o,_=o[yt]||null)R=_.formAction;else if(Qo(i)!==null)continue}else R=_.action;typeof R=="function"?a[n+1]=R:(a.splice(n,3),n-=3),Of(a)}}}function Jo(e){this._internalRoot=e}qs.prototype.render=Jo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(b(409));var a=t.current,n=ca();Af(a,n,e,t,null,null)},qs.prototype.unmount=Jo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Af(e.current,2,null,e,null,null),Ts(),t[za]=null}};function qs(e){this._internalRoot=e}qs.prototype.unstable_scheduleHydration=function(e){if(e){var t=zi();e={blockedOn:null,target:e,priority:t};for(var a=0;a<bn.length&&t!==0&&t<bn[a].priority;a++);bn.splice(a,0,e),a===0&&Mf(e)}};var wf=ne.version;if(wf!=="19.1.1")throw Error(b(527,wf,"19.1.1"));he.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(b(188)):(e=Object.keys(e).join(","),Error(b(268,e)));return e=y(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var op={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ys=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ys.isDisabled&&Ys.supportsFiber)try{Rn=Ys.inject(op),Jt=Ys}catch{}}return Br.createRoot=function(e,t){if(!A(e))throw Error(b(299));var a=!1,n="",i=Fc,o=Kc,_=Xc,R=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(_=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(R=t.unstable_transitionCallbacks)),t=Sf(e,1,!1,null,null,a,n,i,o,_,R,null),e[za]=t.current,Bo(e),new Jo(t)},Br.hydrateRoot=function(e,t,a){if(!A(e))throw Error(b(299));var n=!1,i="",o=Fc,_=Kc,R=Xc,G=null,se=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(o=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(G=a.unstable_transitionCallbacks),a.formState!==void 0&&(se=a.formState)),t=Sf(e,1,!0,t,a??null,n,i,o,_,R,G,se),t.context=Ef(null),a=t.current,n=ca(),n=Ea(n),i=an(n),i.callback=null,nn(a,i,n),a=n,t.current.lanes=a,xn(t,a),Na(t),e[za]=t.current,Bo(e),new qs(t)},Br.version="19.1.1",Br}var Gf;function yp(){if(Gf)return eu.exports;Gf=1;function te(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(te)}catch(ne){console.error(ne)}}return te(),eu.exports=gp(),eu.exports}var vp=yp(),iu={exports:{}},Hf;function bp(){return Hf||(Hf=1,(function(te,ne){(function(J,b){te.exports=b()})(window,(function(){return(function(J){var b={};function A(P){if(b[P])return b[P].exports;var D=b[P]={i:P,l:!1,exports:{}};return J[P].call(D.exports,D,D.exports,A),D.l=!0,D.exports}return A.m=J,A.c=b,A.d=function(P,D,g){A.o(P,D)||Object.defineProperty(P,D,{enumerable:!0,get:g})},A.r=function(P){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(P,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(P,"__esModule",{value:!0})},A.t=function(P,D){if(1&D&&(P=A(P)),8&D||4&D&&typeof P=="object"&&P&&P.__esModule)return P;var g=Object.create(null);if(A.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:P}),2&D&&typeof P!="string")for(var y in P)A.d(g,y,(function(m){return P[m]}).bind(null,y));return g},A.n=function(P){var D=P&&P.__esModule?function(){return P.default}:function(){return P};return A.d(D,"a",D),D},A.o=function(P,D){return Object.prototype.hasOwnProperty.call(P,D)},A.p="",A(A.s=20)})([function(J,b,A){var P=A(9),D=A.n(P),g=(function(){function y(){}return y.e=function(m,S){m&&!y.FORCE_GLOBAL_TAG||(m=y.GLOBAL_TAG);var M="[".concat(m,"] > ").concat(S);y.ENABLE_CALLBACK&&y.emitter.emit("log","error",M),y.ENABLE_ERROR&&(console.error?console.error(M):console.warn?console.warn(M):console.log(M))},y.i=function(m,S){m&&!y.FORCE_GLOBAL_TAG||(m=y.GLOBAL_TAG);var M="[".concat(m,"] > ").concat(S);y.ENABLE_CALLBACK&&y.emitter.emit("log","info",M),y.ENABLE_INFO&&(console.info?console.info(M):console.log(M))},y.w=function(m,S){m&&!y.FORCE_GLOBAL_TAG||(m=y.GLOBAL_TAG);var M="[".concat(m,"] > ").concat(S);y.ENABLE_CALLBACK&&y.emitter.emit("log","warn",M),y.ENABLE_WARN&&(console.warn?console.warn(M):console.log(M))},y.d=function(m,S){m&&!y.FORCE_GLOBAL_TAG||(m=y.GLOBAL_TAG);var M="[".concat(m,"] > ").concat(S);y.ENABLE_CALLBACK&&y.emitter.emit("log","debug",M),y.ENABLE_DEBUG&&(console.debug?console.debug(M):console.log(M))},y.v=function(m,S){m&&!y.FORCE_GLOBAL_TAG||(m=y.GLOBAL_TAG);var M="[".concat(m,"] > ").concat(S);y.ENABLE_CALLBACK&&y.emitter.emit("log","verbose",M),y.ENABLE_VERBOSE&&console.log(M)},y})();g.GLOBAL_TAG="mpegts.js",g.FORCE_GLOBAL_TAG=!1,g.ENABLE_ERROR=!0,g.ENABLE_INFO=!0,g.ENABLE_WARN=!0,g.ENABLE_DEBUG=!0,g.ENABLE_VERBOSE=!0,g.ENABLE_CALLBACK=!1,g.emitter=new D.a,b.a=g},function(J,b,A){var P;(function(D){D.IO_ERROR="io_error",D.DEMUX_ERROR="demux_error",D.INIT_SEGMENT="init_segment",D.MEDIA_SEGMENT="media_segment",D.LOADING_COMPLETE="loading_complete",D.RECOVERED_EARLY_EOF="recovered_early_eof",D.MEDIA_INFO="media_info",D.METADATA_ARRIVED="metadata_arrived",D.SCRIPTDATA_ARRIVED="scriptdata_arrived",D.TIMED_ID3_METADATA_ARRIVED="timed_id3_metadata_arrived",D.SYNCHRONOUS_KLV_METADATA_ARRIVED="synchronous_klv_metadata_arrived",D.ASYNCHRONOUS_KLV_METADATA_ARRIVED="asynchronous_klv_metadata_arrived",D.SMPTE2038_METADATA_ARRIVED="smpte2038_metadata_arrived",D.SCTE35_METADATA_ARRIVED="scte35_metadata_arrived",D.PES_PRIVATE_DATA_DESCRIPTOR="pes_private_data_descriptor",D.PES_PRIVATE_DATA_ARRIVED="pes_private_data_arrived",D.STATISTICS_INFO="statistics_info",D.RECOMMEND_SEEKPOINT="recommend_seekpoint"})(P||(P={})),b.a=P},function(J,b,A){A.d(b,"c",(function(){return D})),A.d(b,"b",(function(){return g})),A.d(b,"a",(function(){return y}));var P=A(3),D={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},g={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},y=(function(){function m(S){this._type=S||"undefined",this._status=D.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return m.prototype.destroy=function(){this._status=D.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},m.prototype.isWorking=function(){return this._status===D.kConnecting||this._status===D.kBuffering},Object.defineProperty(m.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(S){this._onContentLengthKnown=S},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(S){this._onURLRedirect=S},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(S){this._onDataArrival=S},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onError",{get:function(){return this._onError},set:function(S){this._onError=S},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onComplete",{get:function(){return this._onComplete},set:function(S){this._onComplete=S},enumerable:!1,configurable:!0}),m.prototype.open=function(S,M){throw new P.c("Unimplemented abstract function!")},m.prototype.abort=function(){throw new P.c("Unimplemented abstract function!")},m})()},function(J,b,A){A.d(b,"d",(function(){return g})),A.d(b,"a",(function(){return y})),A.d(b,"b",(function(){return m})),A.d(b,"c",(function(){return S}));var P,D=(P=function(M,L){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,z){C.__proto__=z}||function(C,z){for(var V in z)Object.prototype.hasOwnProperty.call(z,V)&&(C[V]=z[V])})(M,L)},function(M,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");function C(){this.constructor=M}P(M,L),M.prototype=L===null?Object.create(L):(C.prototype=L.prototype,new C)}),g=(function(){function M(L){this._message=L}return Object.defineProperty(M.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),M.prototype.toString=function(){return this.name+": "+this.message},M})(),y=(function(M){function L(C){return M.call(this,C)||this}return D(L,M),Object.defineProperty(L.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),L})(g),m=(function(M){function L(C){return M.call(this,C)||this}return D(L,M),Object.defineProperty(L.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),L})(g),S=(function(M){function L(C){return M.call(this,C)||this}return D(L,M),Object.defineProperty(L.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),L})(g)},function(J,b,A){var P;(function(D){D.ERROR="error",D.LOADING_COMPLETE="loading_complete",D.RECOVERED_EARLY_EOF="recovered_early_eof",D.MEDIA_INFO="media_info",D.METADATA_ARRIVED="metadata_arrived",D.SCRIPTDATA_ARRIVED="scriptdata_arrived",D.TIMED_ID3_METADATA_ARRIVED="timed_id3_metadata_arrived",D.SYNCHRONOUS_KLV_METADATA_ARRIVED="synchronous_klv_metadata_arrived",D.ASYNCHRONOUS_KLV_METADATA_ARRIVED="asynchronous_klv_metadata_arrived",D.SMPTE2038_METADATA_ARRIVED="smpte2038_metadata_arrived",D.SCTE35_METADATA_ARRIVED="scte35_metadata_arrived",D.PES_PRIVATE_DATA_DESCRIPTOR="pes_private_data_descriptor",D.PES_PRIVATE_DATA_ARRIVED="pes_private_data_arrived",D.STATISTICS_INFO="statistics_info",D.DESTROYING="destroying"})(P||(P={})),b.a=P},function(J,b,A){var P={};(function(){var D=self.navigator.userAgent.toLowerCase(),g=/(edge)\/([\w.]+)/.exec(D)||/(opr)[\/]([\w.]+)/.exec(D)||/(chrome)[ \/]([\w.]+)/.exec(D)||/(iemobile)[\/]([\w.]+)/.exec(D)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(D)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(D)||/(webkit)[ \/]([\w.]+)/.exec(D)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(D)||/(msie) ([\w.]+)/.exec(D)||D.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(D)||D.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(D)||[],y=/(ipad)/.exec(D)||/(ipod)/.exec(D)||/(windows phone)/.exec(D)||/(iphone)/.exec(D)||/(kindle)/.exec(D)||/(android)/.exec(D)||/(windows)/.exec(D)||/(mac)/.exec(D)||/(linux)/.exec(D)||/(cros)/.exec(D)||[],m={browser:g[5]||g[3]||g[1]||"",version:g[2]||g[4]||"0",majorVersion:g[4]||g[2]||"0",platform:y[0]||""},S={};if(m.browser){S[m.browser]=!0;var M=m.majorVersion.split(".");S.version={major:parseInt(m.majorVersion,10),string:m.version},M.length>1&&(S.version.minor=parseInt(M[1],10)),M.length>2&&(S.version.build=parseInt(M[2],10))}m.platform&&(S[m.platform]=!0),(S.chrome||S.opr||S.safari)&&(S.webkit=!0),(S.rv||S.iemobile)&&(S.rv&&delete S.rv,m.browser="msie",S.msie=!0),S.edge&&(delete S.edge,m.browser="msedge",S.msedge=!0),S.opr&&(m.browser="opera",S.opera=!0),S.safari&&S.android&&(m.browser="android",S.android=!0);for(var L in S.name=m.browser,S.platform=m.platform,P)P.hasOwnProperty(L)&&delete P[L];Object.assign(P,S)})(),b.a=P},function(J,b,A){b.a={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"}},function(J,b,A){var P;(function(D){D.ERROR="error",D.SOURCE_OPEN="source_open",D.UPDATE_END="update_end",D.BUFFER_FULL="buffer_full",D.START_STREAMING="start_streaming",D.END_STREAMING="end_streaming"})(P||(P={})),b.a=P},function(J,b,A){var P=A(9),D=A.n(P),g=A(0),y=(function(){function m(){}return Object.defineProperty(m,"forceGlobalTag",{get:function(){return g.a.FORCE_GLOBAL_TAG},set:function(S){g.a.FORCE_GLOBAL_TAG=S,m._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(m,"globalTag",{get:function(){return g.a.GLOBAL_TAG},set:function(S){g.a.GLOBAL_TAG=S,m._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(m,"enableAll",{get:function(){return g.a.ENABLE_VERBOSE&&g.a.ENABLE_DEBUG&&g.a.ENABLE_INFO&&g.a.ENABLE_WARN&&g.a.ENABLE_ERROR},set:function(S){g.a.ENABLE_VERBOSE=S,g.a.ENABLE_DEBUG=S,g.a.ENABLE_INFO=S,g.a.ENABLE_WARN=S,g.a.ENABLE_ERROR=S,m._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(m,"enableDebug",{get:function(){return g.a.ENABLE_DEBUG},set:function(S){g.a.ENABLE_DEBUG=S,m._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(m,"enableVerbose",{get:function(){return g.a.ENABLE_VERBOSE},set:function(S){g.a.ENABLE_VERBOSE=S,m._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(m,"enableInfo",{get:function(){return g.a.ENABLE_INFO},set:function(S){g.a.ENABLE_INFO=S,m._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(m,"enableWarn",{get:function(){return g.a.ENABLE_WARN},set:function(S){g.a.ENABLE_WARN=S,m._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(m,"enableError",{get:function(){return g.a.ENABLE_ERROR},set:function(S){g.a.ENABLE_ERROR=S,m._notifyChange()},enumerable:!1,configurable:!0}),m.getConfig=function(){return{globalTag:g.a.GLOBAL_TAG,forceGlobalTag:g.a.FORCE_GLOBAL_TAG,enableVerbose:g.a.ENABLE_VERBOSE,enableDebug:g.a.ENABLE_DEBUG,enableInfo:g.a.ENABLE_INFO,enableWarn:g.a.ENABLE_WARN,enableError:g.a.ENABLE_ERROR,enableCallback:g.a.ENABLE_CALLBACK}},m.applyConfig=function(S){g.a.GLOBAL_TAG=S.globalTag,g.a.FORCE_GLOBAL_TAG=S.forceGlobalTag,g.a.ENABLE_VERBOSE=S.enableVerbose,g.a.ENABLE_DEBUG=S.enableDebug,g.a.ENABLE_INFO=S.enableInfo,g.a.ENABLE_WARN=S.enableWarn,g.a.ENABLE_ERROR=S.enableError,g.a.ENABLE_CALLBACK=S.enableCallback},m._notifyChange=function(){var S=m.emitter;if(S.listenerCount("change")>0){var M=m.getConfig();S.emit("change",M)}},m.registerListener=function(S){m.emitter.addListener("change",S)},m.removeListener=function(S){m.emitter.removeListener("change",S)},m.addLogListener=function(S){g.a.emitter.addListener("log",S),g.a.emitter.listenerCount("log")>0&&(g.a.ENABLE_CALLBACK=!0,m._notifyChange())},m.removeLogListener=function(S){g.a.emitter.removeListener("log",S),g.a.emitter.listenerCount("log")===0&&(g.a.ENABLE_CALLBACK=!1,m._notifyChange())},m})();y.emitter=new D.a,b.a=y},function(J,b,A){var P,D=typeof Reflect=="object"?Reflect:null,g=D&&typeof D.apply=="function"?D.apply:function(I,$,re){return Function.prototype.apply.call(I,$,re)};P=D&&typeof D.ownKeys=="function"?D.ownKeys:Object.getOwnPropertySymbols?function(I){return Object.getOwnPropertyNames(I).concat(Object.getOwnPropertySymbols(I))}:function(I){return Object.getOwnPropertyNames(I)};var y=Number.isNaN||function(I){return I!=I};function m(){m.init.call(this)}J.exports=m,J.exports.once=function(I,$){return new Promise((function(re,H){function x(T){I.removeListener($,E),H(T)}function E(){typeof I.removeListener=="function"&&I.removeListener("error",x),re([].slice.call(arguments))}ce(I,$,E,{once:!0}),$!=="error"&&(function(T,B,oe){typeof T.on=="function"&&ce(T,"error",B,oe)})(I,x,{once:!0})}))},m.EventEmitter=m,m.prototype._events=void 0,m.prototype._eventsCount=0,m.prototype._maxListeners=void 0;var S=10;function M(I){if(typeof I!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}function L(I){return I._maxListeners===void 0?m.defaultMaxListeners:I._maxListeners}function C(I,$,re,H){var x,E,T,B;if(M(re),(E=I._events)===void 0?(E=I._events=Object.create(null),I._eventsCount=0):(E.newListener!==void 0&&(I.emit("newListener",$,re.listener?re.listener:re),E=I._events),T=E[$]),T===void 0)T=E[$]=re,++I._eventsCount;else if(typeof T=="function"?T=E[$]=H?[re,T]:[T,re]:H?T.unshift(re):T.push(re),(x=L(I))>0&&T.length>x&&!T.warned){T.warned=!0;var oe=new Error("Possible EventEmitter memory leak detected. "+T.length+" "+String($)+" listeners added. Use emitter.setMaxListeners() to increase limit");oe.name="MaxListenersExceededWarning",oe.emitter=I,oe.type=$,oe.count=T.length,B=oe,console&&console.warn&&console.warn(B)}return I}function z(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function V(I,$,re){var H={fired:!1,wrapFn:void 0,target:I,type:$,listener:re},x=z.bind(H);return x.listener=re,H.wrapFn=x,x}function K(I,$,re){var H=I._events;if(H===void 0)return[];var x=H[$];return x===void 0?[]:typeof x=="function"?re?[x.listener||x]:[x]:re?(function(E){for(var T=new Array(E.length),B=0;B<T.length;++B)T[B]=E[B].listener||E[B];return T})(x):Q(x,x.length)}function W(I){var $=this._events;if($!==void 0){var re=$[I];if(typeof re=="function")return 1;if(re!==void 0)return re.length}return 0}function Q(I,$){for(var re=new Array($),H=0;H<$;++H)re[H]=I[H];return re}function ce(I,$,re,H){if(typeof I.on=="function")H.once?I.once($,re):I.on($,re);else{if(typeof I.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I);I.addEventListener($,(function x(E){H.once&&I.removeEventListener($,x),re(E)}))}}Object.defineProperty(m,"defaultMaxListeners",{enumerable:!0,get:function(){return S},set:function(I){if(typeof I!="number"||I<0||y(I))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");S=I}}),m.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},m.prototype.setMaxListeners=function(I){if(typeof I!="number"||I<0||y(I))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+I+".");return this._maxListeners=I,this},m.prototype.getMaxListeners=function(){return L(this)},m.prototype.emit=function(I){for(var $=[],re=1;re<arguments.length;re++)$.push(arguments[re]);var H=I==="error",x=this._events;if(x!==void 0)H=H&&x.error===void 0;else if(!H)return!1;if(H){var E;if($.length>0&&(E=$[0]),E instanceof Error)throw E;var T=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw T.context=E,T}var B=x[I];if(B===void 0)return!1;if(typeof B=="function")g(B,this,$);else{var oe=B.length,Te=Q(B,oe);for(re=0;re<oe;++re)g(Te[re],this,$)}return!0},m.prototype.addListener=function(I,$){return C(this,I,$,!1)},m.prototype.on=m.prototype.addListener,m.prototype.prependListener=function(I,$){return C(this,I,$,!0)},m.prototype.once=function(I,$){return M($),this.on(I,V(this,I,$)),this},m.prototype.prependOnceListener=function(I,$){return M($),this.prependListener(I,V(this,I,$)),this},m.prototype.removeListener=function(I,$){var re,H,x,E,T;if(M($),(H=this._events)===void 0)return this;if((re=H[I])===void 0)return this;if(re===$||re.listener===$)--this._eventsCount==0?this._events=Object.create(null):(delete H[I],H.removeListener&&this.emit("removeListener",I,re.listener||$));else if(typeof re!="function"){for(x=-1,E=re.length-1;E>=0;E--)if(re[E]===$||re[E].listener===$){T=re[E].listener,x=E;break}if(x<0)return this;x===0?re.shift():(function(B,oe){for(;oe+1<B.length;oe++)B[oe]=B[oe+1];B.pop()})(re,x),re.length===1&&(H[I]=re[0]),H.removeListener!==void 0&&this.emit("removeListener",I,T||$)}return this},m.prototype.off=m.prototype.removeListener,m.prototype.removeAllListeners=function(I){var $,re,H;if((re=this._events)===void 0)return this;if(re.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):re[I]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete re[I]),this;if(arguments.length===0){var x,E=Object.keys(re);for(H=0;H<E.length;++H)(x=E[H])!=="removeListener"&&this.removeAllListeners(x);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof($=re[I])=="function")this.removeListener(I,$);else if($!==void 0)for(H=$.length-1;H>=0;H--)this.removeListener(I,$[H]);return this},m.prototype.listeners=function(I){return K(this,I,!0)},m.prototype.rawListeners=function(I){return K(this,I,!1)},m.listenerCount=function(I,$){return typeof I.listenerCount=="function"?I.listenerCount($):W.call(I,$)},m.prototype.listenerCount=W,m.prototype.eventNames=function(){return this._eventsCount>0?P(this._events):[]}},function(J,b,A){A.d(b,"b",(function(){return g})),A.d(b,"a",(function(){return y}));var P=A(2),D=A(6),g={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},y={NETWORK_EXCEPTION:P.b.EXCEPTION,NETWORK_STATUS_CODE_INVALID:P.b.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:P.b.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:P.b.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:D.a.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:D.a.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:D.a.CODEC_UNSUPPORTED}},function(J,b,A){A.d(b,"d",(function(){return P})),A.d(b,"b",(function(){return D})),A.d(b,"a",(function(){return g})),A.d(b,"c",(function(){return y}));var P=function(m,S,M,L,C){this.dts=m,this.pts=S,this.duration=M,this.originalDts=L,this.isSyncPoint=C,this.fileposition=null},D=(function(){function m(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return m.prototype.appendSyncPoint=function(S){S.isSyncPoint=!0,this.syncPoints.push(S)},m})(),g=(function(){function m(){this._list=[]}return m.prototype.clear=function(){this._list=[]},m.prototype.appendArray=function(S){var M=this._list;S.length!==0&&(M.length>0&&S[0].originalDts<M[M.length-1].originalDts&&this.clear(),Array.prototype.push.apply(M,S))},m.prototype.getLastSyncPointBeforeDts=function(S){if(this._list.length==0)return null;var M=this._list,L=0,C=M.length-1,z=0,V=0,K=C;for(S<M[0].dts&&(L=0,V=K+1);V<=K;){if((z=V+Math.floor((K-V)/2))===C||S>=M[z].dts&&S<M[z+1].dts){L=z;break}M[z].dts<S?V=z+1:K=z-1}return this._list[L]},m})(),y=(function(){function m(S){this._type=S,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(m.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),m.prototype.isEmpty=function(){return this._list.length===0},m.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},m.prototype._searchNearestSegmentBefore=function(S){var M=this._list;if(M.length===0)return-2;var L=M.length-1,C=0,z=0,V=L,K=0;if(S<M[0].originalBeginDts)return K=-1;for(;z<=V;){if((C=z+Math.floor((V-z)/2))===L||S>M[C].lastSample.originalDts&&S<M[C+1].originalBeginDts){K=C;break}M[C].originalBeginDts<S?z=C+1:V=C-1}return K},m.prototype._searchNearestSegmentAfter=function(S){return this._searchNearestSegmentBefore(S)+1},m.prototype.append=function(S){var M=this._list,L=S,C=this._lastAppendLocation,z=0;C!==-1&&C<M.length&&L.originalBeginDts>=M[C].lastSample.originalDts&&(C===M.length-1||C<M.length-1&&L.originalBeginDts<M[C+1].originalBeginDts)?z=C+1:M.length>0&&(z=this._searchNearestSegmentBefore(L.originalBeginDts)+1),this._lastAppendLocation=z,this._list.splice(z,0,L)},m.prototype.getLastSegmentBefore=function(S){var M=this._searchNearestSegmentBefore(S);return M>=0?this._list[M]:null},m.prototype.getLastSampleBefore=function(S){var M=this.getLastSegmentBefore(S);return M!=null?M.lastSample:null},m.prototype.getLastSyncPointBefore=function(S){for(var M=this._searchNearestSegmentBefore(S),L=this._list[M].syncPoints;L.length===0&&M>0;)M--,L=this._list[M].syncPoints;return L.length>0?L[L.length-1]:null},m})()},function(J,b,A){var P=(function(){function D(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return D.prototype.isComplete=function(){var g=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,y=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&g&&y},D.prototype.isSeekable=function(){return this.hasKeyframesIndex===!0},D.prototype.getNearestKeyframe=function(g){if(this.keyframesIndex==null)return null;var y=this.keyframesIndex,m=this._search(y.times,g);return{index:m,milliseconds:y.times[m],fileposition:y.filepositions[m]}},D.prototype._search=function(g,y){var m=0,S=g.length-1,M=0,L=0,C=S;for(y<g[0]&&(m=0,L=C+1);L<=C;){if((M=L+Math.floor((C-L)/2))===S||y>=g[M]&&y<g[M+1]){m=M;break}g[M]<y?L=M+1:C=M-1}return m},D})();b.a=P},function(J,b,A){var P=A(9),D=A.n(P),g=A(0),y=A(5),m=A(12);function S(u,l,s){var r=u;if(l+s<r.length){for(;s--;)if((192&r[++l])!=128)return!1;return!0}return!1}var M,L=function(u){for(var l=[],s=u,r=0,d=u.length;r<d;)if(s[r]<128)l.push(String.fromCharCode(s[r])),++r;else{if(!(s[r]<192)){if(s[r]<224){if(S(s,r,1)&&(h=(31&s[r])<<6|63&s[r+1])>=128){l.push(String.fromCharCode(65535&h)),r+=2;continue}}else if(s[r]<240){if(S(s,r,2)&&(h=(15&s[r])<<12|(63&s[r+1])<<6|63&s[r+2])>=2048&&(63488&h)!=55296){l.push(String.fromCharCode(65535&h)),r+=3;continue}}else if(s[r]<248){var h;if(S(s,r,3)&&(h=(7&s[r])<<18|(63&s[r+1])<<12|(63&s[r+2])<<6|63&s[r+3])>65536&&h<1114112){h-=65536,l.push(String.fromCharCode(h>>>10|55296)),l.push(String.fromCharCode(1023&h|56320)),r+=4;continue}}}l.push("�"),++r}return l.join("")},C=A(3),z=(M=new ArrayBuffer(2),new DataView(M).setInt16(0,256,!0),new Int16Array(M)[0]===256),V=(function(){function u(){}return u.parseScriptData=function(l,s,r){var d={};try{var h=u.parseValue(l,s,r),f=u.parseValue(l,s+h.size,r-h.size);d[h.data]=f.data}catch(p){g.a.e("AMF",p.toString())}return d},u.parseObject=function(l,s,r){if(r<3)throw new C.a("Data not enough when parse ScriptDataObject");var d=u.parseString(l,s,r),h=u.parseValue(l,s+d.size,r-d.size),f=h.objectEnd;return{data:{name:d.data,value:h.data},size:d.size+h.size,objectEnd:f}},u.parseVariable=function(l,s,r){return u.parseObject(l,s,r)},u.parseString=function(l,s,r){if(r<2)throw new C.a("Data not enough when parse String");var d=new DataView(l,s,r).getUint16(0,!z);return{data:d>0?L(new Uint8Array(l,s+2,d)):"",size:2+d}},u.parseLongString=function(l,s,r){if(r<4)throw new C.a("Data not enough when parse LongString");var d=new DataView(l,s,r).getUint32(0,!z);return{data:d>0?L(new Uint8Array(l,s+4,d)):"",size:4+d}},u.parseDate=function(l,s,r){if(r<10)throw new C.a("Data size invalid when parse Date");var d=new DataView(l,s,r),h=d.getFloat64(0,!z),f=d.getInt16(8,!z);return{data:new Date(h+=60*f*1e3),size:10}},u.parseValue=function(l,s,r){if(r<1)throw new C.a("Data not enough when parse Value");var d,h=new DataView(l,s,r),f=1,p=h.getUint8(0),w=!1;try{switch(p){case 0:d=h.getFloat64(1,!z),f+=8;break;case 1:d=!!h.getUint8(1),f+=1;break;case 2:var O=u.parseString(l,s+1,r-1);d=O.data,f+=O.size;break;case 3:d={};var U=0;for((16777215&h.getUint32(r-4,!z))==9&&(U=3);f<r-4;){var F=u.parseObject(l,s+f,r-f-U);if(F.objectEnd)break;d[F.data.name]=F.data.value,f+=F.size}f<=r-3&&(16777215&h.getUint32(f-1,!z))===9&&(f+=3);break;case 8:for(d={},f+=4,U=0,(16777215&h.getUint32(r-4,!z))==9&&(U=3);f<r-8;){var Y=u.parseVariable(l,s+f,r-f-U);if(Y.objectEnd)break;d[Y.data.name]=Y.data.value,f+=Y.size}f<=r-3&&(16777215&h.getUint32(f-1,!z))===9&&(f+=3);break;case 9:d=void 0,f=1,w=!0;break;case 10:d=[];var Z=h.getUint32(1,!z);f+=4;for(var de=0;de<Z;de++){var Re=u.parseValue(l,s+f,r-f);d.push(Re.data),f+=Re.size}break;case 11:var ge=u.parseDate(l,s+1,r-1);d=ge.data,f+=ge.size;break;case 12:var Oe=u.parseString(l,s+1,r-1);d=Oe.data,f+=Oe.size;break;default:f=r,g.a.w("AMF","Unsupported AMF value type "+p)}}catch(Ce){g.a.e("AMF",Ce.toString())}return{data:d,size:f,objectEnd:w}},u})(),K=(function(){function u(l){this.TAG="ExpGolomb",this._buffer=l,this._buffer_index=0,this._total_bytes=l.byteLength,this._total_bits=8*l.byteLength,this._current_word=0,this._current_word_bits_left=0}return u.prototype.destroy=function(){this._buffer=null},u.prototype._fillCurrentWord=function(){var l=this._total_bytes-this._buffer_index;if(l<=0)throw new C.a("ExpGolomb: _fillCurrentWord() but no bytes available");var s=Math.min(4,l),r=new Uint8Array(4);r.set(this._buffer.subarray(this._buffer_index,this._buffer_index+s)),this._current_word=new DataView(r.buffer).getUint32(0,!1),this._buffer_index+=s,this._current_word_bits_left=8*s},u.prototype.readBits=function(l){if(l>32)throw new C.b("ExpGolomb: readBits() bits exceeded max 32bits!");if(l<=this._current_word_bits_left){var s=this._current_word>>>32-l;return this._current_word<<=l,this._current_word_bits_left-=l,s}var r=this._current_word_bits_left?this._current_word:0;r>>>=32-this._current_word_bits_left;var d=l-this._current_word_bits_left;this._fillCurrentWord();var h=Math.min(d,this._current_word_bits_left),f=this._current_word>>>32-h;return this._current_word<<=h,this._current_word_bits_left-=h,r=r<<h|f},u.prototype.readBool=function(){return this.readBits(1)===1},u.prototype.readByte=function(){return this.readBits(8)},u.prototype._skipLeadingZero=function(){var l;for(l=0;l<this._current_word_bits_left;l++)if((this._current_word&2147483648>>>l)!=0)return this._current_word<<=l,this._current_word_bits_left-=l,l;return this._fillCurrentWord(),l+this._skipLeadingZero()},u.prototype.readUEG=function(){var l=this._skipLeadingZero();return this.readBits(l+1)-1},u.prototype.readSEG=function(){var l=this.readUEG();return 1&l?l+1>>>1:-1*(l>>>1)},u})(),W=(function(){function u(){}return u._ebsp2rbsp=function(l){for(var s=l,r=s.byteLength,d=new Uint8Array(r),h=0,f=0;f<r;f++)f>=2&&s[f]===3&&s[f-1]===0&&s[f-2]===0||(d[h]=s[f],h++);return new Uint8Array(d.buffer,0,h)},u.parseSPS=function(l){for(var s=l.subarray(1,4),r="avc1.",d=0;d<3;d++){var h=s[d].toString(16);h.length<2&&(h="0"+h),r+=h}var f=u._ebsp2rbsp(l),p=new K(f);p.readByte();var w=p.readByte();p.readByte();var O=p.readByte();p.readUEG();var U=u.getProfileString(w),F=u.getLevelString(O),Y=1,Z=420,de=8,Re=8;if((w===100||w===110||w===122||w===244||w===44||w===83||w===86||w===118||w===128||w===138||w===144)&&((Y=p.readUEG())===3&&p.readBits(1),Y<=3&&(Z=[0,420,422,444][Y]),de=p.readUEG()+8,Re=p.readUEG()+8,p.readBits(1),p.readBool()))for(var ge=Y!==3?8:12,Oe=0;Oe<ge;Oe++)p.readBool()&&(Oe<6?u._skipScalingList(p,16):u._skipScalingList(p,64));p.readUEG();var Ce=p.readUEG();if(Ce===0)p.readUEG();else if(Ce===1){p.readBits(1),p.readSEG(),p.readSEG();var xe=p.readUEG();for(Oe=0;Oe<xe;Oe++)p.readSEG()}var ze=p.readUEG();p.readBits(1);var He=p.readUEG(),Me=p.readUEG(),ke=p.readBits(1);ke===0&&p.readBits(1),p.readBits(1);var Fe=0,je=0,Ne=0,et=0;p.readBool()&&(Fe=p.readUEG(),je=p.readUEG(),Ne=p.readUEG(),et=p.readUEG());var lt=1,Ve=1,Xe=0,rt=!0,Rt=0,vt=0;if(p.readBool()){if(p.readBool()){var wt=p.readByte();wt>0&&wt<16?(lt=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][wt-1],Ve=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][wt-1]):wt===255&&(lt=p.readByte()<<8|p.readByte(),Ve=p.readByte()<<8|p.readByte())}if(p.readBool()&&p.readBool(),p.readBool()&&(p.readBits(4),p.readBool()&&p.readBits(24)),p.readBool()&&(p.readUEG(),p.readUEG()),p.readBool()){var Kt=p.readBits(32),Nt=p.readBits(32);rt=p.readBool(),Xe=(Rt=Nt)/(vt=2*Kt)}}var St=1;lt===1&&Ve===1||(St=lt/Ve);var It=0,nt=0;Y===0?(It=1,nt=2-ke):(It=Y===3?1:2,nt=(Y===1?2:1)*(2-ke));var Xt=16*(He+1),Aa=16*(Me+1)*(2-ke);Xt-=(Fe+je)*It,Aa-=(Ne+et)*nt;var Cn=Math.ceil(Xt*St);return p.destroy(),p=null,{codec_mimetype:r,profile_idc:w,level_idc:O,profile_string:U,level_string:F,chroma_format_idc:Y,bit_depth:de,bit_depth_luma:de,bit_depth_chroma:Re,ref_frames:ze,chroma_format:Z,chroma_format_string:u.getChromaFormatString(Z),frame_rate:{fixed:rt,fps:Xe,fps_den:vt,fps_num:Rt},sar_ratio:{width:lt,height:Ve},codec_size:{width:Xt,height:Aa},present_size:{width:Cn,height:Aa}}},u._skipScalingList=function(l,s){for(var r=8,d=8,h=0;h<s;h++)d!==0&&(d=(r+l.readSEG()+256)%256),r=d===0?r:d},u.getProfileString=function(l){switch(l){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},u.getLevelString=function(l){return(l/10).toFixed(1)},u.getChromaFormatString=function(l){switch(l){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},u})(),Q=A(6),ce=(function(){function u(){}return u._ebsp2rbsp=function(l){for(var s=l,r=s.byteLength,d=new Uint8Array(r),h=0,f=0;f<r;f++)f>=2&&s[f]===3&&s[f-1]===0&&s[f-2]===0||(d[h]=s[f],h++);return new Uint8Array(d.buffer,0,h)},u.parseVPS=function(l){var s=u._ebsp2rbsp(l),r=new K(s);return r.readByte(),r.readByte(),r.readBits(4),r.readBits(2),r.readBits(6),{num_temporal_layers:r.readBits(3)+1,temporal_id_nested:r.readBool()}},u.parseSPS=function(l){var s=u._ebsp2rbsp(l),r=new K(s);r.readByte(),r.readByte();for(var d=0,h=0,f=0,p=0,w=(r.readBits(4),r.readBits(3)),O=(r.readBool(),r.readBits(2)),U=r.readBool(),F=r.readBits(5),Y=r.readByte(),Z=r.readByte(),de=r.readByte(),Re=r.readByte(),ge=r.readByte(),Oe=r.readByte(),Ce=r.readByte(),xe=r.readByte(),ze=r.readByte(),He=r.readByte(),Me=r.readByte(),ke=[],Fe=[],je=0;je<w;je++)ke.push(r.readBool()),Fe.push(r.readBool());if(w>0)for(je=w;je<8;je++)r.readBits(2);for(je=0;je<w;je++)ke[je]&&(r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte()),Fe[je]&&r.readByte();r.readUEG();var Ne=r.readUEG();Ne==3&&r.readBits(1);var et=r.readUEG(),lt=r.readUEG();r.readBool()&&(d+=r.readUEG(),h+=r.readUEG(),f+=r.readUEG(),p+=r.readUEG());var Ve=r.readUEG(),Xe=r.readUEG(),rt=r.readUEG();for(je=r.readBool()?0:w;je<=w;je++)r.readUEG(),r.readUEG(),r.readUEG();if(r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG(),r.readBool()&&r.readBool())for(var Rt=0;Rt<4;Rt++)for(var vt=0;vt<(Rt===3?2:6);vt++)if(r.readBool()){var wt=Math.min(64,1<<4+(Rt<<1));for(Rt>1&&r.readSEG(),je=0;je<wt;je++)r.readSEG()}else r.readUEG();r.readBool(),r.readBool(),r.readBool()&&(r.readByte(),r.readUEG(),r.readUEG(),r.readBool());var Kt=r.readUEG(),Nt=0;for(je=0;je<Kt;je++){var St=!1;if(je!==0&&(St=r.readBool()),St){je===Kt&&r.readUEG(),r.readBool(),r.readUEG();for(var It=0,nt=0;nt<=Nt;nt++){var Xt=r.readBool(),Aa=!1;Xt||(Aa=r.readBool()),(Xt||Aa)&&It++}Nt=It}else{var Cn=r.readUEG(),Ii=r.readUEG();for(Nt=Cn+Ii,nt=0;nt<Cn;nt++)r.readUEG(),r.readBool();for(nt=0;nt<Ii;nt++)r.readUEG(),r.readBool()}}if(r.readBool()){var Pi=r.readUEG();for(je=0;je<Pi;je++){for(nt=0;nt<rt+4;nt++)r.readBits(1);r.readBits(1)}}var Vr=0,Mn=1,Ma=1,ii=!1,Dn=1,Da=1;if(r.readBool(),r.readBool(),r.readBool()){if(r.readBool()){var ha=r.readByte();ha>0&&ha<=16?(Mn=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][ha-1],Ma=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][ha-1]):ha===255&&(Mn=r.readBits(16),Ma=r.readBits(16))}if(r.readBool()&&r.readBool(),r.readBool()&&(r.readBits(3),r.readBool(),r.readBool()&&(r.readByte(),r.readByte(),r.readByte())),r.readBool()&&(r.readUEG(),r.readUEG()),r.readBool(),r.readBool(),r.readBool(),r.readBool()&&(r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG()),r.readBool()&&(Dn=r.readBits(32),Da=r.readBits(32),r.readBool()&&r.readUEG(),r.readBool())){var ri=!1,On=!1,wn=!1;for(ri=r.readBool(),On=r.readBool(),(ri||On)&&((wn=r.readBool())&&(r.readByte(),r.readBits(5),r.readBool(),r.readBits(5)),r.readBits(4),r.readBits(4),wn&&r.readBits(4),r.readBits(5),r.readBits(5),r.readBits(5)),je=0;je<=w;je++){var Wa=r.readBool();ii=Wa;var _a=!0,Ln=1;Wa||(_a=r.readBool());var $a=!1;if(_a?r.readUEG():$a=r.readBool(),$a||(Ln=r.readUEG()+1),ri){for(nt=0;nt<Ln;nt++)r.readUEG(),r.readUEG(),wn&&(r.readUEG(),r.readUEG());r.readBool()}if(On){for(nt=0;nt<Ln;nt++)r.readUEG(),r.readUEG(),wn&&(r.readUEG(),r.readUEG());r.readBool()}}}r.readBool()&&(r.readBool(),r.readBool(),r.readBool(),Vr=r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG())}r.readBool();var Oa="hvc1.".concat(F,".1.L").concat(Me,".B0"),si=et-(d+h)*(Ne===1||Ne===2?2:1),Bn=lt-(f+p)*(Ne===1?2:1),Vi=1;return Mn!==1&&Ma!==1&&(Vi=Mn/Ma),r.destroy(),r=null,{codec_mimetype:Oa,profile_string:u.getProfileString(F),level_string:u.getLevelString(Me),profile_idc:F,bit_depth:Ve+8,ref_frames:1,chroma_format:Ne,chroma_format_string:u.getChromaFormatString(Ne),general_level_idc:Me,general_profile_space:O,general_tier_flag:U,general_profile_idc:F,general_profile_compatibility_flags_1:Y,general_profile_compatibility_flags_2:Z,general_profile_compatibility_flags_3:de,general_profile_compatibility_flags_4:Re,general_constraint_indicator_flags_1:ge,general_constraint_indicator_flags_2:Oe,general_constraint_indicator_flags_3:Ce,general_constraint_indicator_flags_4:xe,general_constraint_indicator_flags_5:ze,general_constraint_indicator_flags_6:He,min_spatial_segmentation_idc:Vr,constant_frame_rate:0,chroma_format_idc:Ne,bit_depth_luma_minus8:Ve,bit_depth_chroma_minus8:Xe,frame_rate:{fixed:ii,fps:Da/Dn,fps_den:Dn,fps_num:Da},sar_ratio:{width:Mn,height:Ma},codec_size:{width:si,height:Bn},present_size:{width:si*Vi,height:Bn}}},u.parsePPS=function(l){var s=u._ebsp2rbsp(l),r=new K(s);r.readByte(),r.readByte(),r.readUEG(),r.readUEG(),r.readBool(),r.readBool(),r.readBits(3),r.readBool(),r.readBool(),r.readUEG(),r.readUEG(),r.readSEG(),r.readBool(),r.readBool(),r.readBool()&&r.readUEG(),r.readSEG(),r.readSEG(),r.readBool(),r.readBool(),r.readBool(),r.readBool();var d=r.readBool(),h=r.readBool(),f=1;return h&&d?f=0:h?f=3:d&&(f=2),{parallelismType:f}},u.getChromaFormatString=function(l){switch(l){case 0:return"4:0:0";case 1:return"4:2:0";case 2:return"4:2:2";case 3:return"4:4:4";default:return"Unknown"}},u.getProfileString=function(l){switch(l){case 1:return"Main";case 2:return"Main10";case 3:return"MainSP";case 4:return"Rext";case 9:return"SCC";default:return"Unknown"}},u.getLevelString=function(l){return(l/30).toFixed(1)},u})();function I(u){return u.byteOffset%2==0&&u.byteLength%2==0}function $(u){return u.byteOffset%4==0&&u.byteLength%4==0}function re(u,l){for(var s=0;s<u.length;s++)if(u[s]!==l[s])return!1;return!0}var H=function(u,l){return u.byteLength===l.byteLength&&($(u)&&$(l)?(function(s,r){return re(new Uint32Array(s.buffer,s.byteOffset,s.byteLength/4),new Uint32Array(r.buffer,r.byteOffset,r.byteLength/4))})(u,l):I(u)&&I(l)?(function(s,r){return re(new Uint16Array(s.buffer,s.byteOffset,s.byteLength/2),new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2))})(u,l):(function(s,r){return re(s,r)})(u,l))},x=function(){return(x=Object.assign||function(u){for(var l,s=1,r=arguments.length;s<r;s++)for(var d in l=arguments[s])Object.prototype.hasOwnProperty.call(l,d)&&(u[d]=l[d]);return u}).apply(this,arguments)},E=(function(){function u(){}return u.parseOBUs=function(l,s){for(var r=0;r<l.byteLength;){var d=r,h=(l[r],(120&l[r])>>3),f=(4&l[r])!=0,p=(2&l[r])!=0;l[r],r+=1,f&&(r+=1);var w=Number.POSITIVE_INFINITY;if(p){w=0;for(var O=0;;O++){var U=l[r++];if(w|=(127&U)<<7*O,(128&U)==0)break}}console.log(h),h===1?s=x(x({},u.parseSeuqneceHeader(l.subarray(r,r+w))),{sequence_header_data:l.subarray(d,r+w)}):(h==3&&s||h==6&&s)&&(s=u.parseOBUFrameHeader(l.subarray(r,r+w),0,0,s)),r+=w}return s},u.parseSeuqneceHeader=function(l){var s=new K(l),r=s.readBits(3),d=(s.readBool(),s.readBool()),h=!0,f=0,p=1,w=void 0,O=[];if(d)O.push({operating_point_idc:0,level:s.readBits(5),tier:0});else{if(s.readBool()){var U=s.readBits(32),F=s.readBits(32),Y=s.readBool();if(Y){for(var Z=0;s.readBits(1)===0;)Z+=1;Z>=32||(1<<Z)-1+s.readBits(Z)}(f=F)/(p=U),h=Y,s.readBool()&&(s.readBits(5),s.readBits(32),w=s.readBits(5),s.readBits(5))}for(var de=s.readBool(),Re=s.readBits(5),ge=0;ge<=Re;ge++){var Oe=s.readBits(12),Ce=s.readBits(5),xe=Ce>7?s.readBits(1):0;O.push({operating_point_idc:Oe,level:Ce,tier:xe}),de&&s.readBool()&&s.readBits(4)}}var ze=O[0],He=ze.level,Me=ze.tier,ke=s.readBits(4),Fe=s.readBits(4),je=s.readBits(ke+1)+1,Ne=s.readBits(Fe+1)+1,et=!1;d||(et=s.readBool()),et&&(s.readBits(4),s.readBits(4)),s.readBool(),s.readBool(),s.readBool();var lt=!1,Ve=2,Xe=2,rt=0;d||(s.readBool(),s.readBool(),s.readBool(),s.readBool(),(lt=s.readBool())&&(s.readBool(),s.readBool()),(Ve=s.readBool()?2:s.readBits(1))?Xe=s.readBool()?2:s.readBits(1):Xe=2,lt?rt=s.readBits(3)+1:rt=0);var Rt=s.readBool(),vt=(s.readBool(),s.readBool(),s.readBool()),wt=8;r===2&&vt?wt=s.readBool()?12:10:wt=vt?10:8;var Kt=!1;r!==1&&(Kt=s.readBool()),s.readBool()&&(s.readBits(8),s.readBits(8),s.readBits(8));var Nt=1,St=1;return Kt?(s.readBits(1),Nt=1,St=1):(s.readBits(1),r==0?(Nt=1,St=1):r==1?(Nt=0,St=0):wt==12?s.readBits(1)&&s.readBits(1):(Nt=1,St=0),Nt&&St&&s.readBits(2),s.readBits(1)),s.readBool(),s.destroy(),s=null,{codec_mimetype:"av01.".concat(r,".").concat(u.getLevelString(He,Me),".").concat(wt.toString(10).padStart(2,"0")),level:He,tier:Me,level_string:u.getLevelString(He,Me),profile_idc:r,profile_string:"".concat(r),bit_depth:wt,ref_frames:1,chroma_format:u.getChromaFormat(Kt,Nt,St),chroma_format_string:u.getChromaFormatString(Kt,Nt,St),sequence_header:{frame_id_numbers_present_flag:et,additional_frame_id_length_minus_1:void 0,delta_frame_id_length_minus_2:void 0,reduced_still_picture_header:d,decoder_model_info_present_flag:!1,operating_points:O,buffer_removal_time_length_minus_1:w,equal_picture_interval:h,seq_force_screen_content_tools:Ve,seq_force_integer_mv:Xe,enable_order_hint:lt,order_hint_bits:rt,enable_superres:Rt,frame_width_bit:ke+1,frame_height_bit:Fe+1,max_frame_width:je,max_frame_height:Ne},keyframe:void 0,frame_rate:{fixed:h,fps:f/p,fps_den:p,fps_num:f}}},u.parseOBUFrameHeader=function(l,s,r,d){var h=d.sequence_header,f=new K(l),p=(h.max_frame_width,h.max_frame_height,0);h.frame_id_numbers_present_flag&&(p=h.additional_frame_id_length_minus_1+h.delta_frame_id_length_minus_2+3);var w=0,O=!0,U=!0,F=!1;if(!h.reduced_still_picture_header){if(f.readBool())return d;O=(w=f.readBits(2))===2||w===0,(U=f.readBool())&&h.decoder_model_info_present_flag&&h.equal_picture_interval,U&&f.readBool(),F=!!(w===3||w===0&&U)||f.readBool()}d.keyframe=O,f.readBool();var Y=h.seq_force_screen_content_tools;h.seq_force_screen_content_tools===2&&(Y=f.readBits(1)),Y&&(h.seq_force_integer_mv,h.seq_force_integer_mv==2&&f.readBits(1)),h.frame_id_numbers_present_flag&&f.readBits(p);var Z=!1;if(Z=w==3||!h.reduced_still_picture_header&&f.readBool(),f.readBits(h.order_hint_bits),O||F||f.readBits(3),h.decoder_model_info_present_flag&&f.readBool()){for(var de=0;de<=h.operating_points_cnt_minus_1;de++)if(h.operating_points[de].decoder_model_present_for_this_op[de]){var Re=h.operating_points[de].operating_point_idc;(Re===0||Re>>s&1&&Re>>r+8&1)&&f.readBits(h.buffer_removal_time_length_minus_1+1)}}var ge=255;if(w===3||w==0&&U||(ge=f.readBits(8)),(O||ge!==255)&&F&&h.enable_order_hint)for(var Oe=0;Oe<8;Oe++)f.readBits(h.order_hint_bits);if(O){var Ce=u.frameSizeAndRenderSize(f,Z,h);d.codec_size={width:Ce.FrameWidth,height:Ce.FrameHeight},d.present_size={width:Ce.RenderWidth,height:Ce.RenderHeight},d.sar_ratio={width:Ce.RenderWidth/Ce.FrameWidth,height:Ce.RenderHeight/Ce.FrameHeight}}return f.destroy(),f=null,d},u.frameSizeAndRenderSize=function(l,s,r){var d=r.max_frame_width,h=r.max_frame_height;s&&(d=l.readBits(r.frame_width_bit)+1,h=l.readBits(r.frame_height_bit)+1);var f=!1;r.enable_superres&&(f=l.readBool());var p=8;f&&(p=l.readBits(3)+9);var w=d;d=Math.floor((8*w+p/2)/p);var O=w,U=h;if(l.readBool()){var F=l.readBits(16)+1,Y=l.readBits(16)+1;O=l.readBits(F)+1,U=l.readBits(Y)+1}return{UpscaledWidth:w,FrameWidth:d,FrameHeight:h,RenderWidth:O,RenderHeight:U}},u.getLevelString=function(l,s){return"".concat(l.toString(10).padStart(2,"0")).concat(s===0?"M":"H")},u.getChromaFormat=function(l,s,r){return l?0:s===0&&r===0?3:s===1&&r===0?2:s===1&&r===1?1:Number.NaN},u.getChromaFormatString=function(l,s,r){return l?"4:0:0":s===0&&r===0?"4:4:4":s===1&&r===0?"4:2:2":s===1&&r===1?"4:2:0":"Unknown"},u})(),T,B=(function(){function u(l,s){this.TAG="FLVDemuxer",this._config=s,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=l.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=l.hasAudioTrack,this._hasVideo=l.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new m.a,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=(function(){var r=new ArrayBuffer(2);return new DataView(r).setInt16(0,256,!0),new Int16Array(r)[0]===256})()}return u.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},u.probe=function(l){var s=new Uint8Array(l);if(s.byteLength<9)return{needMoreData:!0};var r={match:!1};if(s[0]!==70||s[1]!==76||s[2]!==86||s[3]!==1)return r;var d,h,f=(4&s[4])>>>2!=0,p=(1&s[4])!=0,w=(d=s)[h=5]<<24|d[h+1]<<16|d[h+2]<<8|d[h+3];return w<9?r:{match:!0,consumed:w,dataOffset:w,hasAudioTrack:f,hasVideoTrack:p}},u.prototype.bindDataSource=function(l){return l.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(u.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(l){this._onTrackMetadata=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(l){this._onMediaInfo=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(l){this._onMetaDataArrived=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(l){this._onScriptDataArrived=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"onError",{get:function(){return this._onError},set:function(l){this._onError=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(l){this._onDataAvailable=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(l){this._timestampBase=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"overridedDuration",{get:function(){return this._duration},set:function(l){this._durationOverrided=!0,this._duration=l,this._mediaInfo.duration=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"overridedHasAudio",{set:function(l){this._hasAudioFlagOverrided=!0,this._hasAudio=l,this._mediaInfo.hasAudio=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"overridedHasVideo",{set:function(l){this._hasVideoFlagOverrided=!0,this._hasVideo=l,this._mediaInfo.hasVideo=l},enumerable:!1,configurable:!0}),u.prototype.resetMediaInfo=function(){this._mediaInfo=new m.a},u.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched},u.prototype.parseChunks=function(l,s){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new C.a("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var r=0,d=this._littleEndian;if(s===0){if(!(l.byteLength>13))return 0;r=u.probe(l).dataOffset}for(this._firstParse&&(this._firstParse=!1,s+r!==this._dataOffset&&g.a.w(this.TAG,"First time parsing but chunk byteStart invalid!"),(h=new DataView(l,r)).getUint32(0,!d)!==0&&g.a.w(this.TAG,"PrevTagSize0 !== 0 !!!"),r+=4);r<l.byteLength;){this._dispatch=!0;var h=new DataView(l,r);if(r+11+4>l.byteLength)break;var f=h.getUint8(0),p=16777215&h.getUint32(0,!d);if(r+11+p+4>l.byteLength)break;if(f===8||f===9||f===18){var w=h.getUint8(4),O=h.getUint8(5),U=h.getUint8(6)|O<<8|w<<16|h.getUint8(7)<<24;(16777215&h.getUint32(7,!d))!==0&&g.a.w(this.TAG,"Meet tag which has StreamID != 0!");var F=r+11;switch(f){case 8:this._parseAudioData(l,F,p,U);break;case 9:this._parseVideoData(l,F,p,U,s+r);break;case 18:this._parseScriptData(l,F,p)}var Y=h.getUint32(11+p,!d);Y!==11+p&&g.a.w(this.TAG,"Invalid PrevTagSize ".concat(Y)),r+=11+p+4}else g.a.w(this.TAG,"Unsupported tag type ".concat(f,", skipped")),r+=11+p+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),r},u.prototype._parseScriptData=function(l,s,r){var d=V.parseScriptData(l,s,r);if(d.hasOwnProperty("onMetaData")){if(d.onMetaData==null||typeof d.onMetaData!="object")return void g.a.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&g.a.w(this.TAG,"Found another onMetaData tag!"),this._metadata=d;var h=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},h)),typeof h.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=h.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof h.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=h.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof h.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=h.audiodatarate),typeof h.videodatarate=="number"&&(this._mediaInfo.videoDataRate=h.videodatarate),typeof h.width=="number"&&(this._mediaInfo.width=h.width),typeof h.height=="number"&&(this._mediaInfo.height=h.height),typeof h.duration=="number"){if(!this._durationOverrided){var f=Math.floor(h.duration*this._timescale);this._duration=f,this._mediaInfo.duration=f}}else this._mediaInfo.duration=0;if(typeof h.framerate=="number"){var p=Math.floor(1e3*h.framerate);if(p>0){var w=p/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=w,this._referenceFrameRate.fps_num=p,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=w}}if(typeof h.keyframes=="object"){this._mediaInfo.hasKeyframesIndex=!0;var O=h.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(O),h.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=h,g.a.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(d).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},d))},u.prototype._parseKeyframesIndex=function(l){for(var s=[],r=[],d=1;d<l.times.length;d++){var h=this._timestampBase+Math.floor(1e3*l.times[d]);s.push(h),r.push(l.filepositions[d])}return{times:s,filepositions:r}},u.prototype._parseAudioData=function(l,s,r,d){if(r<=1)g.a.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");else if(this._hasAudioFlagOverrided!==!0||this._hasAudio!==!1){this._littleEndian;var h=new DataView(l,s,r).getUint8(0),f=h>>>4;if(f!==9)if(f===2||f===10){var p=0,w=(12&h)>>>2;if(w>=0&&w<=4){p=this._flvSoundRateTable[w];var O=1&h,U=this._audioMetadata,F=this._audioTrack;if(U||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(U=this._audioMetadata={}).type="audio",U.id=F.id,U.timescale=this._timescale,U.duration=this._duration,U.audioSampleRate=p,U.channelCount=O===0?1:2),f===10){var Y=this._parseAACAudioData(l,s+1,r-1);if(Y==null)return;if(Y.packetType===0){if(U.config){if(H(Y.data.config,U.config))return;g.a.w(this.TAG,"AudioSpecificConfig has been changed, re-generate initialization segment")}var Z=Y.data;U.audioSampleRate=Z.samplingRate,U.channelCount=Z.channelCount,U.codec=Z.codec,U.originalCodec=Z.originalCodec,U.config=Z.config,U.refSampleDuration=1024/U.audioSampleRate*U.timescale,g.a.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",U),(ge=this._mediaInfo).audioCodec=U.originalCodec,ge.audioSampleRate=U.audioSampleRate,ge.audioChannelCount=U.channelCount,ge.hasVideo?ge.videoCodec!=null&&(ge.mimeType='video/x-flv; codecs="'+ge.videoCodec+","+ge.audioCodec+'"'):ge.mimeType='video/x-flv; codecs="'+ge.audioCodec+'"',ge.isComplete()&&this._onMediaInfo(ge)}else if(Y.packetType===1){var de=this._timestampBase+d,Re={unit:Y.data,length:Y.data.byteLength,dts:de,pts:de};F.samples.push(Re),F.length+=Y.data.length}else g.a.e(this.TAG,"Flv: Unsupported AAC data type ".concat(Y.packetType))}else if(f===2){if(!U.codec){var ge;if((Z=this._parseMP3AudioData(l,s+1,r-1,!0))==null)return;U.audioSampleRate=Z.samplingRate,U.channelCount=Z.channelCount,U.codec=Z.codec,U.originalCodec=Z.originalCodec,U.refSampleDuration=1152/U.audioSampleRate*U.timescale,g.a.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",U),(ge=this._mediaInfo).audioCodec=U.codec,ge.audioSampleRate=U.audioSampleRate,ge.audioChannelCount=U.channelCount,ge.audioDataRate=Z.bitRate,ge.hasVideo?ge.videoCodec!=null&&(ge.mimeType='video/x-flv; codecs="'+ge.videoCodec+","+ge.audioCodec+'"'):ge.mimeType='video/x-flv; codecs="'+ge.audioCodec+'"',ge.isComplete()&&this._onMediaInfo(ge)}var Oe=this._parseMP3AudioData(l,s+1,r-1,!1);if(Oe==null)return;de=this._timestampBase+d;var Ce={unit:Oe,length:Oe.byteLength,dts:de,pts:de};F.samples.push(Ce),F.length+=Oe.length}}else this._onError(Q.a.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+w)}else this._onError(Q.a.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+f);else{if(r<=5)return void g.a.w(this.TAG,"Flv: Invalid audio packet, missing AudioFourCC in Ehnanced FLV payload!");var xe=15&h,ze=String.fromCharCode.apply(String,new Uint8Array(l,s,r).slice(1,5));switch(ze){case"Opus":this._parseOpusAudioPacket(l,s+5,r-5,d,xe);break;case"fLaC":this._parseFlacAudioPacket(l,s+5,r-5,d,xe);break;default:this._onError(Q.a.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec: "+ze)}}}},u.prototype._parseAACAudioData=function(l,s,r){if(!(r<=1)){var d={},h=new Uint8Array(l,s,r);return d.packetType=h[0],h[0]===0?d.data=this._parseAACAudioSpecificConfig(l,s+1,r-1):d.data=h.subarray(1),d}g.a.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!")},u.prototype._parseAACAudioSpecificConfig=function(l,s,r){var d,h,f=new Uint8Array(l,s,r),p=null,w=0,O=null;if(w=d=f[0]>>>3,(h=(7&f[0])<<1|f[1]>>>7)<0||h>=this._mpegSamplingRates.length)this._onError(Q.a.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");else{var U=this._mpegSamplingRates[h],F=(120&f[1])>>>3;if(!(F<0||F>=8)){w===5&&(O=(7&f[1])<<1|f[2]>>>7,(124&f[2])>>>2);var Y=self.navigator.userAgent.toLowerCase();return Y.indexOf("firefox")!==-1?h>=6?(w=5,p=new Array(4),O=h-3):(w=2,p=new Array(2),O=h):Y.indexOf("android")!==-1?(w=2,p=new Array(2),O=h):(w=5,O=h,p=new Array(4),h>=6?O=h-3:F===1&&(w=2,p=new Array(2),O=h)),p[0]=w<<3,p[0]|=(15&h)>>>1,p[1]=(15&h)<<7,p[1]|=(15&F)<<3,w===5&&(p[1]|=(15&O)>>>1,p[2]=(1&O)<<7,p[2]|=8,p[3]=0),{config:p,samplingRate:U,channelCount:F,codec:"mp4a.40."+w,originalCodec:"mp4a.40."+d}}this._onError(Q.a.FORMAT_ERROR,"Flv: AAC invalid channel configuration")}},u.prototype._parseMP3AudioData=function(l,s,r,d){if(!(r<4)){this._littleEndian;var h=new Uint8Array(l,s,r),f=null;if(d){if(h[0]!==255)return;var p=h[1]>>>3&3,w=(6&h[1])>>1,O=(240&h[2])>>>4,U=(12&h[2])>>>2,F=(h[3]>>>6&3)!==3?2:1,Y=0,Z=0;switch(p){case 0:Y=this._mpegAudioV25SampleRateTable[U];break;case 2:Y=this._mpegAudioV20SampleRateTable[U];break;case 3:Y=this._mpegAudioV10SampleRateTable[U]}switch(w){case 1:O<this._mpegAudioL3BitRateTable.length&&(Z=this._mpegAudioL3BitRateTable[O]);break;case 2:O<this._mpegAudioL2BitRateTable.length&&(Z=this._mpegAudioL2BitRateTable[O]);break;case 3:O<this._mpegAudioL1BitRateTable.length&&(Z=this._mpegAudioL1BitRateTable[O])}f={bitRate:Z,samplingRate:Y,channelCount:F,codec:"mp3",originalCodec:"mp3"}}else f=h;return f}g.a.w(this.TAG,"Flv: Invalid MP3 packet, header missing!")},u.prototype._parseOpusAudioPacket=function(l,s,r,d,h){if(h===0)this._parseOpusSequenceHeader(l,s,r);else if(h===1)this._parseOpusAudioData(l,s,r,d);else if(h!==2)return void this._onError(Q.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(h))},u.prototype._parseOpusSequenceHeader=function(l,s,r){if(r<=16)g.a.w(this.TAG,"Flv: Invalid OpusSequenceHeader, lack of data!");else{var d=this._audioMetadata,h=this._audioTrack;d||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(d=this._audioMetadata={}).type="audio",d.id=h.id,d.timescale=this._timescale,d.duration=this._duration);var f=new DataView(l,s,r);f.setUint8(8,0);var p=f.getUint8(9);f.setUint16(10,f.getUint16(10,!0),!1);var w=f.getUint32(12,!0);f.setUint32(12,f.getUint32(12,!0),!1);var O={config:new Uint8Array(l,s+8,r-8),channelCount:p,samplingFrequence:w,codec:"opus",originalCodec:"opus"};if(d.config){if(H(O.config,d.config))return;g.a.w(this.TAG,"OpusSequenceHeader has been changed, re-generate initialization segment")}d.audioSampleRate=O.samplingFrequence,d.channelCount=O.channelCount,d.codec=O.codec,d.originalCodec=O.originalCodec,d.config=O.config,d.refSampleDuration=20,g.a.v(this.TAG,"Parsed OpusSequenceHeader"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",d);var U=this._mediaInfo;U.audioCodec=d.originalCodec,U.audioSampleRate=d.audioSampleRate,U.audioChannelCount=d.channelCount,U.hasVideo?U.videoCodec!=null&&(U.mimeType='video/x-flv; codecs="'+U.videoCodec+","+U.audioCodec+'"'):U.mimeType='video/x-flv; codecs="'+U.audioCodec+'"',U.isComplete()&&this._onMediaInfo(U)}},u.prototype._parseOpusAudioData=function(l,s,r,d){var h=this._audioTrack,f=new Uint8Array(l,s,r),p=this._timestampBase+d,w={unit:f,length:f.byteLength,dts:p,pts:p};h.samples.push(w),h.length+=f.length},u.prototype._parseFlacAudioPacket=function(l,s,r,d,h){if(h===0)this._parseFlacSequenceHeader(l,s,r);else if(h===1)this._parseFlacAudioData(l,s,r,d);else if(h!==2)return void this._onError(Q.a.FORMAT_ERROR,"Flv: Invalid Flac audio packet type ".concat(h))},u.prototype._parseFlacSequenceHeader=function(l,s,r){var d=this._audioMetadata,h=this._audioTrack;d||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(d=this._audioMetadata={}).type="audio",d.id=h.id,d.timescale=this._timescale,d.duration=this._duration);var f=new Uint8Array(l,s+4,r-4),p=new K(f),w=p.readBits(16),O=p.readBits(16),U=O===w?O:null;p.readBits(24),p.readBits(24);var F=p.readBits(20),Y=p.readBits(3)+1,Z=p.readBits(5)+1;p.destroy();var de=new Uint8Array(f.byteLength+4);de.set(f,4),de[0]=128,de[1]=f.byteLength>>>16&255,de[2]=f.byteLength>>>8&255,de[3]=f.byteLength>>>0&255;var Re={config:de,channelCount:Y,samplingFrequence:F,sampleSize:Z,codec:"flac",originalCodec:"flac"};if(d.config){if(H(Re.config,d.config))return;g.a.w(this.TAG,"FlacSequenceHeader has been changed, re-generate initialization segment")}d.audioSampleRate=Re.samplingFrequence,d.channelCount=Re.channelCount,d.sampleSize=Re.sampleSize,d.codec=Re.codec,d.originalCodec=Re.originalCodec,d.config=Re.config,d.refSampleDuration=U!=null?1e3*U/Re.samplingFrequence:null,g.a.v(this.TAG,"Parsed FlacSequenceHeader"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",d);var ge=this._mediaInfo;ge.audioCodec=d.originalCodec,ge.audioSampleRate=d.audioSampleRate,ge.audioChannelCount=d.channelCount,ge.hasVideo?ge.videoCodec!=null&&(ge.mimeType='video/x-flv; codecs="'+ge.videoCodec+","+ge.audioCodec+'"'):ge.mimeType='video/x-flv; codecs="'+ge.audioCodec+'"',ge.isComplete()&&this._onMediaInfo(ge)},u.prototype._parseFlacAudioData=function(l,s,r,d){var h=this._audioTrack,f=new Uint8Array(l,s,r),p=this._timestampBase+d,w={unit:f,length:f.byteLength,dts:p,pts:p};h.samples.push(w),h.length+=f.length},u.prototype._parseVideoData=function(l,s,r,d,h){if(r<=1)g.a.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");else if(this._hasVideoFlagOverrided!==!0||this._hasVideo!==!1){var f=new Uint8Array(l,s,r)[0],p=(112&f)>>>4;if((128&f)!=0){var w=15&f,O=String.fromCharCode.apply(String,new Uint8Array(l,s,r).slice(1,5));if(O==="hvc1")this._parseEnhancedHEVCVideoPacket(l,s+5,r-5,d,h,p,w);else{if(O!=="av01")return void this._onError(Q.a.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: ".concat(O));this._parseEnhancedAV1VideoPacket(l,s+5,r-5,d,h,p,w)}}else{var U=15&f;if(U===7)this._parseAVCVideoPacket(l,s+1,r-1,d,h,p);else{if(U!==12)return void this._onError(Q.a.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: ".concat(U));this._parseHEVCVideoPacket(l,s+1,r-1,d,h,p)}}}},u.prototype._parseAVCVideoPacket=function(l,s,r,d,h,f){if(r<4)g.a.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");else{var p=this._littleEndian,w=new DataView(l,s,r),O=w.getUint8(0),U=(16777215&w.getUint32(0,!p))<<8>>8;if(O===0)this._parseAVCDecoderConfigurationRecord(l,s+4,r-4);else if(O===1)this._parseAVCVideoData(l,s+4,r-4,d,h,f,U);else if(O!==2)return void this._onError(Q.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(O))}},u.prototype._parseHEVCVideoPacket=function(l,s,r,d,h,f){if(r<4)g.a.w(this.TAG,"Flv: Invalid HEVC packet, missing HEVCPacketType or/and CompositionTime");else{var p=this._littleEndian,w=new DataView(l,s,r),O=w.getUint8(0),U=(16777215&w.getUint32(0,!p))<<8>>8;if(O===0)this._parseHEVCDecoderConfigurationRecord(l,s+4,r-4);else if(O===1)this._parseHEVCVideoData(l,s+4,r-4,d,h,f,U);else if(O!==2)return void this._onError(Q.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(O))}},u.prototype._parseEnhancedHEVCVideoPacket=function(l,s,r,d,h,f,p){var w=this._littleEndian,O=new DataView(l,s,r);if(p===0)this._parseHEVCDecoderConfigurationRecord(l,s,r);else if(p===1){var U=(4294967040&O.getUint32(0,!w))>>8;this._parseHEVCVideoData(l,s+3,r-3,d,h,f,U)}else if(p===3)this._parseHEVCVideoData(l,s,r,d,h,f,0);else if(p!==2)return void this._onError(Q.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(p))},u.prototype._parseEnhancedAV1VideoPacket=function(l,s,r,d,h,f,p){if(this._littleEndian,p===0)this._parseAV1CodecConfigurationRecord(l,s,r);else if(p===1)this._parseAV1VideoData(l,s,r,d,h,f,0);else{if(p===5)return void this._onError(Q.a.FORMAT_ERROR,"Flv: Not Supported MP2T AV1 video packet type ".concat(p));if(p!==2)return void this._onError(Q.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(p))}},u.prototype._parseAVCDecoderConfigurationRecord=function(l,s,r){if(r<7)g.a.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var d=this._videoMetadata,h=this._videoTrack,f=this._littleEndian,p=new DataView(l,s,r);if(d){if(d.avcc!==void 0){var w=new Uint8Array(l,s,r);if(H(w,d.avcc))return;g.a.w(this.TAG,"AVCDecoderConfigurationRecord has been changed, re-generate initialization segment")}}else this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(d=this._videoMetadata={}).type="video",d.id=h.id,d.timescale=this._timescale,d.duration=this._duration;var O=p.getUint8(0),U=p.getUint8(1);if(p.getUint8(2),p.getUint8(3),O===1&&U!==0)if(this._naluLengthSize=1+(3&p.getUint8(4)),this._naluLengthSize===3||this._naluLengthSize===4){var F=31&p.getUint8(5);if(F!==0){F>1&&g.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = ".concat(F));for(var Y=6,Z=0;Z<F;Z++){var de=p.getUint16(Y,!f);if(Y+=2,de!==0){var Re=new Uint8Array(l,s+Y,de);Y+=de;var ge=W.parseSPS(Re);if(Z===0){d.codecWidth=ge.codec_size.width,d.codecHeight=ge.codec_size.height,d.presentWidth=ge.present_size.width,d.presentHeight=ge.present_size.height,d.profile=ge.profile_string,d.level=ge.level_string,d.bitDepth=ge.bit_depth,d.chromaFormat=ge.chroma_format,d.sarRatio=ge.sar_ratio,d.frameRate=ge.frame_rate,ge.frame_rate.fixed!==!1&&ge.frame_rate.fps_num!==0&&ge.frame_rate.fps_den!==0||(d.frameRate=this._referenceFrameRate);var Oe=d.frameRate.fps_den,Ce=d.frameRate.fps_num;d.refSampleDuration=d.timescale*(Oe/Ce);for(var xe=Re.subarray(1,4),ze="avc1.",He=0;He<3;He++){var Me=xe[He].toString(16);Me.length<2&&(Me="0"+Me),ze+=Me}d.codec=ze;var ke=this._mediaInfo;ke.width=d.codecWidth,ke.height=d.codecHeight,ke.fps=d.frameRate.fps,ke.profile=d.profile,ke.level=d.level,ke.refFrames=ge.ref_frames,ke.chromaFormat=ge.chroma_format_string,ke.sarNum=d.sarRatio.width,ke.sarDen=d.sarRatio.height,ke.videoCodec=ze,ke.hasAudio?ke.audioCodec!=null&&(ke.mimeType='video/x-flv; codecs="'+ke.videoCodec+","+ke.audioCodec+'"'):ke.mimeType='video/x-flv; codecs="'+ke.videoCodec+'"',ke.isComplete()&&this._onMediaInfo(ke)}}}var Fe=p.getUint8(Y);if(Fe!==0){for(Fe>1&&g.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = ".concat(Fe)),Y++,Z=0;Z<Fe;Z++)de=p.getUint16(Y,!f),Y+=2,de!==0&&(Y+=de);d.avcc=new Uint8Array(r),d.avcc.set(new Uint8Array(l,s,r),0),g.a.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",d)}else this._onError(Q.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}else this._onError(Q.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS")}else this._onError(Q.a.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: ".concat(this._naluLengthSize-1));else this._onError(Q.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord")}},u.prototype._parseHEVCDecoderConfigurationRecord=function(l,s,r){if(r<22)g.a.w(this.TAG,"Flv: Invalid HEVCDecoderConfigurationRecord, lack of data!");else{var d=this._videoMetadata,h=this._videoTrack,f=this._littleEndian,p=new DataView(l,s,r);if(d){if(d.hvcc!==void 0){var w=new Uint8Array(l,s,r);if(H(w,d.hvcc))return;g.a.w(this.TAG,"HEVCDecoderConfigurationRecord has been changed, re-generate initialization segment")}}else this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(d=this._videoMetadata={}).type="video",d.id=h.id,d.timescale=this._timescale,d.duration=this._duration;var O=p.getUint8(0),U=31&p.getUint8(1);if(O!==0&&O!==1||U===0)this._onError(Q.a.FORMAT_ERROR,"Flv: Invalid HEVCDecoderConfigurationRecord");else if(this._naluLengthSize=1+(3&p.getUint8(21)),this._naluLengthSize===3||this._naluLengthSize===4){for(var F=p.getUint8(22),Y=0,Z=23;Y<F;Y++){var de=63&p.getUint8(Z+0),Re=p.getUint16(Z+1,!f);Z+=3;for(var ge=0;ge<Re;ge++){var Oe=p.getUint16(Z+0,!f);if(ge===0)if(de===33){Z+=2;var Ce=new Uint8Array(l,s+Z,Oe),xe=ce.parseSPS(Ce);d.codecWidth=xe.codec_size.width,d.codecHeight=xe.codec_size.height,d.presentWidth=xe.present_size.width,d.presentHeight=xe.present_size.height,d.profile=xe.profile_string,d.level=xe.level_string,d.bitDepth=xe.bit_depth,d.chromaFormat=xe.chroma_format,d.sarRatio=xe.sar_ratio,d.frameRate=xe.frame_rate,xe.frame_rate.fixed!==!1&&xe.frame_rate.fps_num!==0&&xe.frame_rate.fps_den!==0||(d.frameRate=this._referenceFrameRate);var ze=d.frameRate.fps_den,He=d.frameRate.fps_num;d.refSampleDuration=d.timescale*(ze/He),d.codec=xe.codec_mimetype;var Me=this._mediaInfo;Me.width=d.codecWidth,Me.height=d.codecHeight,Me.fps=d.frameRate.fps,Me.profile=d.profile,Me.level=d.level,Me.refFrames=xe.ref_frames,Me.chromaFormat=xe.chroma_format_string,Me.sarNum=d.sarRatio.width,Me.sarDen=d.sarRatio.height,Me.videoCodec=xe.codec_mimetype,Me.hasAudio?Me.audioCodec!=null&&(Me.mimeType='video/x-flv; codecs="'+Me.videoCodec+","+Me.audioCodec+'"'):Me.mimeType='video/x-flv; codecs="'+Me.videoCodec+'"',Me.isComplete()&&this._onMediaInfo(Me),Z+=Oe}else Z+=2+Oe;else Z+=2+Oe}}d.hvcc=new Uint8Array(r),d.hvcc.set(new Uint8Array(l,s,r),0),g.a.v(this.TAG,"Parsed HEVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",d)}else this._onError(Q.a.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: ".concat(this._naluLengthSize-1))}},u.prototype._parseAV1CodecConfigurationRecord=function(l,s,r){if(r<4)g.a.w(this.TAG,"Flv: Invalid AV1CodecConfigurationRecord, lack of data!");else{var d=this._videoMetadata,h=this._videoTrack,f=(this._littleEndian,new DataView(l,s,r));d?d.av1c!==void 0&&g.a.w(this.TAG,"Found another AV1CodecConfigurationRecord!"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(d=this._videoMetadata={}).type="video",d.id=h.id,d.timescale=this._timescale,d.duration=this._duration);var p=127&f.getUint8(0);if(f.getUint8(1),f.getUint8(1),f.getUint8(2),p===1){var w=E.parseOBUs(new Uint8Array(l,s+4,r-4));if(w!=null){d.profile=w.profile_string,d.level=w.level_string,d.bitDepth=w.bit_depth,d.chromaFormat=w.chroma_format,d.frameRate=w.frame_rate,w.frame_rate.fixed!==!1&&w.frame_rate.fps_num!==0&&w.frame_rate.fps_den!==0||(d.frameRate=this._referenceFrameRate);var O=d.frameRate.fps_den,U=d.frameRate.fps_num;d.refSampleDuration=d.timescale*(O/U),d.codec=w.codec_mimetype,d.extra=w;var F=this._mediaInfo;F.fps=d.frameRate.fps,F.profile=d.profile,F.level=d.level,F.refFrames=w.ref_frames,F.chromaFormat=w.chroma_format_string,F.videoCodec=w.codec_mimetype,F.hasAudio?F.audioCodec!=null&&(F.mimeType='video/x-flv; codecs="'+F.videoCodec+","+F.audioCodec+'"'):F.mimeType='video/x-flv; codecs="'+F.videoCodec+'"',F.isComplete()&&this._onMediaInfo(F),d.av1c=new Uint8Array(r),d.av1c.set(new Uint8Array(l,s,r),0),g.a.v(this.TAG,"Preparing AV1CodecConfigurationRecord")}else this._onError(Q.a.FORMAT_ERROR,"Flv: Invalid AV1CodecConfigurationRecord")}else this._onError(Q.a.FORMAT_ERROR,"Flv: Invalid AV1CodecConfigurationRecord")}},u.prototype._parseAVCVideoData=function(l,s,r,d,h,f,p){for(var w=this._littleEndian,O=new DataView(l,s,r),U=[],F=0,Y=0,Z=this._naluLengthSize,de=this._timestampBase+d,Re=f===1;Y<r;){if(Y+4>=r){g.a.w(this.TAG,"Malformed Nalu near timestamp ".concat(de,", offset = ").concat(Y,", dataSize = ").concat(r));break}var ge=O.getUint32(Y,!w);if(Z===3&&(ge>>>=8),ge>r-Z)return void g.a.w(this.TAG,"Malformed Nalus near timestamp ".concat(de,", NaluSize > DataSize!"));var Oe=31&O.getUint8(Y+Z);Oe===5&&(Re=!0);var Ce=new Uint8Array(l,s+Y,Z+ge),xe={type:Oe,data:Ce};U.push(xe),F+=Ce.byteLength,Y+=Z+ge}if(U.length){var ze=this._videoTrack,He={units:U,length:F,isKeyframe:Re,dts:de,cts:p,pts:de+p};Re&&(He.fileposition=h),ze.samples.push(He),ze.length+=F}},u.prototype._parseHEVCVideoData=function(l,s,r,d,h,f,p){for(var w=this._littleEndian,O=new DataView(l,s,r),U=[],F=0,Y=0,Z=this._naluLengthSize,de=this._timestampBase+d,Re=f===1;Y<r;){if(Y+4>=r){g.a.w(this.TAG,"Malformed Nalu near timestamp ".concat(de,", offset = ").concat(Y,", dataSize = ").concat(r));break}var ge=O.getUint32(Y,!w);if(Z===3&&(ge>>>=8),ge>r-Z)return void g.a.w(this.TAG,"Malformed Nalus near timestamp ".concat(de,", NaluSize > DataSize!"));var Oe=O.getUint8(Y+Z)>>1&63;Oe!==19&&Oe!==20&&Oe!==21||(Re=!0);var Ce=new Uint8Array(l,s+Y,Z+ge),xe={type:Oe,data:Ce};U.push(xe),F+=Ce.byteLength,Y+=Z+ge}if(U.length){var ze=this._videoTrack,He={units:U,length:F,isKeyframe:Re,dts:de,cts:p,pts:de+p};Re&&(He.fileposition=h),ze.samples.push(He),ze.length+=F}},u.prototype._parseAV1VideoData=function(l,s,r,d,h,f,p){this._littleEndian;var w,O=[],U=this._timestampBase+d,F=f===1;if(F){var Y=this._videoMetadata,Z=E.parseOBUs(new Uint8Array(l,s,r),Y.extra);if(Z==null)return void this._onError(Q.a.FORMAT_ERROR,"Flv: Invalid AV1 VideoData");console.log(Z),Y.codecWidth=Z.codec_size.width,Y.codecHeight=Z.codec_size.height,Y.presentWidth=Z.present_size.width,Y.presentHeight=Z.present_size.height,Y.sarRatio=Z.sar_ratio;var de=this._mediaInfo;de.width=Y.codecWidth,de.height=Y.codecHeight,de.sarNum=Y.sarRatio.width,de.sarDen=Y.sarRatio.height,g.a.v(this.TAG,"Parsed AV1DecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",Y)}if(w=r,O.push({unitType:0,data:new Uint8Array(l,s+0,r)}),O.length){var Re=this._videoTrack,ge={units:O,length:w,isKeyframe:F,dts:U,cts:p,pts:U+p};F&&(ge.fileposition=h),Re.samples.push(ge),Re.length+=w}},u})(),oe=(function(){function u(){}return u.prototype.destroy=function(){this.onError=null,this.onMediaInfo=null,this.onMetaDataArrived=null,this.onTrackMetadata=null,this.onDataAvailable=null,this.onTimedID3Metadata=null,this.onSynchronousKLVMetadata=null,this.onAsynchronousKLVMetadata=null,this.onSMPTE2038Metadata=null,this.onSCTE35Metadata=null,this.onPESPrivateData=null,this.onPESPrivateDataDescriptor=null},u})(),Te=function(){this.program_pmt_pid={}};(function(u){u[u.kMPEG1Audio=3]="kMPEG1Audio",u[u.kMPEG2Audio=4]="kMPEG2Audio",u[u.kPESPrivateData=6]="kPESPrivateData",u[u.kADTSAAC=15]="kADTSAAC",u[u.kLOASAAC=17]="kLOASAAC",u[u.kAC3=129]="kAC3",u[u.kEAC3=135]="kEAC3",u[u.kMetadata=21]="kMetadata",u[u.kSCTE35=134]="kSCTE35",u[u.kH264=27]="kH264",u[u.kH265=36]="kH265"})(T||(T={}));var ye,be=function(){this.pid_stream_type={},this.common_pids={h264:void 0,h265:void 0,av1:void 0,adts_aac:void 0,loas_aac:void 0,opus:void 0,ac3:void 0,eac3:void 0,mp3:void 0},this.pes_private_data_pids={},this.timed_id3_pids={},this.synchronous_klv_pids={},this.asynchronous_klv_pids={},this.scte_35_pids={},this.smpte2038_pids={}},k=function(){},he=function(){},le=function(){this.slices=[],this.total_length=0,this.expected_length=0,this.file_position=0};(function(u){u[u.kUnspecified=0]="kUnspecified",u[u.kSliceNonIDR=1]="kSliceNonIDR",u[u.kSliceDPA=2]="kSliceDPA",u[u.kSliceDPB=3]="kSliceDPB",u[u.kSliceDPC=4]="kSliceDPC",u[u.kSliceIDR=5]="kSliceIDR",u[u.kSliceSEI=6]="kSliceSEI",u[u.kSliceSPS=7]="kSliceSPS",u[u.kSlicePPS=8]="kSlicePPS",u[u.kSliceAUD=9]="kSliceAUD",u[u.kEndOfSequence=10]="kEndOfSequence",u[u.kEndOfStream=11]="kEndOfStream",u[u.kFiller=12]="kFiller",u[u.kSPSExt=13]="kSPSExt",u[u.kReserved0=14]="kReserved0"})(ye||(ye={}));var N,c,v=function(){},q=function(u){var l=u.data.byteLength;this.type=u.type,this.data=new Uint8Array(4+l),new DataView(this.data.buffer).setUint32(0,l),this.data.set(u.data,4)},ae=(function(){function u(l){this.TAG="H264AnnexBParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=l,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&g.a.e(this.TAG,"Could not find H264 startcode until payload end!")}return u.prototype.findNextStartCodeOffset=function(l){for(var s=l,r=this.data_;;){if(s+3>=r.byteLength)return this.eof_flag_=!0,r.byteLength;var d=r[s+0]<<24|r[s+1]<<16|r[s+2]<<8|r[s+3],h=r[s+0]<<16|r[s+1]<<8|r[s+2];if(d===1||h===1)return s;s++}},u.prototype.readNextNaluPayload=function(){for(var l=this.data_,s=null;s==null&&!this.eof_flag_;){var r=this.current_startcode_offset_,d=31&l[r+=(l[r]<<24|l[r+1]<<16|l[r+2]<<8|l[r+3])===1?4:3],h=(128&l[r])>>>7,f=this.findNextStartCodeOffset(r);if(this.current_startcode_offset_=f,!(d>=ye.kReserved0)&&h===0){var p=l.subarray(r,f);(s=new v).type=d,s.data=p}}return s},u})(),_e=(function(){function u(l,s,r){var d=8+l.byteLength+1+2+s.byteLength,h=!1;l[3]!==66&&l[3]!==77&&l[3]!==88&&(h=!0,d+=4);var f=this.data=new Uint8Array(d);f[0]=1,f[1]=l[1],f[2]=l[2],f[3]=l[3],f[4]=255,f[5]=225;var p=l.byteLength;f[6]=p>>>8,f[7]=255&p;var w=8;f.set(l,8),f[w+=p]=1;var O=s.byteLength;f[w+1]=O>>>8,f[w+2]=255&O,f.set(s,w+3),w+=3+O,h&&(f[w]=252|r.chroma_format_idc,f[w+1]=248|r.bit_depth_luma-8,f[w+2]=248|r.bit_depth_chroma-8,f[w+3]=0,w+=4)}return u.prototype.getData=function(){return this.data},u})();(function(u){u[u.kNull=0]="kNull",u[u.kAACMain=1]="kAACMain",u[u.kAAC_LC=2]="kAAC_LC",u[u.kAAC_SSR=3]="kAAC_SSR",u[u.kAAC_LTP=4]="kAAC_LTP",u[u.kAAC_SBR=5]="kAAC_SBR",u[u.kAAC_Scalable=6]="kAAC_Scalable",u[u.kLayer1=32]="kLayer1",u[u.kLayer2=33]="kLayer2",u[u.kLayer3=34]="kLayer3"})(N||(N={})),(function(u){u[u.k96000Hz=0]="k96000Hz",u[u.k88200Hz=1]="k88200Hz",u[u.k64000Hz=2]="k64000Hz",u[u.k48000Hz=3]="k48000Hz",u[u.k44100Hz=4]="k44100Hz",u[u.k32000Hz=5]="k32000Hz",u[u.k24000Hz=6]="k24000Hz",u[u.k22050Hz=7]="k22050Hz",u[u.k16000Hz=8]="k16000Hz",u[u.k12000Hz=9]="k12000Hz",u[u.k11025Hz=10]="k11025Hz",u[u.k8000Hz=11]="k8000Hz",u[u.k7350Hz=12]="k7350Hz"})(c||(c={}));var De,Ee,me=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],pe=(De=function(u,l){return(De=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(s[d]=r[d])})(u,l)},function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function s(){this.constructor=u}De(u,l),u.prototype=l===null?Object.create(l):(s.prototype=l.prototype,new s)}),we=function(){},Ie=(function(u){function l(){return u!==null&&u.apply(this,arguments)||this}return pe(l,u),l})(we),Pe=(function(){function u(l){this.TAG="AACADTSParser",this.data_=l,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&g.a.e(this.TAG,"Could not found ADTS syncword until payload end")}return u.prototype.findNextSyncwordOffset=function(l){for(var s=l,r=this.data_;;){if(s+7>=r.byteLength)return this.eof_flag_=!0,r.byteLength;if((r[s+0]<<8|r[s+1])>>>4===4095)return s;s++}},u.prototype.readNextAACFrame=function(){for(var l=this.data_,s=null;s==null&&!this.eof_flag_;){var r=this.current_syncword_offset_,d=(8&l[r+1])>>>3,h=(6&l[r+1])>>>1,f=1&l[r+1],p=(192&l[r+2])>>>6,w=(60&l[r+2])>>>2,O=(1&l[r+2])<<2|(192&l[r+3])>>>6,U=(3&l[r+3])<<11|l[r+4]<<3|(224&l[r+5])>>>5;if(l[r+6],r+U>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var F=f===1?7:9,Y=U-F;r+=F;var Z=this.findNextSyncwordOffset(r+Y);if(this.current_syncword_offset_=Z,(d===0||d===1)&&h===0){var de=l.subarray(r,r+Y);(s=new we).audio_object_type=p+1,s.sampling_freq_index=w,s.sampling_frequency=me[w],s.channel_config=O,s.data=de}}return s},u.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},u.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},u})(),Je=(function(){function u(l){this.TAG="AACLOASParser",this.data_=l,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&g.a.e(this.TAG,"Could not found LOAS syncword until payload end")}return u.prototype.findNextSyncwordOffset=function(l){for(var s=l,r=this.data_;;){if(s+1>=r.byteLength)return this.eof_flag_=!0,r.byteLength;if((r[s+0]<<3|r[s+1]>>>5)===695)return s;s++}},u.prototype.getLATMValue=function(l){for(var s=l.readBits(2),r=0,d=0;d<=s;d++)r<<=8,r|=l.readByte();return r},u.prototype.readNextAACFrame=function(l){for(var s=this.data_,r=null;r==null&&!this.eof_flag_;){var d=this.current_syncword_offset_,h=(31&s[d+1])<<8|s[d+2];if(d+3+h>=this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var f=new K(s.subarray(d+3,d+3+h)),p=null;if(f.readBool()){if(l==null){g.a.w(this.TAG,"StreamMuxConfig Missing"),this.current_syncword_offset_=this.findNextSyncwordOffset(d+3+h),f.destroy();continue}p=l}else{var w=f.readBool();if(w&&f.readBool()){g.a.e(this.TAG,"audioMuxVersionA is Not Supported"),f.destroy();break}if(w&&this.getLATMValue(f),!f.readBool()){g.a.e(this.TAG,"allStreamsSameTimeFraming zero is Not Supported"),f.destroy();break}if(f.readBits(6)!==0){g.a.e(this.TAG,"more than 2 numSubFrames Not Supported"),f.destroy();break}if(f.readBits(4)!==0){g.a.e(this.TAG,"more than 2 numProgram Not Supported"),f.destroy();break}if(f.readBits(3)!==0){g.a.e(this.TAG,"more than 2 numLayer Not Supported"),f.destroy();break}var O=w?this.getLATMValue(f):0,U=f.readBits(5);O-=5;var F=f.readBits(4);O-=4;var Y=f.readBits(4);O-=4,f.readBits(3),(O-=3)>0&&f.readBits(O);var Z=f.readBits(3);if(Z!==0){g.a.e(this.TAG,"frameLengthType = ".concat(Z,". Only frameLengthType = 0 Supported")),f.destroy();break}f.readByte();var de=f.readBool();if(de)if(w)this.getLATMValue(f);else{for(var Re=0;;){Re<<=8;var ge=f.readBool();if(Re+=f.readByte(),!ge)break}console.log(Re)}f.readBool()&&f.readByte(),(p=new Ie).audio_object_type=U,p.sampling_freq_index=F,p.sampling_frequency=me[p.sampling_freq_index],p.channel_config=Y,p.other_data_present=de}for(var Oe=0;;){var Ce=f.readByte();if(Oe+=Ce,Ce!==255)break}for(var xe=new Uint8Array(Oe),ze=0;ze<Oe;ze++)xe[ze]=f.readByte();(r=new Ie).audio_object_type=p.audio_object_type,r.sampling_freq_index=p.sampling_freq_index,r.sampling_frequency=me[p.sampling_freq_index],r.channel_config=p.channel_config,r.other_data_present=p.other_data_present,r.data=xe,this.current_syncword_offset_=this.findNextSyncwordOffset(d+3+h)}return r},u.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},u.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},u})(),At=function(u){var l=null,s=u.audio_object_type,r=u.audio_object_type,d=u.sampling_freq_index,h=u.channel_config,f=0,p=navigator.userAgent.toLowerCase();p.indexOf("firefox")!==-1?d>=6?(r=5,l=new Array(4),f=d-3):(r=2,l=new Array(2),f=d):p.indexOf("android")!==-1?(r=2,l=new Array(2),f=d):(r=5,f=d,l=new Array(4),d>=6?f=d-3:h===1&&(r=2,l=new Array(2),f=d)),l[0]=r<<3,l[0]|=(15&d)>>>1,l[1]=(15&d)<<7,l[1]|=(15&h)<<3,r===5&&(l[1]|=(15&f)>>>1,l[2]=(1&f)<<7,l[2]|=8,l[3]=0),this.config=l,this.sampling_rate=me[d],this.channel_count=h,this.codec_mimetype="mp4a.40."+r,this.original_codec_mimetype="mp4a.40."+s},Ct=function(){},fa=function(){};(function(u){u[u.kSpliceNull=0]="kSpliceNull",u[u.kSpliceSchedule=4]="kSpliceSchedule",u[u.kSpliceInsert=5]="kSpliceInsert",u[u.kTimeSignal=6]="kTimeSignal",u[u.kBandwidthReservation=7]="kBandwidthReservation",u[u.kPrivateCommand=255]="kPrivateCommand"})(Ee||(Ee={}));var gt,Ft=function(u){var l=u.readBool();return l?(u.readBits(6),{time_specified_flag:l,pts_time:4*u.readBits(31)+u.readBits(2)}):(u.readBits(7),{time_specified_flag:l})},Zn=function(u){var l=u.readBool();return u.readBits(6),{auto_return:l,duration:4*u.readBits(31)+u.readBits(2)}},Jn=function(u,l){var s=l.readBits(8);return u?{component_tag:s}:{component_tag:s,splice_time:Ft(l)}},Wn=function(u){return{component_tag:u.readBits(8),utc_splice_time:u.readBits(32)}},$n=function(u){var l=u.readBits(32),s=u.readBool();u.readBits(7);var r={splice_event_id:l,splice_event_cancel_indicator:s};if(s)return r;if(r.out_of_network_indicator=u.readBool(),r.program_splice_flag=u.readBool(),r.duration_flag=u.readBool(),u.readBits(5),r.program_splice_flag)r.utc_splice_time=u.readBits(32);else{r.component_count=u.readBits(8),r.components=[];for(var d=0;d<r.component_count;d++)r.components.push(Wn(u))}return r.duration_flag&&(r.break_duration=Zn(u)),r.unique_program_id=u.readBits(16),r.avail_num=u.readBits(8),r.avails_expected=u.readBits(8),r},Ks=function(u,l,s,r){return{descriptor_tag:u,descriptor_length:l,identifier:s,provider_avail_id:r.readBits(32)}},Nr=function(u,l,s,r){var d=r.readBits(8),h=r.readBits(3);r.readBits(5);for(var f="",p=0;p<h;p++)f+=String.fromCharCode(r.readBits(8));return{descriptor_tag:u,descriptor_length:l,identifier:s,preroll:d,dtmf_count:h,DTMF_char:f}},Xs=function(u){var l=u.readBits(8);return u.readBits(7),{component_tag:l,pts_offset:4*u.readBits(31)+u.readBits(2)}},Qs=function(u,l,s,r){var d=r.readBits(32),h=r.readBool();r.readBits(7);var f={descriptor_tag:u,descriptor_length:l,identifier:s,segmentation_event_id:d,segmentation_event_cancel_indicator:h};if(h)return f;if(f.program_segmentation_flag=r.readBool(),f.segmentation_duration_flag=r.readBool(),f.delivery_not_restricted_flag=r.readBool(),f.delivery_not_restricted_flag?r.readBits(5):(f.web_delivery_allowed_flag=r.readBool(),f.no_regional_blackout_flag=r.readBool(),f.archive_allowed_flag=r.readBool(),f.device_restrictions=r.readBits(2)),!f.program_segmentation_flag){f.component_count=r.readBits(8),f.components=[];for(var p=0;p<f.component_count;p++)f.components.push(Xs(r))}f.segmentation_duration_flag&&(f.segmentation_duration=r.readBits(40)),f.segmentation_upid_type=r.readBits(8),f.segmentation_upid_length=r.readBits(8);var w=new Uint8Array(f.segmentation_upid_length);for(p=0;p<f.segmentation_upid_length;p++)w[p]=r.readBits(8);return f.segmentation_upid=w.buffer,f.segmentation_type_id=r.readBits(8),f.segment_num=r.readBits(8),f.segments_expected=r.readBits(8),f.segmentation_type_id!==52&&f.segmentation_type_id!==54&&f.segmentation_type_id!==56&&f.segmentation_type_id!==58||(f.sub_segment_num=r.readBits(8),f.sub_segments_expected=r.readBits(8)),f},Rn=function(u,l,s,r){return{descriptor_tag:u,descriptor_length:l,identifier:s,TAI_seconds:r.readBits(48),TAI_ns:r.readBits(32),UTC_offset:r.readBits(16)}},Jt=function(u){return{component_tag:u.readBits(8),ISO_code:String.fromCharCode(u.readBits(8),u.readBits(8),u.readBits(8)),Bit_Stream_Mode:u.readBits(3),Num_Channels:u.readBits(4),Full_Srvc_Audio:u.readBool()}},Ca=function(u,l,s,r){for(var d=r.readBits(4),h=[],f=0;f<d;f++)h.push(Jt(r));return{descriptor_tag:u,descriptor_length:l,identifier:s,audio_count:d,components:h}},Wt=function(u){var l=new K(u),s=l.readBits(8),r=l.readBool(),d=l.readBool();l.readBits(2);var h=l.readBits(12),f=l.readBits(8),p=l.readBool(),w=l.readBits(6),O=4*l.readBits(31)+l.readBits(2),U=l.readBits(8),F=l.readBits(12),Y=l.readBits(12),Z=l.readBits(8),de=null;Z===Ee.kSpliceNull?de={}:Z===Ee.kSpliceSchedule?de=(function(Ne){for(var et=Ne.readBits(8),lt=[],Ve=0;Ve<et;Ve++)lt.push($n(Ne));return{splice_count:et,events:lt}})(l):Z===Ee.kSpliceInsert?de=(function(Ne){var et=Ne.readBits(32),lt=Ne.readBool();Ne.readBits(7);var Ve={splice_event_id:et,splice_event_cancel_indicator:lt};if(lt)return Ve;if(Ve.out_of_network_indicator=Ne.readBool(),Ve.program_splice_flag=Ne.readBool(),Ve.duration_flag=Ne.readBool(),Ve.splice_immediate_flag=Ne.readBool(),Ne.readBits(4),Ve.program_splice_flag&&!Ve.splice_immediate_flag&&(Ve.splice_time=Ft(Ne)),!Ve.program_splice_flag){Ve.component_count=Ne.readBits(8),Ve.components=[];for(var Xe=0;Xe<Ve.component_count;Xe++)Ve.components.push(Jn(Ve.splice_immediate_flag,Ne))}return Ve.duration_flag&&(Ve.break_duration=Zn(Ne)),Ve.unique_program_id=Ne.readBits(16),Ve.avail_num=Ne.readBits(8),Ve.avails_expected=Ne.readBits(8),Ve})(l):Z===Ee.kTimeSignal?de=(function(Ne){return{splice_time:Ft(Ne)}})(l):Z===Ee.kBandwidthReservation?de={}:Z===Ee.kPrivateCommand?de=(function(Ne,et){for(var lt=String.fromCharCode(et.readBits(8),et.readBits(8),et.readBits(8),et.readBits(8)),Ve=new Uint8Array(Ne-4),Xe=0;Xe<Ne-4;Xe++)Ve[Xe]=et.readBits(8);return{identifier:lt,private_data:Ve.buffer}})(Y,l):l.readBits(8*Y);for(var Re=[],ge=l.readBits(16),Oe=0;Oe<ge;){var Ce=l.readBits(8),xe=l.readBits(8),ze=String.fromCharCode(l.readBits(8),l.readBits(8),l.readBits(8),l.readBits(8));Ce===0?Re.push(Ks(Ce,xe,ze,l)):Ce===1?Re.push(Nr(Ce,xe,ze,l)):Ce===2?Re.push(Qs(Ce,xe,ze,l)):Ce===3?Re.push(Rn(Ce,xe,ze,l)):Ce===4?Re.push(Ca(Ce,xe,ze,l)):l.readBits(8*(xe-4)),Oe+=2+xe}var He={table_id:s,section_syntax_indicator:r,private_indicator:d,section_length:h,protocol_version:f,encrypted_packet:p,encryption_algorithm:w,pts_adjustment:O,cw_index:U,tier:F,splice_command_length:Y,splice_command_type:Z,splice_command:de,descriptor_loop_length:ge,splice_descriptors:Re,E_CRC32:p?l.readBits(32):void 0,CRC32:l.readBits(32)};if(Z===Ee.kSpliceInsert){var Me=de;if(Me.splice_event_cancel_indicator)return{splice_command_type:Z,detail:He,data:u};if(Me.program_splice_flag&&!Me.splice_immediate_flag){var ke=Me.duration_flag?Me.break_duration.auto_return:void 0,Fe=Me.duration_flag?Me.break_duration.duration/90:void 0;return Me.splice_time.time_specified_flag?{splice_command_type:Z,pts:(O+Me.splice_time.pts_time)%Math.pow(2,33),auto_return:ke,duraiton:Fe,detail:He,data:u}:{splice_command_type:Z,auto_return:ke,duraiton:Fe,detail:He,data:u}}return{splice_command_type:Z,auto_return:ke=Me.duration_flag?Me.break_duration.auto_return:void 0,duraiton:Fe=Me.duration_flag?Me.break_duration.duration/90:void 0,detail:He,data:u}}if(Z===Ee.kTimeSignal){var je=de;return je.splice_time.time_specified_flag?{splice_command_type:Z,pts:(O+je.splice_time.pts_time)%Math.pow(2,33),detail:He,data:u}:{splice_command_type:Z,detail:He,data:u}}return{splice_command_type:Z,detail:He,data:u}};(function(u){u[u.kSliceIDR_W_RADL=19]="kSliceIDR_W_RADL",u[u.kSliceIDR_N_LP=20]="kSliceIDR_N_LP",u[u.kSliceCRA_NUT=21]="kSliceCRA_NUT",u[u.kSliceVPS=32]="kSliceVPS",u[u.kSliceSPS=33]="kSliceSPS",u[u.kSlicePPS=34]="kSlicePPS",u[u.kSliceAUD=35]="kSliceAUD"})(gt||(gt={}));var Zs=function(){},Js=function(u){var l=u.data.byteLength;this.type=u.type,this.data=new Uint8Array(4+l),new DataView(this.data.buffer).setUint32(0,l),this.data.set(u.data,4)},Ws=(function(){function u(l){this.TAG="H265AnnexBParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=l,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&g.a.e(this.TAG,"Could not find H265 startcode until payload end!")}return u.prototype.findNextStartCodeOffset=function(l){for(var s=l,r=this.data_;;){if(s+3>=r.byteLength)return this.eof_flag_=!0,r.byteLength;var d=r[s+0]<<24|r[s+1]<<16|r[s+2]<<8|r[s+3],h=r[s+0]<<16|r[s+1]<<8|r[s+2];if(d===1||h===1)return s;s++}},u.prototype.readNextNaluPayload=function(){for(var l=this.data_,s=null;s==null&&!this.eof_flag_;){var r=this.current_startcode_offset_,d=l[r+=(l[r]<<24|l[r+1]<<16|l[r+2]<<8|l[r+3])===1?4:3]>>1&63,h=(128&l[r])>>>7,f=this.findNextStartCodeOffset(r);if(this.current_startcode_offset_=f,h===0){var p=l.subarray(r,f);(s=new Zs).type=d,s.data=p}}return s},u})(),ei=(function(){function u(l,s,r,d){var h=23+(5+l.byteLength)+(5+s.byteLength)+(5+r.byteLength),f=this.data=new Uint8Array(h);f[0]=1,f[1]=(3&d.general_profile_space)<<6|(d.general_tier_flag?1:0)<<5|31&d.general_profile_idc,f[2]=d.general_profile_compatibility_flags_1,f[3]=d.general_profile_compatibility_flags_2,f[4]=d.general_profile_compatibility_flags_3,f[5]=d.general_profile_compatibility_flags_4,f[6]=d.general_constraint_indicator_flags_1,f[7]=d.general_constraint_indicator_flags_2,f[8]=d.general_constraint_indicator_flags_3,f[9]=d.general_constraint_indicator_flags_4,f[10]=d.general_constraint_indicator_flags_5,f[11]=d.general_constraint_indicator_flags_6,f[12]=d.general_level_idc,f[13]=240|(3840&d.min_spatial_segmentation_idc)>>8,f[14]=255&d.min_spatial_segmentation_idc,f[15]=252|3&d.parallelismType,f[16]=252|3&d.chroma_format_idc,f[17]=248|7&d.bit_depth_luma_minus8,f[18]=248|7&d.bit_depth_chroma_minus8,f[19]=0,f[20]=0,f[21]=(3&d.constant_frame_rate)<<6|(7&d.num_temporal_layers)<<3|(d.temporal_id_nested?1:0)<<2|3,f[22]=3,f[23]=128|gt.kSliceVPS,f[24]=0,f[25]=1,f[26]=(65280&l.byteLength)>>8,f[27]=(255&l.byteLength)>>0,f.set(l,28),f[23+(5+l.byteLength)+0]=128|gt.kSliceSPS,f[23+(5+l.byteLength)+1]=0,f[23+(5+l.byteLength)+2]=1,f[23+(5+l.byteLength)+3]=(65280&s.byteLength)>>8,f[23+(5+l.byteLength)+4]=(255&s.byteLength)>>0,f.set(s,23+(5+l.byteLength)+5),f[23+(5+l.byteLength+5+s.byteLength)+0]=128|gt.kSlicePPS,f[23+(5+l.byteLength+5+s.byteLength)+1]=0,f[23+(5+l.byteLength+5+s.byteLength)+2]=1,f[23+(5+l.byteLength+5+s.byteLength)+3]=(65280&r.byteLength)>>8,f[23+(5+l.byteLength+5+s.byteLength)+4]=(255&r.byteLength)>>0,f.set(r,23+(5+l.byteLength+5+s.byteLength)+5)}return u.prototype.getData=function(){return this.data},u})(),ti=function(){},Ua=function(){},ai=function(){},Tn=[[64,64,80,80,96,96,112,112,128,128,160,160,192,192,224,224,256,256,320,320,384,384,448,448,512,512,640,640,768,768,896,896,1024,1024,1152,1152,1280,1280],[69,70,87,88,104,105,121,122,139,140,174,175,208,209,243,244,278,279,348,349,417,418,487,488,557,558,696,697,835,836,975,976,1114,1115,1253,1254,1393,1394],[96,96,120,120,144,144,168,168,192,192,240,240,288,288,336,336,384,384,480,480,576,576,672,672,768,768,960,960,1152,1152,1344,1344,1536,1536,1728,1728,1920,1920]],$s=(function(){function u(l){this.TAG="AC3Parser",this.data_=l,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&g.a.e(this.TAG,"Could not found AC3 syncword until payload end")}return u.prototype.findNextSyncwordOffset=function(l){for(var s=l,r=this.data_;;){if(s+7>=r.byteLength)return this.eof_flag_=!0,r.byteLength;if((r[s+0]<<8|r[s+1]<<0)===2935)return s;s++}},u.prototype.readNextAC3Frame=function(){for(var l=this.data_,s=null;s==null&&!this.eof_flag_;){var r=this.current_syncword_offset_,d=l[r+4]>>6,h=[48e3,44200,33e3][d],f=63&l[r+4],p=2*Tn[d][f];if(isNaN(p)||r+p>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var w=this.findNextSyncwordOffset(r+p);this.current_syncword_offset_=w;var O=l[r+5]>>3,U=7&l[r+5],F=l[r+6]>>5,Y=0;(1&F)!=0&&F!==1&&(Y+=2),(4&F)!=0&&(Y+=2),F===2&&(Y+=2);var Z=(l[r+6]<<8|l[r+7]<<0)>>12-Y&1,de=[2,1,2,3,3,4,4,5][F]+Z;(s=new ai).sampling_frequency=h,s.channel_count=de,s.channel_mode=F,s.bit_stream_identification=O,s.low_frequency_effects_channel_on=Z,s.bit_stream_mode=U,s.frame_size_code=f,s.data=l.subarray(r,r+p)}return s},u.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},u.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},u})(),Ur=function(u){var l;l=[u.sampling_rate_code<<6|u.bit_stream_identification<<1|u.bit_stream_mode>>2,(3&u.bit_stream_mode)<<6|u.channel_mode<<3|u.low_frequency_effects_channel_on<<2|u.frame_size_code>>4,u.frame_size_code<<4&224],this.config=l,this.sampling_rate=u.sampling_frequency,this.bit_stream_identification=u.bit_stream_identification,this.bit_stream_mode=u.bit_stream_mode,this.low_frequency_effects_channel_on=u.low_frequency_effects_channel_on,this.channel_count=u.channel_count,this.channel_mode=u.channel_mode,this.codec_mimetype="ac-3",this.original_codec_mimetype="ac-3"},zr=function(){},Ui=(function(){function u(l){this.TAG="EAC3Parser",this.data_=l,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&g.a.e(this.TAG,"Could not found AC3 syncword until payload end")}return u.prototype.findNextSyncwordOffset=function(l){for(var s=l,r=this.data_;;){if(s+7>=r.byteLength)return this.eof_flag_=!0,r.byteLength;if((r[s+0]<<8|r[s+1]<<0)===2935)return s;s++}},u.prototype.readNextEAC3Frame=function(){for(var l=this.data_,s=null;s==null&&!this.eof_flag_;){var r=this.current_syncword_offset_,d=new K(l.subarray(r+2)),h=(d.readBits(2),d.readBits(3),d.readBits(11)+1<<1),f=d.readBits(2),p=null,w=null;f===3?(p=[24e3,22060,16e3][f=d.readBits(2)],w=3):(p=[48e3,44100,32e3][f],w=d.readBits(2));var O=d.readBits(3),U=d.readBits(1),F=d.readBits(5);if(r+h>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var Y=this.findNextSyncwordOffset(r+h);this.current_syncword_offset_=Y;var Z=[2,1,2,3,3,4,4,5][O]+U;d.destroy(),(s=new zr).sampling_frequency=p,s.channel_count=Z,s.channel_mode=O,s.bit_stream_identification=F,s.low_frequency_effects_channel_on=U,s.frame_size=h,s.num_blks=[1,2,3,6][w],s.data=l.subarray(r,r+h)}return s},u.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},u.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},u})(),xn=function(u){var l,s=Math.floor(u.frame_size*u.sampling_frequency/(16*u.num_blks));l=[255&s,248&s,u.sampling_rate_code<<6|u.bit_stream_identification<<1|0,0|u.channel_mode<<1|u.low_frequency_effects_channel_on<<0,0],this.config=l,this.sampling_rate=u.sampling_frequency,this.bit_stream_identification=u.bit_stream_identification,this.num_blks=u.num_blks,this.low_frequency_effects_channel_on=u.low_frequency_effects_channel_on,this.channel_count=u.channel_count,this.channel_mode=u.channel_mode,this.codec_mimetype="ec-3",this.original_codec_mimetype="ec-3"},el=function(){},jr=(function(){function u(l){this.TAG="AV1OBUInMpegTsParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=l,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&g.a.e(this.TAG,"Could not find AV1 startcode until payload end!")}return u._ebsp2rbsp=function(l){for(var s=l,r=s.byteLength,d=new Uint8Array(r),h=0,f=0;f<r;f++)f>=2&&s[f]===3&&s[f-1]===0&&s[f-2]===0||(d[h]=s[f],h++);return new Uint8Array(d.buffer,0,h)},u.prototype.findNextStartCodeOffset=function(l){for(var s=l,r=this.data_;;){if(s+2>=r.byteLength)return this.eof_flag_=!0,r.byteLength;if((r[s+0]<<16|r[s+1]<<8|r[s+2])===1)return s;s++}},u.prototype.readNextOBUPayload=function(){for(var l=this.data_,s=null;s==null&&!this.eof_flag_;){var r=this.current_startcode_offset_+3,d=this.findNextStartCodeOffset(r);this.current_startcode_offset_=d,s=u._ebsp2rbsp(l.subarray(r,d))}return s},u})(),Ir=(function(){var u=function(l,s){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,d){r.__proto__=d}||function(r,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(r[h]=d[h])})(l,s)};return function(l,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function r(){this.constructor=l}u(l,s),l.prototype=s===null?Object.create(s):(r.prototype=s.prototype,new r)}})(),Ea=function(){return(Ea=Object.assign||function(u){for(var l,s=1,r=arguments.length;s<r;s++)for(var d in l=arguments[s])Object.prototype.hasOwnProperty.call(l,d)&&(u[d]=l[d]);return u}).apply(this,arguments)},ni=(function(u){function l(s,r){var d=u.call(this)||this;return d.TAG="TSDemuxer",d.first_parse_=!0,d.media_info_=new m.a,d.timescale_=90,d.duration_=0,d.current_pmt_pid_=-1,d.program_pmt_map_={},d.pes_slice_queues_={},d.section_slice_queues_={},d.video_metadata_={vps:void 0,sps:void 0,pps:void 0,av1c:void 0,details:void 0},d.audio_metadata_={codec:void 0,audio_object_type:void 0,sampling_freq_index:void 0,sampling_frequency:void 0,channel_config:void 0},d.last_pcr_base_=NaN,d.timestamp_offset_=0,d.audio_last_sample_pts_=void 0,d.aac_last_incomplete_data_=null,d.has_video_=!1,d.has_audio_=!1,d.video_init_segment_dispatched_=!1,d.audio_init_segment_dispatched_=!1,d.video_metadata_changed_=!1,d.audio_metadata_changed_=!1,d.loas_previous_frame=null,d.video_track_={type:"video",id:1,sequenceNumber:0,samples:[],length:0},d.audio_track_={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},d.ts_packet_size_=s.ts_packet_size,d.sync_offset_=s.sync_offset,d.config_=r,d}return Ir(l,u),l.prototype.destroy=function(){this.media_info_=null,this.pes_slice_queues_=null,this.section_slice_queues_=null,this.video_metadata_=null,this.audio_metadata_=null,this.aac_last_incomplete_data_=null,this.video_track_=null,this.audio_track_=null,u.prototype.destroy.call(this)},l.probe=function(s){var r=new Uint8Array(s),d=-1,h=188;if(r.byteLength<=3*h)return{needMoreData:!0};for(;d===-1;){for(var f=Math.min(1e3,r.byteLength-3*h),p=0;p<f;){if(r[p]===71&&r[p+h]===71&&r[p+2*h]===71){d=p;break}p++}if(d===-1)if(h===188)h=192;else{if(h!==192)break;h=204}}return d===-1?{match:!1}:(h===192&&d>=4?(g.a.v("TSDemuxer","ts_packet_size = 192, m2ts mode"),d-=4):h===204&&g.a.v("TSDemuxer","ts_packet_size = 204, RS encoded MPEG2-TS stream"),{match:!0,consumed:0,ts_packet_size:h,sync_offset:d})},l.prototype.bindDataSource=function(s){return s.onDataArrival=this.parseChunks.bind(this),this},l.prototype.resetMediaInfo=function(){this.media_info_=new m.a},l.prototype.parseChunks=function(s,r){if(!(this.onError&&this.onMediaInfo&&this.onTrackMetadata&&this.onDataAvailable))throw new C.a("onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var d=0;for(this.first_parse_&&(this.first_parse_=!1,d=this.sync_offset_);d+this.ts_packet_size_<=s.byteLength;){var h=r+d;this.ts_packet_size_===192&&(d+=4);var f=new Uint8Array(s,d,188),p=f[0];if(p!==71){g.a.e(this.TAG,"sync_byte = ".concat(p,", not 0x47"));break}var w=(64&f[1])>>>6,O=(f[1],(31&f[1])<<8|f[2]),U=(48&f[3])>>>4,F=15&f[3],Y=!(!this.pmt_||this.pmt_.pcr_pid!==O),Z={},de=4;if(U==2||U==3){var Re=f[4];if(Re>0&&(Y||U==3)&&(Z.discontinuity_indicator=(128&f[5])>>>7,Z.random_access_indicator=(64&f[5])>>>6,Z.elementary_stream_priority_indicator=(32&f[5])>>>5,(16&f[5])>>>4)){var ge=300*this.getPcrBase(f)+((1&f[10])<<8|f[11]);this.last_pcr_=ge}if(U==2||5+Re===188){d+=188,this.ts_packet_size_===204&&(d+=16);continue}de=5+Re}if(U==1||U==3){if(O===0||O===this.current_pmt_pid_||this.pmt_!=null&&this.pmt_.pid_stream_type[O]===T.kSCTE35){var Oe=188-de;this.handleSectionSlice(s,d+de,Oe,{pid:O,file_position:h,payload_unit_start_indicator:w,continuity_conunter:F,random_access_indicator:Z.random_access_indicator})}else if(this.pmt_!=null&&this.pmt_.pid_stream_type[O]!=null){Oe=188-de;var Ce=this.pmt_.pid_stream_type[O];O!==this.pmt_.common_pids.h264&&O!==this.pmt_.common_pids.h265&&O!==this.pmt_.common_pids.av1&&O!==this.pmt_.common_pids.adts_aac&&O!==this.pmt_.common_pids.loas_aac&&O!==this.pmt_.common_pids.ac3&&O!==this.pmt_.common_pids.eac3&&O!==this.pmt_.common_pids.opus&&O!==this.pmt_.common_pids.mp3&&this.pmt_.pes_private_data_pids[O]!==!0&&this.pmt_.timed_id3_pids[O]!==!0&&this.pmt_.synchronous_klv_pids[O]!==!0&&this.pmt_.asynchronous_klv_pids[O]!==!0||this.handlePESSlice(s,d+de,Oe,{pid:O,stream_type:Ce,file_position:h,payload_unit_start_indicator:w,continuity_conunter:F,random_access_indicator:Z.random_access_indicator})}}d+=188,this.ts_packet_size_===204&&(d+=16)}return this.dispatchAudioVideoMediaSegment(),d},l.prototype.handleSectionSlice=function(s,r,d,h){var f=new Uint8Array(s,r,d),p=this.section_slice_queues_[h.pid];if(h.payload_unit_start_indicator){var w=f[0];if(p!=null&&p.total_length!==0){var O=new Uint8Array(s,r+1,Math.min(d,w));p.slices.push(O),p.total_length+=O.byteLength,p.total_length===p.expected_length?this.emitSectionSlices(p,h):this.clearSlices(p,h)}for(var U=1+w;U<f.byteLength&&f[U+0]!==255;){var F=(15&f[U+1])<<8|f[U+2];this.section_slice_queues_[h.pid]=new le,(p=this.section_slice_queues_[h.pid]).expected_length=F+3,p.file_position=h.file_position,p.random_access_indicator=h.random_access_indicator,O=new Uint8Array(s,r+U,Math.min(d-U,p.expected_length-p.total_length)),p.slices.push(O),p.total_length+=O.byteLength,p.total_length===p.expected_length?this.emitSectionSlices(p,h):p.total_length>=p.expected_length&&this.clearSlices(p,h),U+=O.byteLength}}else p!=null&&p.total_length!==0&&(O=new Uint8Array(s,r,Math.min(d,p.expected_length-p.total_length)),p.slices.push(O),p.total_length+=O.byteLength,p.total_length===p.expected_length?this.emitSectionSlices(p,h):p.total_length>=p.expected_length&&this.clearSlices(p,h))},l.prototype.handlePESSlice=function(s,r,d,h){var f=new Uint8Array(s,r,d),p=f[0]<<16|f[1]<<8|f[2],w=(f[3],f[4]<<8|f[5]);if(h.payload_unit_start_indicator){if(p!==1)return void g.a.e(this.TAG,"handlePESSlice: packet_start_code_prefix should be 1 but with value ".concat(p));var O=this.pes_slice_queues_[h.pid];O&&(O.expected_length===0||O.expected_length===O.total_length?this.emitPESSlices(O,h):this.clearSlices(O,h)),this.pes_slice_queues_[h.pid]=new le,this.pes_slice_queues_[h.pid].file_position=h.file_position,this.pes_slice_queues_[h.pid].random_access_indicator=h.random_access_indicator}if(this.pes_slice_queues_[h.pid]!=null){var U=this.pes_slice_queues_[h.pid];U.slices.push(f),h.payload_unit_start_indicator&&(U.expected_length=w===0?0:w+6),U.total_length+=f.byteLength,U.expected_length>0&&U.expected_length===U.total_length?this.emitPESSlices(U,h):U.expected_length>0&&U.expected_length<U.total_length&&this.clearSlices(U,h)}},l.prototype.emitSectionSlices=function(s,r){for(var d=new Uint8Array(s.total_length),h=0,f=0;h<s.slices.length;h++){var p=s.slices[h];d.set(p,f),f+=p.byteLength}s.slices=[],s.expected_length=-1,s.total_length=0;var w=new he;w.pid=r.pid,w.data=d,w.file_position=s.file_position,w.random_access_indicator=s.random_access_indicator,this.parseSection(w)},l.prototype.emitPESSlices=function(s,r){for(var d=new Uint8Array(s.total_length),h=0,f=0;h<s.slices.length;h++){var p=s.slices[h];d.set(p,f),f+=p.byteLength}s.slices=[],s.expected_length=-1,s.total_length=0;var w=new k;w.pid=r.pid,w.data=d,w.stream_type=r.stream_type,w.file_position=s.file_position,w.random_access_indicator=s.random_access_indicator,this.parsePES(w)},l.prototype.clearSlices=function(s,r){s.slices=[],s.expected_length=-1,s.total_length=0},l.prototype.parseSection=function(s){var r=s.data,d=s.pid;d===0?this.parsePAT(r):d===this.current_pmt_pid_?this.parsePMT(r):this.pmt_!=null&&this.pmt_.scte_35_pids[d]&&this.parseSCTE35(r)},l.prototype.parsePES=function(s){var r=s.data,d=r[0]<<16|r[1]<<8|r[2],h=r[3],f=r[4]<<8|r[5];if(d===1)if(h!==188&&h!==190&&h!==191&&h!==240&&h!==241&&h!==255&&h!==242&&h!==248){r[6];var p=(192&r[7])>>>6,w=r[8],O=void 0,U=void 0;p!==2&&p!==3||(O=this.getTimestamp(r,9),U=p===3?this.getTimestamp(r,14):O);var F=9+w,Y=void 0;if(f!==0){if(f<3+w)return void g.a.v(this.TAG,"Malformed PES: PES_packet_length < 3 + PES_header_data_length");Y=f-3-w}else Y=r.byteLength-F;var Z=r.subarray(F,F+Y);switch(s.stream_type){case T.kMPEG1Audio:case T.kMPEG2Audio:this.parseMP3Payload(Z,O);break;case T.kPESPrivateData:this.pmt_.common_pids.av1===s.pid?this.parseAV1Payload(Z,O,U,s.file_position,s.random_access_indicator):this.pmt_.common_pids.opus===s.pid?this.parseOpusPayload(Z,O):this.pmt_.common_pids.ac3===s.pid?this.parseAC3Payload(Z,O):this.pmt_.common_pids.eac3===s.pid?this.parseEAC3Payload(Z,O):this.pmt_.asynchronous_klv_pids[s.pid]?this.parseAsynchronousKLVMetadataPayload(Z,s.pid,h):this.pmt_.smpte2038_pids[s.pid]?this.parseSMPTE2038MetadataPayload(Z,O,U,s.pid,h):this.parsePESPrivateDataPayload(Z,O,U,s.pid,h);break;case T.kADTSAAC:this.parseADTSAACPayload(Z,O);break;case T.kLOASAAC:this.parseLOASAACPayload(Z,O);break;case T.kAC3:this.parseAC3Payload(Z,O);break;case T.kEAC3:this.parseEAC3Payload(Z,O);break;case T.kMetadata:this.pmt_.timed_id3_pids[s.pid]?this.parseTimedID3MetadataPayload(Z,O,U,s.pid,h):this.pmt_.synchronous_klv_pids[s.pid]&&this.parseSynchronousKLVMetadataPayload(Z,O,U,s.pid,h);break;case T.kH264:this.parseH264Payload(Z,O,U,s.file_position,s.random_access_indicator);break;case T.kH265:this.parseH265Payload(Z,O,U,s.file_position,s.random_access_indicator)}}else(h===188||h===191||h===240||h===241||h===255||h===242||h===248)&&s.stream_type===T.kPESPrivateData&&(F=6,Y=void 0,Y=f!==0?f:r.byteLength-F,Z=r.subarray(F,F+Y),this.parsePESPrivateDataPayload(Z,void 0,void 0,s.pid,h));else g.a.e(this.TAG,"parsePES: packet_start_code_prefix should be 1 but with value ".concat(d))},l.prototype.parsePAT=function(s){var r=s[0];if(r===0){var d=(15&s[1])<<8|s[2],h=(s[3],s[4],(62&s[5])>>>1),f=1&s[5],p=s[6],w=(s[7],null);if(f===1&&p===0)(w=new Te).version_number=h;else if((w=this.pat_)==null)return;for(var O=d-5-4,U=-1,F=-1,Y=8;Y<8+O;Y+=4){var Z=s[Y]<<8|s[Y+1],de=(31&s[Y+2])<<8|s[Y+3];Z===0?w.network_pid=de:(w.program_pmt_pid[Z]=de,U===-1&&(U=Z),F===-1&&(F=de))}f===1&&p===0&&(this.pat_==null&&g.a.v(this.TAG,"Parsed first PAT: ".concat(JSON.stringify(w))),this.pat_=w,this.current_program_=U,this.current_pmt_pid_=F)}else g.a.e(this.TAG,"parsePAT: table_id ".concat(r," is not corresponded to PAT!"))},l.prototype.parsePMT=function(s){var r=s[0];if(r===2){var d=(15&s[1])<<8|s[2],h=s[3]<<8|s[4],f=(62&s[5])>>>1,p=1&s[5],w=s[6],O=(s[7],null);if(p===1&&w===0)(O=new be).program_number=h,O.version_number=f,this.program_pmt_map_[h]=O;else if((O=this.program_pmt_map_[h])==null)return;O.pcr_pid=(31&s[8])<<8|s[9];for(var U=(15&s[10])<<8|s[11],F=12+U,Y=d-9-U-4,Z=F;Z<F+Y;){var de=s[Z],Re=(31&s[Z+1])<<8|s[Z+2],ge=(15&s[Z+3])<<8|s[Z+4];O.pid_stream_type[Re]=de;var Oe=O.common_pids.h264||O.common_pids.h265,Ce=O.common_pids.adts_aac||O.common_pids.loas_aac||O.common_pids.ac3||O.common_pids.eac3||O.common_pids.opus||O.common_pids.mp3;if(de!==T.kH264||Oe)if(de!==T.kH265||Oe)if(de!==T.kADTSAAC||Ce)if(de!==T.kLOASAAC||Ce)if(de!==T.kAC3||Ce)if(de!==T.kEAC3||Ce)if(de!==T.kMPEG1Audio&&de!==T.kMPEG2Audio||Ce)if(de===T.kPESPrivateData){if(O.pes_private_data_pids[Re]=!0,ge>0){for(var xe=Z+5;xe<Z+5+ge;){var ze=s[xe+0],He=s[xe+1];if(ze===5){var Me=String.fromCharCode.apply(String,Array.from(s.subarray(xe+2,xe+2+He)));Me==="VANC"?O.smpte2038_pids[Re]=!0:Me==="AV01"?O.common_pids.av1=Re:Me==="Opus"?O.common_pids.opus=Re:Me==="KLVA"&&(O.asynchronous_klv_pids[Re]=!0)}else if(ze===127){if(Re===O.common_pids.opus){var ke=null;if(s[xe+2]===128&&(ke=s[xe+3]),ke==null){g.a.e(this.TAG,"Not Supported Opus channel count.");continue}var Fe={codec:"opus",channel_count:(15&ke)==0?2:15&ke,channel_config_code:ke,sample_rate:48e3},je={codec:"opus",meta:Fe};this.audio_init_segment_dispatched_==0?(this.audio_metadata_=Fe,this.dispatchAudioInitSegment(je)):this.detectAudioMetadataChange(je)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(je))}}else ze===128&&Re===O.common_pids.av1&&(this.video_metadata_.av1c=s.subarray(xe+2,xe+2+He));xe+=2+He}var Ne=s.subarray(Z+5,Z+5+ge);this.dispatchPESPrivateDataDescriptor(Re,de,Ne)}}else if(de===T.kMetadata){if(ge>0)for(xe=Z+5;xe<Z+5+ge;){ze=s[xe+0];var et=s[xe+1];if(ze===38){var lt=s[xe+2]<<8|s[xe+3]<<0,Ve=null;lt===65535&&(Ve=String.fromCharCode.apply(String,Array.from(s.subarray(xe+4,xe+4+4))));var Xe=null;if(s[xe+4+(lt===65535?4:0)]===255){var rt=4+(lt===65535?4:0)+1;Xe=String.fromCharCode.apply(String,Array.from(s.subarray(xe+rt,xe+rt+4)))}Ve==="ID3 "&&Xe==="ID3 "?O.timed_id3_pids[Re]=!0:Xe==="KLVA"&&(O.synchronous_klv_pids[Re]=!0)}xe+=2+et}}else de===T.kSCTE35&&(O.scte_35_pids[Re]=!0);else O.common_pids.mp3=Re;else O.common_pids.eac3=Re;else O.common_pids.ac3=Re;else O.common_pids.loas_aac=Re;else O.common_pids.adts_aac=Re;else O.common_pids.h265=Re;else O.common_pids.h264=Re;Z+=5+ge}h===this.current_program_&&(this.pmt_==null&&g.a.v(this.TAG,"Parsed first PMT: ".concat(JSON.stringify(O))),this.pmt_=O,(O.common_pids.h264||O.common_pids.h265||O.common_pids.av1)&&(this.has_video_=!0),(O.common_pids.adts_aac||O.common_pids.loas_aac||O.common_pids.ac3||O.common_pids.opus||O.common_pids.mp3)&&(this.has_audio_=!0))}else g.a.e(this.TAG,"parsePMT: table_id ".concat(r," is not corresponded to PMT!"))},l.prototype.parseSCTE35=function(s){var r=Wt(s);if(r.pts!=null){var d=Math.floor(r.pts/this.timescale_);r.pts=d}else r.nearest_pts=this.getNearestTimestampMilliseconds();this.onSCTE35Metadata&&this.onSCTE35Metadata(r)},l.prototype.parseAV1Payload=function(s,r,d,h,f){for(var p=new jr(s),w=null,O=[],U=0,F=!1,Y=null;(w=p.readNextOBUPayload())!=null;){if((Y=E.parseOBUs(w,this.video_metadata_.details))&&Y.keyframe===!0)if(this.video_init_segment_dispatched_){if(this.detectVideoMetadataChange(null,Y)===!0){var Z;this.video_metadata_changed_=!0,this.dispatchVideoMediaSegment(),(Z=new Uint8Array(new ArrayBuffer(this.video_metadata_.av1c.byteLength+Y.sequence_header_data.byteLength))).set(this.video_metadata_.av1c,0),Z.set(Y.sequence_header_data,this.video_metadata_.av1c.byteLength),Y.av1c=Z,this.dispatchVideoInitSegment()}}else(Z=new Uint8Array(new ArrayBuffer(this.video_metadata_.av1c.byteLength+Y.sequence_header_data.byteLength))).set(this.video_metadata_.av1c,0),Z.set(Y.sequence_header_data,this.video_metadata_.av1c.byteLength),Y.av1c=Z,this.video_metadata_.details=Y,this.dispatchVideoInitSegment();this.video_metadata_.details=Y,F||(F=Y.keyframe),O.push({data:w}),U+=w.byteLength}var de=Math.floor(r/this.timescale_),Re=Math.floor(d/this.timescale_);if(O.length){var ge=this.video_track_,Oe={units:O,length:U,isKeyframe:F,dts:Re,pts:de,cts:de-Re,file_position:h};ge.samples.push(Oe),ge.length+=U}},l.prototype.parseH264Payload=function(s,r,d,h,f){for(var p=new ae(s),w=null,O=[],U=0,F=!1;(w=p.readNextNaluPayload())!=null;){var Y=new q(w);if(Y.type===ye.kSliceSPS){var Z=W.parseSPS(w.data);this.video_init_segment_dispatched_?this.detectVideoMetadataChange(Y,Z)===!0&&(g.a.v(this.TAG,"H264: Critical h264 metadata has been changed, attempt to re-generate InitSegment"),this.video_metadata_changed_=!0,this.video_metadata_={vps:void 0,sps:Y,pps:void 0,av1c:void 0,details:Z}):(this.video_metadata_.sps=Y,this.video_metadata_.details=Z)}else Y.type===ye.kSlicePPS?this.video_init_segment_dispatched_&&!this.video_metadata_changed_||(this.video_metadata_.pps=Y,this.video_metadata_.sps&&this.video_metadata_.pps&&(this.video_metadata_changed_&&this.dispatchVideoMediaSegment(),this.dispatchVideoInitSegment())):(Y.type===ye.kSliceIDR||Y.type===ye.kSliceNonIDR&&f===1)&&(F=!0);this.video_init_segment_dispatched_&&(O.push(Y),U+=Y.data.byteLength)}var de=Math.floor(r/this.timescale_),Re=Math.floor(d/this.timescale_);if(O.length){var ge=this.video_track_,Oe={units:O,length:U,isKeyframe:F,dts:Re,pts:de,cts:de-Re,file_position:h};ge.samples.push(Oe),ge.length+=U}},l.prototype.parseH265Payload=function(s,r,d,h,f){for(var p=new Ws(s),w=null,O=[],U=0,F=!1;(w=p.readNextNaluPayload())!=null;){var Y=new Js(w);if(Y.type===gt.kSliceVPS){if(!this.video_init_segment_dispatched_){var Z=ce.parseVPS(w.data);this.video_metadata_.vps=Y,this.video_metadata_.details=Ea(Ea({},this.video_metadata_.details),Z)}}else Y.type===gt.kSliceSPS?(Z=ce.parseSPS(w.data),this.video_init_segment_dispatched_?this.detectVideoMetadataChange(Y,Z)===!0&&(g.a.v(this.TAG,"H265: Critical h265 metadata has been changed, attempt to re-generate InitSegment"),this.video_metadata_changed_=!0,this.video_metadata_={vps:void 0,sps:Y,pps:void 0,av1c:void 0,details:Z}):(this.video_metadata_.sps=Y,this.video_metadata_.details=Ea(Ea({},this.video_metadata_.details),Z))):Y.type===gt.kSlicePPS?(!this.video_init_segment_dispatched_||this.video_metadata_changed_)&&(Z=ce.parsePPS(w.data),this.video_metadata_.pps=Y,this.video_metadata_.details=Ea(Ea({},this.video_metadata_.details),Z),this.video_metadata_.vps&&this.video_metadata_.sps&&this.video_metadata_.pps&&(this.video_metadata_changed_&&this.dispatchVideoMediaSegment(),this.dispatchVideoInitSegment())):Y.type!==gt.kSliceIDR_W_RADL&&Y.type!==gt.kSliceIDR_N_LP&&Y.type!==gt.kSliceCRA_NUT||(F=!0);this.video_init_segment_dispatched_&&(O.push(Y),U+=Y.data.byteLength)}var de=Math.floor(r/this.timescale_),Re=Math.floor(d/this.timescale_);if(O.length){var ge=this.video_track_,Oe={units:O,length:U,isKeyframe:F,dts:Re,pts:de,cts:de-Re,file_position:h};ge.samples.push(Oe),ge.length+=U}},l.prototype.detectVideoMetadataChange=function(s,r){if(r.codec_mimetype!==this.video_metadata_.details.codec_mimetype)return g.a.v(this.TAG,"Video: Codec mimeType changed from "+"".concat(this.video_metadata_.details.codec_mimetype," to ").concat(r.codec_mimetype)),!0;if(r.codec_size.width!==this.video_metadata_.details.codec_size.width||r.codec_size.height!==this.video_metadata_.details.codec_size.height){var d=this.video_metadata_.details.codec_size,h=r.codec_size;return g.a.v(this.TAG,"Video: Coded Resolution changed from "+"".concat(d.width,"x").concat(d.height," to ").concat(h.width,"x").concat(h.height)),!0}return r.present_size.width!==this.video_metadata_.details.present_size.width&&(g.a.v(this.TAG,"Video: Present resolution width changed from "+"".concat(this.video_metadata_.details.present_size.width," to ").concat(r.present_size.width)),!0)},l.prototype.isInitSegmentDispatched=function(){return this.has_video_&&this.has_audio_?this.video_init_segment_dispatched_&&this.audio_init_segment_dispatched_:this.has_video_&&!this.has_audio_?this.video_init_segment_dispatched_:!(this.has_video_||!this.has_audio_)&&this.audio_init_segment_dispatched_},l.prototype.dispatchVideoInitSegment=function(){var s=this.video_metadata_.details,r={type:"video"};r.id=this.video_track_.id,r.timescale=1e3,r.duration=this.duration_,r.codecWidth=s.codec_size.width,r.codecHeight=s.codec_size.height,r.presentWidth=s.present_size.width,r.presentHeight=s.present_size.height,r.profile=s.profile_string,r.level=s.level_string,r.bitDepth=s.bit_depth,r.chromaFormat=s.chroma_format,r.sarRatio=s.sar_ratio,r.frameRate=s.frame_rate;var d=r.frameRate.fps_den,h=r.frameRate.fps_num;if(r.refSampleDuration=d/h*1e3,r.codec=s.codec_mimetype,this.video_metadata_.av1c)r.av1c=this.video_metadata_.av1c,this.video_init_segment_dispatched_==0&&g.a.v(this.TAG,"Generated first AV1 for mimeType: ".concat(r.codec));else if(this.video_metadata_.vps){var f=this.video_metadata_.vps.data.subarray(4),p=this.video_metadata_.sps.data.subarray(4),w=this.video_metadata_.pps.data.subarray(4),O=new ei(f,p,w,s);r.hvcc=O.getData(),this.video_init_segment_dispatched_==0&&g.a.v(this.TAG,"Generated first HEVCDecoderConfigurationRecord for mimeType: ".concat(r.codec))}else{p=this.video_metadata_.sps.data.subarray(4),w=this.video_metadata_.pps.data.subarray(4);var U=new _e(p,w,s);r.avcc=U.getData(),this.video_init_segment_dispatched_==0&&g.a.v(this.TAG,"Generated first AVCDecoderConfigurationRecord for mimeType: ".concat(r.codec))}this.onTrackMetadata("video",r),this.video_init_segment_dispatched_=!0,this.video_metadata_changed_=!1;var F=this.media_info_;F.hasVideo=!0,F.width=r.codecWidth,F.height=r.codecHeight,F.fps=r.frameRate.fps,F.profile=r.profile,F.level=r.level,F.refFrames=s.ref_frames,F.chromaFormat=s.chroma_format_string,F.sarNum=r.sarRatio.width,F.sarDen=r.sarRatio.height,F.videoCodec=r.codec,F.hasAudio&&F.audioCodec?F.mimeType='video/mp2t; codecs="'.concat(F.videoCodec,",").concat(F.audioCodec,'"'):F.mimeType='video/mp2t; codecs="'.concat(F.videoCodec,'"'),F.isComplete()&&this.onMediaInfo(F)},l.prototype.dispatchVideoMediaSegment=function(){this.isInitSegmentDispatched()&&this.video_track_.length&&this.onDataAvailable(null,this.video_track_)},l.prototype.dispatchAudioMediaSegment=function(){this.isInitSegmentDispatched()&&this.audio_track_.length&&this.onDataAvailable(this.audio_track_,null)},l.prototype.dispatchAudioVideoMediaSegment=function(){this.isInitSegmentDispatched()&&(this.audio_track_.length||this.video_track_.length)&&this.onDataAvailable(this.audio_track_,this.video_track_)},l.prototype.parseADTSAACPayload=function(s,r){if(!this.has_video_||this.video_init_segment_dispatched_){if(this.aac_last_incomplete_data_){var d=new Uint8Array(s.byteLength+this.aac_last_incomplete_data_.byteLength);d.set(this.aac_last_incomplete_data_,0),d.set(s,this.aac_last_incomplete_data_.byteLength),s=d}var h,f;if(r!=null&&(f=r/this.timescale_),this.audio_metadata_.codec==="aac"){if(r==null&&this.audio_last_sample_pts_!=null)h=1024/this.audio_metadata_.sampling_frequency*1e3,f=this.audio_last_sample_pts_+h;else if(r==null)return void g.a.w(this.TAG,"AAC: Unknown pts");if(this.aac_last_incomplete_data_&&this.audio_last_sample_pts_){h=1024/this.audio_metadata_.sampling_frequency*1e3;var p=this.audio_last_sample_pts_+h;Math.abs(p-f)>1&&(g.a.w(this.TAG,"AAC: Detected pts overlapped, "+"expected: ".concat(p,"ms, PES pts: ").concat(f,"ms")),f=p)}}for(var w,O=new Pe(s),U=null,F=f;(U=O.readNextAACFrame())!=null;){h=1024/U.sampling_frequency*1e3;var Y={codec:"aac",data:U};this.audio_init_segment_dispatched_==0?(this.audio_metadata_={codec:"aac",audio_object_type:U.audio_object_type,sampling_freq_index:U.sampling_freq_index,sampling_frequency:U.sampling_frequency,channel_config:U.channel_config},this.dispatchAudioInitSegment(Y)):this.detectAudioMetadataChange(Y)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(Y)),w=F;var Z=Math.floor(F),de={unit:U.data,length:U.data.byteLength,pts:Z,dts:Z};this.audio_track_.samples.push(de),this.audio_track_.length+=U.data.byteLength,F+=h}O.hasIncompleteData()&&(this.aac_last_incomplete_data_=O.getIncompleteData()),w&&(this.audio_last_sample_pts_=w)}},l.prototype.parseLOASAACPayload=function(s,r){var d;if(!this.has_video_||this.video_init_segment_dispatched_){if(this.aac_last_incomplete_data_){var h=new Uint8Array(s.byteLength+this.aac_last_incomplete_data_.byteLength);h.set(this.aac_last_incomplete_data_,0),h.set(s,this.aac_last_incomplete_data_.byteLength),s=h}var f,p;if(r!=null&&(p=r/this.timescale_),this.audio_metadata_.codec==="aac"){if(r==null&&this.audio_last_sample_pts_!=null)f=1024/this.audio_metadata_.sampling_frequency*1e3,p=this.audio_last_sample_pts_+f;else if(r==null)return void g.a.w(this.TAG,"AAC: Unknown pts");if(this.aac_last_incomplete_data_&&this.audio_last_sample_pts_){f=1024/this.audio_metadata_.sampling_frequency*1e3;var w=this.audio_last_sample_pts_+f;Math.abs(w-p)>1&&(g.a.w(this.TAG,"AAC: Detected pts overlapped, "+"expected: ".concat(w,"ms, PES pts: ").concat(p,"ms")),p=w)}}for(var O,U=new Je(s),F=null,Y=p;(F=U.readNextAACFrame((d=this.loas_previous_frame)!==null&&d!==void 0?d:void 0))!=null;){this.loas_previous_frame=F,f=1024/F.sampling_frequency*1e3;var Z={codec:"aac",data:F};this.audio_init_segment_dispatched_==0?(this.audio_metadata_={codec:"aac",audio_object_type:F.audio_object_type,sampling_freq_index:F.sampling_freq_index,sampling_frequency:F.sampling_frequency,channel_config:F.channel_config},this.dispatchAudioInitSegment(Z)):this.detectAudioMetadataChange(Z)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(Z)),O=Y;var de=Math.floor(Y),Re={unit:F.data,length:F.data.byteLength,pts:de,dts:de};this.audio_track_.samples.push(Re),this.audio_track_.length+=F.data.byteLength,Y+=f}U.hasIncompleteData()&&(this.aac_last_incomplete_data_=U.getIncompleteData()),O&&(this.audio_last_sample_pts_=O)}},l.prototype.parseAC3Payload=function(s,r){if(!this.has_video_||this.video_init_segment_dispatched_){var d,h;if(r!=null&&(h=r/this.timescale_),this.audio_metadata_.codec==="ac-3"){if(r==null&&this.audio_last_sample_pts_!=null)d=1536/this.audio_metadata_.sampling_frequency*1e3,h=this.audio_last_sample_pts_+d;else if(r==null)return void g.a.w(this.TAG,"AC3: Unknown pts")}for(var f,p=new $s(s),w=null,O=h;(w=p.readNextAC3Frame())!=null;){d=1536/w.sampling_frequency*1e3;var U={codec:"ac-3",data:w};this.audio_init_segment_dispatched_==0?(this.audio_metadata_={codec:"ac-3",sampling_frequency:w.sampling_frequency,bit_stream_identification:w.bit_stream_identification,bit_stream_mode:w.bit_stream_mode,low_frequency_effects_channel_on:w.low_frequency_effects_channel_on,channel_mode:w.channel_mode},this.dispatchAudioInitSegment(U)):this.detectAudioMetadataChange(U)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(U)),f=O;var F=Math.floor(O),Y={unit:w.data,length:w.data.byteLength,pts:F,dts:F};this.audio_track_.samples.push(Y),this.audio_track_.length+=w.data.byteLength,O+=d}f&&(this.audio_last_sample_pts_=f)}},l.prototype.parseEAC3Payload=function(s,r){if(!this.has_video_||this.video_init_segment_dispatched_){var d,h;if(r!=null&&(h=r/this.timescale_),this.audio_metadata_.codec==="ec-3"){if(r==null&&this.audio_last_sample_pts_!=null)d=256*this.audio_metadata_.num_blks/this.audio_metadata_.sampling_frequency*1e3,h=this.audio_last_sample_pts_+d;else if(r==null)return void g.a.w(this.TAG,"EAC3: Unknown pts")}for(var f,p=new Ui(s),w=null,O=h;(w=p.readNextEAC3Frame())!=null;){d=1536/w.sampling_frequency*1e3;var U={codec:"ec-3",data:w};this.audio_init_segment_dispatched_==0?(this.audio_metadata_={codec:"ec-3",sampling_frequency:w.sampling_frequency,bit_stream_identification:w.bit_stream_identification,low_frequency_effects_channel_on:w.low_frequency_effects_channel_on,num_blks:w.num_blks,channel_mode:w.channel_mode},this.dispatchAudioInitSegment(U)):this.detectAudioMetadataChange(U)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(U)),f=O;var F=Math.floor(O),Y={unit:w.data,length:w.data.byteLength,pts:F,dts:F};this.audio_track_.samples.push(Y),this.audio_track_.length+=w.data.byteLength,O+=d}f&&(this.audio_last_sample_pts_=f)}},l.prototype.parseOpusPayload=function(s,r){if(!this.has_video_||this.video_init_segment_dispatched_){var d,h;if(r!=null&&(h=r/this.timescale_),this.audio_metadata_.codec==="opus"){if(r==null&&this.audio_last_sample_pts_!=null)d=20,h=this.audio_last_sample_pts_+d;else if(r==null)return void g.a.w(this.TAG,"Opus: Unknown pts")}for(var f,p=h,w=0;w<s.length;){d=20;for(var O=(16&s[w+1])!=0,U=(8&s[w+1])!=0,F=w+2,Y=0;s[F]===255;)Y+=255,F+=1;Y+=s[F],F+=1,F+=O?2:0,F+=U?2:0,f=p;var Z=Math.floor(p),de=s.slice(F,F+Y),Re={unit:de,length:de.byteLength,pts:Z,dts:Z};this.audio_track_.samples.push(Re),this.audio_track_.length+=de.byteLength,p+=d,w=F+Y}f&&(this.audio_last_sample_pts_=f)}},l.prototype.parseMP3Payload=function(s,r){if(!this.has_video_||this.video_init_segment_dispatched_){var d=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],h=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],f=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],p=s[1]>>>3&3,w=(6&s[1])>>1,O=(240&s[2])>>>4,U=(12&s[2])>>>2,F=(s[3]>>>6&3)!==3?2:1,Y=0,Z=34;switch(p){case 0:Y=[11025,12e3,8e3,0][U];break;case 2:Y=[22050,24e3,16e3,0][U];break;case 3:Y=[44100,48e3,32e3,0][U]}switch(w){case 1:Z=34,O<f.length&&f[O];break;case 2:Z=33,O<h.length&&h[O];break;case 3:Z=32,O<d.length&&d[O]}var de=new Ua;de.object_type=Z,de.sample_rate=Y,de.channel_count=F,de.data=s;var Re={codec:"mp3",data:de};this.audio_init_segment_dispatched_==0?(this.audio_metadata_={codec:"mp3",object_type:Z,sample_rate:Y,channel_count:F},this.dispatchAudioInitSegment(Re)):this.detectAudioMetadataChange(Re)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(Re));var ge={unit:s,length:s.byteLength,pts:r/this.timescale_,dts:r/this.timescale_};this.audio_track_.samples.push(ge),this.audio_track_.length+=s.byteLength}},l.prototype.detectAudioMetadataChange=function(s){if(s.codec!==this.audio_metadata_.codec)return g.a.v(this.TAG,"Audio: Audio Codecs changed from "+"".concat(this.audio_metadata_.codec," to ").concat(s.codec)),!0;if(s.codec==="aac"&&this.audio_metadata_.codec==="aac"){if((r=s.data).audio_object_type!==this.audio_metadata_.audio_object_type)return g.a.v(this.TAG,"AAC: AudioObjectType changed from "+"".concat(this.audio_metadata_.audio_object_type," to ").concat(r.audio_object_type)),!0;if(r.sampling_freq_index!==this.audio_metadata_.sampling_freq_index)return g.a.v(this.TAG,"AAC: SamplingFrequencyIndex changed from "+"".concat(this.audio_metadata_.sampling_freq_index," to ").concat(r.sampling_freq_index)),!0;if(r.channel_config!==this.audio_metadata_.channel_config)return g.a.v(this.TAG,"AAC: Channel configuration changed from "+"".concat(this.audio_metadata_.channel_config," to ").concat(r.channel_config)),!0}else if(s.codec==="ac-3"&&this.audio_metadata_.codec==="ac-3"){var r;if((r=s.data).sampling_frequency!==this.audio_metadata_.sampling_frequency)return g.a.v(this.TAG,"AC3: Sampling Frequency changed from "+"".concat(this.audio_metadata_.sampling_frequency," to ").concat(r.sampling_frequency)),!0;if(r.bit_stream_identification!==this.audio_metadata_.bit_stream_identification)return g.a.v(this.TAG,"AC3: Bit Stream Identification changed from "+"".concat(this.audio_metadata_.bit_stream_identification," to ").concat(r.bit_stream_identification)),!0;if(r.bit_stream_mode!==this.audio_metadata_.bit_stream_mode)return g.a.v(this.TAG,"AC3: BitStream Mode changed from "+"".concat(this.audio_metadata_.bit_stream_mode," to ").concat(r.bit_stream_mode)),!0;if(r.channel_mode!==this.audio_metadata_.channel_mode)return g.a.v(this.TAG,"AC3: Channel Mode changed from "+"".concat(this.audio_metadata_.channel_mode," to ").concat(r.channel_mode)),!0;if(r.low_frequency_effects_channel_on!==this.audio_metadata_.low_frequency_effects_channel_on)return g.a.v(this.TAG,"AC3: Low Frequency Effects Channel On changed from "+"".concat(this.audio_metadata_.low_frequency_effects_channel_on," to ").concat(r.low_frequency_effects_channel_on)),!0}else if(s.codec==="opus"&&this.audio_metadata_.codec==="opus"){if((d=s.meta).sample_rate!==this.audio_metadata_.sample_rate)return g.a.v(this.TAG,"Opus: SamplingFrequencyIndex changed from "+"".concat(this.audio_metadata_.sample_rate," to ").concat(d.sample_rate)),!0;if(d.channel_count!==this.audio_metadata_.channel_count)return g.a.v(this.TAG,"Opus: Channel count changed from "+"".concat(this.audio_metadata_.channel_count," to ").concat(d.channel_count)),!0}else if(s.codec==="mp3"&&this.audio_metadata_.codec==="mp3"){var d;if((d=s.data).object_type!==this.audio_metadata_.object_type)return g.a.v(this.TAG,"MP3: AudioObjectType changed from "+"".concat(this.audio_metadata_.object_type," to ").concat(d.object_type)),!0;if(d.sample_rate!==this.audio_metadata_.sample_rate)return g.a.v(this.TAG,"MP3: SamplingFrequencyIndex changed from "+"".concat(this.audio_metadata_.sample_rate," to ").concat(d.sample_rate)),!0;if(d.channel_count!==this.audio_metadata_.channel_count)return g.a.v(this.TAG,"MP3: Channel count changed from "+"".concat(this.audio_metadata_.channel_count," to ").concat(d.channel_count)),!0}return!1},l.prototype.dispatchAudioInitSegment=function(s){var r={type:"audio"};if(r.id=this.audio_track_.id,r.timescale=1e3,r.duration=this.duration_,this.audio_metadata_.codec==="aac"){var d=s.codec==="aac"?s.data:null,h=new At(d);r.audioSampleRate=h.sampling_rate,r.channelCount=h.channel_count,r.codec=h.codec_mimetype,r.originalCodec=h.original_codec_mimetype,r.config=h.config,r.refSampleDuration=1024/r.audioSampleRate*r.timescale}else if(this.audio_metadata_.codec==="ac-3"){var f=s.codec==="ac-3"?s.data:null,p=new Ur(f);r.audioSampleRate=p.sampling_rate,r.channelCount=p.channel_count,r.codec=p.codec_mimetype,r.originalCodec=p.original_codec_mimetype,r.config=p.config,r.refSampleDuration=1536/r.audioSampleRate*r.timescale}else if(this.audio_metadata_.codec==="ec-3"){var w=s.codec==="ec-3"?s.data:null,O=new xn(w);r.audioSampleRate=O.sampling_rate,r.channelCount=O.channel_count,r.codec=O.codec_mimetype,r.originalCodec=O.original_codec_mimetype,r.config=O.config,r.refSampleDuration=256*O.num_blks/r.audioSampleRate*r.timescale}else this.audio_metadata_.codec==="opus"?(r.audioSampleRate=this.audio_metadata_.sample_rate,r.channelCount=this.audio_metadata_.channel_count,r.channelConfigCode=this.audio_metadata_.channel_config_code,r.codec="opus",r.originalCodec="opus",r.config=void 0,r.refSampleDuration=20):this.audio_metadata_.codec==="mp3"&&(r.audioSampleRate=this.audio_metadata_.sample_rate,r.channelCount=this.audio_metadata_.channel_count,r.codec="mp3",r.originalCodec="mp3",r.config=void 0);this.audio_init_segment_dispatched_==0&&g.a.v(this.TAG,"Generated first AudioSpecificConfig for mimeType: ".concat(r.codec)),this.onTrackMetadata("audio",r),this.audio_init_segment_dispatched_=!0,this.video_metadata_changed_=!1;var U=this.media_info_;U.hasAudio=!0,U.audioCodec=r.originalCodec,U.audioSampleRate=r.audioSampleRate,U.audioChannelCount=r.channelCount,U.hasVideo&&U.videoCodec?U.mimeType='video/mp2t; codecs="'.concat(U.videoCodec,",").concat(U.audioCodec,'"'):U.mimeType='video/mp2t; codecs="'.concat(U.audioCodec,'"'),U.isComplete()&&this.onMediaInfo(U)},l.prototype.dispatchPESPrivateDataDescriptor=function(s,r,d){var h=new fa;h.pid=s,h.stream_type=r,h.descriptor=d,this.onPESPrivateDataDescriptor&&this.onPESPrivateDataDescriptor(h)},l.prototype.parsePESPrivateDataPayload=function(s,r,d,h,f){var p=new Ct;if(p.pid=h,p.stream_id=f,p.len=s.byteLength,p.data=s,r!=null){var w=Math.floor(r/this.timescale_);p.pts=w}else p.nearest_pts=this.getNearestTimestampMilliseconds();if(d!=null){var O=Math.floor(d/this.timescale_);p.dts=O}this.onPESPrivateData&&this.onPESPrivateData(p)},l.prototype.parseTimedID3MetadataPayload=function(s,r,d,h,f){var p=new Ct;if(p.pid=h,p.stream_id=f,p.len=s.byteLength,p.data=s,r!=null){var w=Math.floor(r/this.timescale_);p.pts=w}if(d!=null){var O=Math.floor(d/this.timescale_);p.dts=O}this.onTimedID3Metadata&&this.onTimedID3Metadata(p)},l.prototype.parseSynchronousKLVMetadataPayload=function(s,r,d,h,f){var p=new el;if(p.pid=h,p.stream_id=f,p.len=s.byteLength,p.data=s,r!=null){var w=Math.floor(r/this.timescale_);p.pts=w}if(d!=null){var O=Math.floor(d/this.timescale_);p.dts=O}p.access_units=(function(U){for(var F=[],Y=0;Y+5<U.byteLength;){var Z=U[Y+0],de=U[Y+1],Re=U[Y+2],ge=U[Y+3]<<8|U[Y+4]<<0,Oe=U.slice(Y+5,Y+5+ge);F.push({service_id:Z,sequence_number:de,flags:Re,data:Oe}),Y+=5+ge}return F})(s),this.onSynchronousKLVMetadata&&this.onSynchronousKLVMetadata(p)},l.prototype.parseAsynchronousKLVMetadataPayload=function(s,r,d){var h=new Ct;h.pid=r,h.stream_id=d,h.len=s.byteLength,h.data=s,this.onAsynchronousKLVMetadata&&this.onAsynchronousKLVMetadata(h)},l.prototype.parseSMPTE2038MetadataPayload=function(s,r,d,h,f){var p=new ti;if(p.pid=h,p.stream_id=f,p.len=s.byteLength,p.data=s,r!=null){var w=Math.floor(r/this.timescale_);p.pts=w}if(p.nearest_pts=this.getNearestTimestampMilliseconds(),d!=null){var O=Math.floor(d/this.timescale_);p.dts=O}p.ancillaries=(function(U){for(var F=new K(U),Y=0,Z=[];Y+=6,F.readBits(6)===0;){var de=F.readBool();Y+=1;var Re=F.readBits(11);Y+=11;var ge=F.readBits(12);Y+=12;var Oe=255&F.readBits(10);Y+=10;var Ce=255&F.readBits(10);Y+=10;var xe=255&F.readBits(10);Y+=10;for(var ze=new Uint8Array(xe),He=0;He<xe;He++){var Me=255&F.readBits(10);Y+=10,ze[He]=Me}F.readBits(10),Y+=10;var ke="User Defined";Oe===65?Ce===7&&(ke="SCTE-104"):Oe===95?Ce===220?ke="ARIB STD-B37 (1SEG)":Ce===221?ke="ARIB STD-B37 (ANALOG)":Ce===222?ke="ARIB STD-B37 (SD)":Ce===223&&(ke="ARIB STD-B37 (HD)"):Oe===97&&(Ce===1?ke="EIA-708":Ce===2&&(ke="EIA-608")),Z.push({yc_indicator:de,line_number:Re,horizontal_offset:ge,did:Oe,sdid:Ce,user_data:ze,description:ke,information:{}}),F.readBits(8-(Y-Math.floor(Y/8))%8),Y+=(8-(Y-Math.floor(Y/8)))%8}return F.destroy(),F=null,Z})(s),this.onSMPTE2038Metadata&&this.onSMPTE2038Metadata(p)},l.prototype.getNearestTimestampMilliseconds=function(){return this.audio_last_sample_pts_!=null?Math.floor(this.audio_last_sample_pts_):this.last_pcr_!=null?Math.floor(this.last_pcr_/300/this.timescale_):void 0},l.prototype.getPcrBase=function(s){var r=33554432*s[6]+131072*s[7]+512*s[8]+2*s[9]+(128&s[10])/128+this.timestamp_offset_;return r+4294967296<this.last_pcr_base_&&(r+=8589934592,this.timestamp_offset_+=8589934592),this.last_pcr_base_=r,r},l.prototype.getTimestamp=function(s,r){var d=536870912*(14&s[r])+4194304*(255&s[r+1])+16384*(254&s[r+2])+128*(255&s[r+3])+(254&s[r+4])/2+this.timestamp_offset_;return d+4294967296<this.last_pcr_base_&&(d+=8589934592),d},l})(oe),zi=function(u,l,s){for(var r,d=0,h=l.length;d<h;d++)!r&&d in l||(r||(r=Array.prototype.slice.call(l,0,d)),r[d]=l[d]);return u.concat(r||Array.prototype.slice.call(l))},Pr=(function(){function u(){}return u.init=function(){for(var l in u.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],hvc1:[],hvcC:[],av01:[],av1C:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[],Opus:[],dOps:[],"ac-3":[],dac3:[],"ec-3":[],dec3:[],fLaC:[],dfLa:[]},u.types)u.types.hasOwnProperty(l)&&(u.types[l]=[l.charCodeAt(0),l.charCodeAt(1),l.charCodeAt(2),l.charCodeAt(3)]);var s=u.constants={};s.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),s.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),s.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),s.STSC=s.STCO=s.STTS,s.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),s.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),s.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),s.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),s.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),s.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},u.box=function(l){for(var s=8,r=null,d=Array.prototype.slice.call(arguments,1),h=d.length,f=0;f<h;f++)s+=d[f].byteLength;(r=new Uint8Array(s))[0]=s>>>24&255,r[1]=s>>>16&255,r[2]=s>>>8&255,r[3]=255&s,r.set(l,4);var p=8;for(f=0;f<h;f++)r.set(d[f],p),p+=d[f].byteLength;return r},u.generateInitSegment=function(l){var s=u.box(u.types.ftyp,u.constants.FTYP),r=u.moov(l),d=new Uint8Array(s.byteLength+r.byteLength);return d.set(s,0),d.set(r,s.byteLength),d},u.moov=function(l){var s=u.mvhd(l.timescale,l.duration),r=u.trak(l),d=u.mvex(l);return u.box(u.types.moov,s,r,d)},u.mvhd=function(l,s){return u.box(u.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,255&l,s>>>24&255,s>>>16&255,s>>>8&255,255&s,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},u.trak=function(l){return u.box(u.types.trak,u.tkhd(l),u.mdia(l))},u.tkhd=function(l){var s=l.id,r=l.duration,d=l.presentWidth,h=l.presentHeight;return u.box(u.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,d>>>8&255,255&d,0,0,h>>>8&255,255&h,0,0]))},u.mdia=function(l){return u.box(u.types.mdia,u.mdhd(l),u.hdlr(l),u.minf(l))},u.mdhd=function(l){var s=l.timescale,r=l.duration;return u.box(u.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,r>>>24&255,r>>>16&255,r>>>8&255,255&r,85,196,0,0]))},u.hdlr=function(l){var s=null;return s=l.type==="audio"?u.constants.HDLR_AUDIO:u.constants.HDLR_VIDEO,u.box(u.types.hdlr,s)},u.minf=function(l){var s=null;return s=l.type==="audio"?u.box(u.types.smhd,u.constants.SMHD):u.box(u.types.vmhd,u.constants.VMHD),u.box(u.types.minf,s,u.dinf(),u.stbl(l))},u.dinf=function(){return u.box(u.types.dinf,u.box(u.types.dref,u.constants.DREF))},u.stbl=function(l){return u.box(u.types.stbl,u.stsd(l),u.box(u.types.stts,u.constants.STTS),u.box(u.types.stsc,u.constants.STSC),u.box(u.types.stsz,u.constants.STSZ),u.box(u.types.stco,u.constants.STCO))},u.stsd=function(l){return l.type==="audio"?l.codec==="mp3"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp3(l)):l.codec==="ac-3"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.ac3(l)):l.codec==="ec-3"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.ec3(l)):l.codec==="opus"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.Opus(l)):l.codec=="flac"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.fLaC(l)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp4a(l)):l.type==="video"&&l.codec.startsWith("hvc1")?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.hvc1(l)):l.type==="video"&&l.codec.startsWith("av01")?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.av01(l)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.avc1(l))},u.mp3=function(l){var s=l.channelCount,r=l.audioSampleRate,d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,s,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return u.box(u.types[".mp3"],d)},u.mp4a=function(l){var s=l.channelCount,r=l.audioSampleRate,d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,s,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return u.box(u.types.mp4a,d,u.esds(l))},u.ac3=function(l){var s=l.channelCount,r=l.audioSampleRate,d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,s,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return u.box(u.types["ac-3"],d,u.box(u.types.dac3,new Uint8Array(l.config)))},u.ec3=function(l){var s=l.channelCount,r=l.audioSampleRate,d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,s,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return u.box(u.types["ec-3"],d,u.box(u.types.dec3,new Uint8Array(l.config)))},u.esds=function(l){var s=l.config||[],r=s.length,d=new Uint8Array([0,0,0,0,3,23+r,0,1,0,4,15+r,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([r]).concat(s).concat([6,1,2]));return u.box(u.types.esds,d)},u.Opus=function(l){var s=l.channelCount,r=l.audioSampleRate,d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,s,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return u.box(u.types.Opus,d,u.dOps(l))},u.dOps=function(l){var s=l.channelCount,r=l.channelConfigCode,d=l.audioSampleRate;if(l.config)return u.box(u.types.dOps,l.config);var h=[];switch(r){case 1:case 2:h=[0];break;case 0:h=[255,1,1,0,1];break;case 128:h=[255,2,0,0,1];break;case 3:h=[1,2,1,0,2,1];break;case 4:h=[1,2,2,0,1,2,3];break;case 5:h=[1,3,2,0,4,1,2,3];break;case 6:h=[1,4,2,0,4,1,2,3,5];break;case 7:h=[1,4,2,0,4,1,2,3,5,6];break;case 8:h=[1,5,3,0,6,1,2,3,4,5,7];break;case 130:h=[1,1,2,0,1];break;case 131:h=[1,1,3,0,1,2];break;case 132:h=[1,1,4,0,1,2,3];break;case 133:h=[1,1,5,0,1,2,3,4];break;case 134:h=[1,1,6,0,1,2,3,4,5];break;case 135:h=[1,1,7,0,1,2,3,4,5,6];break;case 136:h=[1,1,8,0,1,2,3,4,5,6,7]}var f=new Uint8Array(zi([0,s,0,0,d>>>24&255,d>>>17&255,d>>>8&255,d>>>0&255,0,0],h));return u.box(u.types.dOps,f)},u.fLaC=function(l){var s=l.channelCount,r=Math.min(l.audioSampleRate,65535),d=l.sampleSize,h=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,s,0,d,0,0,0,0,r>>>8&255,255&r,0,0]);return u.box(u.types.fLaC,h,u.dfLa(l))},u.dfLa=function(l){var s=new Uint8Array(zi([0,0,0,0],l.config));return u.box(u.types.dfLa,s)},u.avc1=function(l){var s=l.avcc,r=l.codecWidth,d=l.codecHeight,h=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r>>>8&255,255&r,d>>>8&255,255&d,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return u.box(u.types.avc1,h,u.box(u.types.avcC,s))},u.hvc1=function(l){var s=l.hvcc,r=l.codecWidth,d=l.codecHeight,h=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r>>>8&255,255&r,d>>>8&255,255&d,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return u.box(u.types.hvc1,h,u.box(u.types.hvcC,s))},u.av01=function(l){var s=l.av1c,r=l.codecWidth||192,d=l.codecHeight||108,h=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r>>>8&255,255&r,d>>>8&255,255&d,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return u.box(u.types.av01,h,u.box(u.types.av1C,s))},u.mvex=function(l){return u.box(u.types.mvex,u.trex(l))},u.trex=function(l){var s=l.id,r=new Uint8Array([0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return u.box(u.types.trex,r)},u.moof=function(l,s){return u.box(u.types.moof,u.mfhd(l.sequenceNumber),u.traf(l,s))},u.mfhd=function(l){var s=new Uint8Array([0,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,255&l]);return u.box(u.types.mfhd,s)},u.traf=function(l,s){var r=l.id,d=u.box(u.types.tfhd,new Uint8Array([0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r])),h=u.box(u.types.tfdt,new Uint8Array([0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),f=u.sdtp(l),p=u.trun(l,f.byteLength+16+16+8+16+8+8);return u.box(u.types.traf,d,h,p,f)},u.sdtp=function(l){for(var s=l.samples||[],r=s.length,d=new Uint8Array(4+r),h=0;h<r;h++){var f=s[h].flags;d[h+4]=f.isLeading<<6|f.dependsOn<<4|f.isDependedOn<<2|f.hasRedundancy}return u.box(u.types.sdtp,d)},u.trun=function(l,s){var r=l.samples||[],d=r.length,h=12+16*d,f=new Uint8Array(h);s+=8+h,f.set([0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,255&d,s>>>24&255,s>>>16&255,s>>>8&255,255&s],0);for(var p=0;p<d;p++){var w=r[p].duration,O=r[p].size,U=r[p].flags,F=r[p].cts;f.set([w>>>24&255,w>>>16&255,w>>>8&255,255&w,O>>>24&255,O>>>16&255,O>>>8&255,255&O,U.isLeading<<2|U.dependsOn,U.isDependedOn<<6|U.hasRedundancy<<4|U.isNonSync,0,0,F>>>24&255,F>>>16&255,F>>>8&255,255&F],12+16*p)}return u.box(u.types.trun,f)},u.mdat=function(l){return u.box(u.types.mdat,l)},u})();Pr.init();var $t=Pr,kt=(function(){function u(){}return u.getSilentFrame=function(l,s){if(l==="mp4a.40.2"){if(s===1)return new Uint8Array([0,200,0,128,35,128]);if(s===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(s===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(s===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(s===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(s===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(s===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(s===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(s===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},u})(),yt=A(11),za=(function(){function u(l){this.TAG="MP4Remuxer",this._config=l,this._isLive=l.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new yt.c("audio"),this._videoSegmentInfoList=new yt.c("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!y.a.chrome||!(y.a.version.major<50||y.a.version.major===50&&y.a.version.build<2661)),this._fillSilentAfterSeek=y.a.msedge||y.a.msie,this._mp3UseMpegAudio=!y.a.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return u.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},u.prototype.bindDataSource=function(l){return l.onDataAvailable=this.remux.bind(this),l.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(u.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(l){this._onInitSegment=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(l){this._onMediaSegment=l},enumerable:!1,configurable:!0}),u.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},u.prototype.seek=function(l){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},u.prototype.remux=function(l,s){if(!this._onMediaSegment)throw new C.a("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(l,s),s&&this._remuxVideo(s),l&&this._remuxAudio(l)},u.prototype._onTrackMetadataReceived=function(l,s){var r=null,d="mp4",h=s.codec;if(l==="audio")this._audioMeta=s,s.codec==="mp3"&&this._mp3UseMpegAudio?(d="mpeg",h="",r=new Uint8Array):r=$t.generateInitSegment(s);else{if(l!=="video")return;this._videoMeta=s,r=$t.generateInitSegment(s)}if(!this._onInitSegment)throw new C.a("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(l,{type:l,data:r.buffer,codec:h,container:"".concat(l,"/").concat(d),mediaDuration:s.duration})},u.prototype._calculateDtsBase=function(l,s){this._dtsBaseInited||(l&&l.samples&&l.samples.length&&(this._audioDtsBase=l.samples[0].dts),s&&s.samples&&s.samples.length&&(this._videoDtsBase=s.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},u.prototype.getTimestampBase=function(){if(this._dtsBaseInited)return this._dtsBase},u.prototype.flushStashedSamples=function(){var l=this._videoStashedLastSample,s=this._audioStashedLastSample,r={type:"video",id:1,sequenceNumber:0,samples:[],length:0};l!=null&&(r.samples.push(l),r.length=l.length);var d={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};s!=null&&(d.samples.push(s),d.length=s.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(r,!0),this._remuxAudio(d,!0)},u.prototype._remuxAudio=function(l,s){if(this._audioMeta!=null){var r,d=l,h=d.samples,f=void 0,p=-1,w=this._audioMeta.refSampleDuration,O=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,U=this._dtsBaseInited&&this._audioNextDts===void 0,F=!1;if(h&&h.length!==0&&(h.length!==1||s)){var Y=0,Z=null,de=0;O?(Y=0,de=d.length):(Y=8,de=8+d.length);var Re=null;if(h.length>1&&(de-=(Re=h.pop()).length),this._audioStashedLastSample!=null){var ge=this._audioStashedLastSample;this._audioStashedLastSample=null,h.unshift(ge),de+=ge.length}Re!=null&&(this._audioStashedLastSample=Re);var Oe=h[0].dts-this._dtsBase;if(this._audioNextDts)f=Oe-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())f=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(F=!0);else{var Ce=this._audioSegmentInfoList.getLastSampleBefore(Oe);if(Ce!=null){var xe=Oe-(Ce.originalDts+Ce.duration);xe<=3&&(xe=0),f=Oe-(Ce.dts+Ce.duration+xe)}else f=0}if(F){var ze=Oe-f,He=this._videoSegmentInfoList.getLastSegmentBefore(Oe);if(He!=null&&He.beginDts<ze){if(Rt=kt.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount)){var Me=He.beginDts,ke=ze-He.beginDts;g.a.v(this.TAG,"InsertPrefixSilentAudio: dts: ".concat(Me,", duration: ").concat(ke)),h.unshift({unit:Rt,dts:Me,pts:Me}),de+=Rt.byteLength}}else F=!1}for(var Fe=[],je=0;je<h.length;je++){var Ne=(ge=h[je]).unit,et=ge.dts-this._dtsBase,lt=(Me=et,!1),Ve=null,Xe=0;if(!(et<-.001)){if(this._audioMeta.codec!=="mp3"&&w!=null){var rt=et;if(this._audioNextDts&&(rt=this._audioNextDts),(f=et-rt)<=-3*w){g.a.w(this.TAG,"Dropping 1 audio frame (originalDts: ".concat(et," ms ,curRefDts: ").concat(rt," ms)  due to dtsCorrection: ").concat(f," ms overlap."));continue}if(f>=3*w&&this._fillAudioTimestampGap&&!y.a.safari){lt=!0;var Rt,vt=Math.floor(f/w);g.a.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
`+"originalDts: ".concat(et," ms, curRefDts: ").concat(rt," ms, ")+"dtsCorrection: ".concat(Math.round(f)," ms, generate: ").concat(vt," frames")),Me=Math.floor(rt),Xe=Math.floor(rt+w)-Me,(Rt=kt.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount))==null&&(g.a.w(this.TAG,"Unable to generate silent frame for "+"".concat(this._audioMeta.originalCodec," with ").concat(this._audioMeta.channelCount," channels, repeat last frame")),Rt=Ne),Ve=[];for(var wt=0;wt<vt;wt++){rt+=w;var Kt=Math.floor(rt),Nt=Math.floor(rt+w)-Kt,St={dts:Kt,pts:Kt,cts:0,unit:Rt,size:Rt.byteLength,duration:Nt,originalDts:et,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};Ve.push(St),de+=St.size}this._audioNextDts=rt+w}else Me=Math.floor(rt),Xe=Math.floor(rt+w)-Me,this._audioNextDts=rt+w}else Me=et-f,je!==h.length-1?Xe=h[je+1].dts-this._dtsBase-f-Me:Re!=null?Xe=Re.dts-this._dtsBase-f-Me:Xe=Fe.length>=1?Fe[Fe.length-1].duration:Math.floor(w),this._audioNextDts=Me+Xe;p===-1&&(p=Me),Fe.push({dts:Me,pts:Me,cts:0,unit:ge.unit,size:ge.unit.byteLength,duration:Xe,originalDts:et,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),lt&&Fe.push.apply(Fe,Ve)}}if(Fe.length===0)return d.samples=[],void(d.length=0);for(O?Z=new Uint8Array(de):((Z=new Uint8Array(de))[0]=de>>>24&255,Z[1]=de>>>16&255,Z[2]=de>>>8&255,Z[3]=255&de,Z.set($t.types.mdat,4)),je=0;je<Fe.length;je++)Ne=Fe[je].unit,Z.set(Ne,Y),Y+=Ne.byteLength;var It=Fe[Fe.length-1];r=It.dts+It.duration;var nt=new yt.b;nt.beginDts=p,nt.endDts=r,nt.beginPts=p,nt.endPts=r,nt.originalBeginDts=Fe[0].originalDts,nt.originalEndDts=It.originalDts+It.duration,nt.firstSample=new yt.d(Fe[0].dts,Fe[0].pts,Fe[0].duration,Fe[0].originalDts,!1),nt.lastSample=new yt.d(It.dts,It.pts,It.duration,It.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(nt),d.samples=Fe,d.sequenceNumber++;var Xt=null;Xt=O?new Uint8Array:$t.moof(d,p),d.samples=[],d.length=0;var Aa={type:"audio",data:this._mergeBoxes(Xt,Z).buffer,sampleCount:Fe.length,info:nt};O&&U&&(Aa.timestampOffset=p),this._onMediaSegment("audio",Aa)}}},u.prototype._remuxVideo=function(l,s){if(this._videoMeta!=null){var r,d,h=l,f=h.samples,p=void 0,w=-1,O=-1;if(f&&f.length!==0&&(f.length!==1||s)){var U=8,F=null,Y=8+l.length,Z=null;if(f.length>1&&(Y-=(Z=f.pop()).length),this._videoStashedLastSample!=null){var de=this._videoStashedLastSample;this._videoStashedLastSample=null,f.unshift(de),Y+=de.length}Z!=null&&(this._videoStashedLastSample=Z);var Re=f[0].dts-this._dtsBase;if(this._videoNextDts)p=Re-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())p=0;else{var ge=this._videoSegmentInfoList.getLastSampleBefore(Re);if(ge!=null){var Oe=Re-(ge.originalDts+ge.duration);Oe<=3&&(Oe=0),p=Re-(ge.dts+ge.duration+Oe)}else p=0}for(var Ce=new yt.b,xe=[],ze=0;ze<f.length;ze++){var He=(de=f[ze]).dts-this._dtsBase,Me=de.isKeyframe,ke=He-p,Fe=de.cts,je=ke+Fe;w===-1&&(w=ke,O=je);var Ne=0;if(ze!==f.length-1?Ne=f[ze+1].dts-this._dtsBase-p-ke:Z!=null?Ne=Z.dts-this._dtsBase-p-ke:Ne=xe.length>=1?xe[xe.length-1].duration:Math.floor(this._videoMeta.refSampleDuration),Me){var et=new yt.d(ke,je,Ne,de.dts,!0);et.fileposition=de.fileposition,Ce.appendSyncPoint(et)}xe.push({dts:ke,pts:je,cts:Fe,units:de.units,size:de.length,isKeyframe:Me,duration:Ne,originalDts:He,flags:{isLeading:0,dependsOn:Me?2:1,isDependedOn:Me?1:0,hasRedundancy:0,isNonSync:Me?0:1}})}for((F=new Uint8Array(Y))[0]=Y>>>24&255,F[1]=Y>>>16&255,F[2]=Y>>>8&255,F[3]=255&Y,F.set($t.types.mdat,4),ze=0;ze<xe.length;ze++)for(var lt=xe[ze].units;lt.length;){var Ve=lt.shift().data;F.set(Ve,U),U+=Ve.byteLength}var Xe=xe[xe.length-1];if(r=Xe.dts+Xe.duration,d=Xe.pts+Xe.duration,this._videoNextDts=r,Ce.beginDts=w,Ce.endDts=r,Ce.beginPts=O,Ce.endPts=d,Ce.originalBeginDts=xe[0].originalDts,Ce.originalEndDts=Xe.originalDts+Xe.duration,Ce.firstSample=new yt.d(xe[0].dts,xe[0].pts,xe[0].duration,xe[0].originalDts,xe[0].isKeyframe),Ce.lastSample=new yt.d(Xe.dts,Xe.pts,Xe.duration,Xe.originalDts,Xe.isKeyframe),this._isLive||this._videoSegmentInfoList.append(Ce),h.samples=xe,h.sequenceNumber++,this._forceFirstIDR){var rt=xe[0].flags;rt.dependsOn=2,rt.isNonSync=0}var Rt=$t.moof(h,w);h.samples=[],h.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(Rt,F).buffer,sampleCount:xe.length,info:Ce})}}},u.prototype._mergeBoxes=function(l,s){var r=new Uint8Array(l.byteLength+s.byteLength);return r.set(l,0),r.set(s,l.byteLength),r},u})(),ji=A(14),Mt=A(1),tl=(A(2),(function(){function u(l,s){this.TAG="TransmuxingController",this._emitter=new D.a,this._config=s,l.segments||(l.segments=[{duration:l.duration,filesize:l.filesize,url:l.url}]),typeof l.cors!="boolean"&&(l.cors=!0),typeof l.withCredentials!="boolean"&&(l.withCredentials=!1),this._mediaDataSource=l,this._currentSegmentIndex=0;var r=0;this._mediaDataSource.segments.forEach((function(d){d.timestampBase=r,r+=d.duration,d.cors=l.cors,d.withCredentials=l.withCredentials,s.referrerPolicy&&(d.referrerPolicy=s.referrerPolicy)})),isNaN(r)||this._mediaDataSource.duration===r||(this._mediaDataSource.duration=r),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return u.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},u.prototype.on=function(l,s){this._emitter.addListener(l,s)},u.prototype.off=function(l,s){this._emitter.removeListener(l,s)},u.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},u.prototype._loadSegment=function(l,s){this._currentSegmentIndex=l;var r=this._mediaDataSource.segments[l],d=this._ioctl=new ji.a(r,this._config,l);d.onError=this._onIOException.bind(this),d.onSeeked=this._onIOSeeked.bind(this),d.onComplete=this._onIOComplete.bind(this),d.onRedirect=this._onIORedirect.bind(this),d.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),s?this._demuxer.bindDataSource(this._ioctl):d.onDataArrival=this._onInitChunkArrival.bind(this),d.open(s)},u.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},u.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},u.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},u.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},u.prototype.seek=function(l){if(this._mediaInfo!=null&&this._mediaInfo.isSeekable()){var s=this._searchSegmentIndexContains(l);if(s===this._currentSegmentIndex){var r=this._mediaInfo.segments[s];if(r==null)this._pendingSeekTime=l;else{var d=r.getNearestKeyframe(l);this._remuxer.seek(d.milliseconds),this._ioctl.seek(d.fileposition),this._pendingResolveSeekPoint=d.milliseconds}}else{var h=this._mediaInfo.segments[s];h==null?(this._pendingSeekTime=l,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(s)):(d=h.getNearestKeyframe(l),this._internalAbort(),this._remuxer.seek(l),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[s].timestampBase,this._loadSegment(s,d.fileposition),this._pendingResolveSeekPoint=d.milliseconds,this._reportSegmentMediaInfo(s))}this._enableStatisticsReporter()}},u.prototype._searchSegmentIndexContains=function(l){for(var s=this._mediaDataSource.segments,r=s.length-1,d=0;d<s.length;d++)if(l<s[d].timestampBase){r=d-1;break}return r},u.prototype._onInitChunkArrival=function(l,s){var r=this,d=0;if(s>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,d=this._demuxer.parseChunks(l,s);else{var h=null;(h=B.probe(l)).match&&(this._setupFLVDemuxerRemuxer(h),d=this._demuxer.parseChunks(l,s)),h.match||h.needMoreData||(h=ni.probe(l)).match&&(this._setupTSDemuxerRemuxer(h),d=this._demuxer.parseChunks(l,s)),h.match||h.needMoreData||(h=null,g.a.e(this.TAG,"Non MPEG-TS/FLV, Unsupported media type!"),Promise.resolve().then((function(){r._internalAbort()})),this._emitter.emit(Mt.a.DEMUX_ERROR,Q.a.FORMAT_UNSUPPORTED,"Non MPEG-TS/FLV, Unsupported media type!"))}return d},u.prototype._setupFLVDemuxerRemuxer=function(l){this._demuxer=new B(l,this._config),this._remuxer||(this._remuxer=new za(this._config));var s=this._mediaDataSource;s.duration==null||isNaN(s.duration)||(this._demuxer.overridedDuration=s.duration),typeof s.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=s.hasAudio),typeof s.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=s.hasVideo),this._demuxer.timestampBase=s.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this)},u.prototype._setupTSDemuxerRemuxer=function(l){var s=this._demuxer=new ni(l,this._config);this._remuxer||(this._remuxer=new za(this._config)),s.onError=this._onDemuxException.bind(this),s.onMediaInfo=this._onMediaInfo.bind(this),s.onMetaDataArrived=this._onMetaDataArrived.bind(this),s.onTimedID3Metadata=this._onTimedID3Metadata.bind(this),s.onSynchronousKLVMetadata=this._onSynchronousKLVMetadata.bind(this),s.onAsynchronousKLVMetadata=this._onAsynchronousKLVMetadata.bind(this),s.onSMPTE2038Metadata=this._onSMPTE2038Metadata.bind(this),s.onSCTE35Metadata=this._onSCTE35Metadata.bind(this),s.onPESPrivateDataDescriptor=this._onPESPrivateDataDescriptor.bind(this),s.onPESPrivateData=this._onPESPrivateData.bind(this),this._remuxer.bindDataSource(this._demuxer),this._demuxer.bindDataSource(this._ioctl),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this)},u.prototype._onMediaInfo=function(l){var s=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},l),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,m.a.prototype));var r=Object.assign({},l);Object.setPrototypeOf(r,m.a.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=r,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then((function(){var d=s._pendingSeekTime;s._pendingSeekTime=null,s.seek(d)}))},u.prototype._onMetaDataArrived=function(l){this._emitter.emit(Mt.a.METADATA_ARRIVED,l)},u.prototype._onScriptDataArrived=function(l){this._emitter.emit(Mt.a.SCRIPTDATA_ARRIVED,l)},u.prototype._onTimedID3Metadata=function(l){var s=this._remuxer.getTimestampBase();s!=null&&(l.pts!=null&&(l.pts-=s),l.dts!=null&&(l.dts-=s),this._emitter.emit(Mt.a.TIMED_ID3_METADATA_ARRIVED,l))},u.prototype._onSynchronousKLVMetadata=function(l){var s=this._remuxer.getTimestampBase();s!=null&&(l.pts!=null&&(l.pts-=s),l.dts!=null&&(l.dts-=s),this._emitter.emit(Mt.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,l))},u.prototype._onAsynchronousKLVMetadata=function(l){this._emitter.emit(Mt.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,l)},u.prototype._onSMPTE2038Metadata=function(l){var s=this._remuxer.getTimestampBase();s!=null&&(l.pts!=null&&(l.pts-=s),l.dts!=null&&(l.dts-=s),l.nearest_pts!=null&&(l.nearest_pts-=s),this._emitter.emit(Mt.a.SMPTE2038_METADATA_ARRIVED,l))},u.prototype._onSCTE35Metadata=function(l){var s=this._remuxer.getTimestampBase();s!=null&&(l.pts!=null&&(l.pts-=s),l.nearest_pts!=null&&(l.nearest_pts-=s),this._emitter.emit(Mt.a.SCTE35_METADATA_ARRIVED,l))},u.prototype._onPESPrivateDataDescriptor=function(l){this._emitter.emit(Mt.a.PES_PRIVATE_DATA_DESCRIPTOR,l)},u.prototype._onPESPrivateData=function(l){var s=this._remuxer.getTimestampBase();s!=null&&(l.pts!=null&&(l.pts-=s),l.nearest_pts!=null&&(l.nearest_pts-=s),l.dts!=null&&(l.dts-=s),this._emitter.emit(Mt.a.PES_PRIVATE_DATA_ARRIVED,l))},u.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},u.prototype._onIOComplete=function(l){var s=l+1;s<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer&&this._remuxer.flushStashedSamples(),this._loadSegment(s)):(this._remuxer&&this._remuxer.flushStashedSamples(),this._emitter.emit(Mt.a.LOADING_COMPLETE),this._disableStatisticsReporter())},u.prototype._onIORedirect=function(l){var s=this._ioctl.extraData;this._mediaDataSource.segments[s].redirectedURL=l},u.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(Mt.a.RECOVERED_EARLY_EOF)},u.prototype._onIOException=function(l,s){g.a.e(this.TAG,"IOException: type = ".concat(l,", code = ").concat(s.code,", msg = ").concat(s.msg)),this._emitter.emit(Mt.a.IO_ERROR,l,s),this._disableStatisticsReporter()},u.prototype._onDemuxException=function(l,s){g.a.e(this.TAG,"DemuxException: type = ".concat(l,", info = ").concat(s)),this._emitter.emit(Mt.a.DEMUX_ERROR,l,s)},u.prototype._onRemuxerInitSegmentArrival=function(l,s){this._emitter.emit(Mt.a.INIT_SEGMENT,l,s)},u.prototype._onRemuxerMediaSegmentArrival=function(l,s){if(this._pendingSeekTime==null&&(this._emitter.emit(Mt.a.MEDIA_SEGMENT,l,s),this._pendingResolveSeekPoint!=null&&l==="video")){var r=s.info.syncPoints,d=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,y.a.safari&&r.length>0&&r[0].originalDts===d&&(d=r[0].pts),this._emitter.emit(Mt.a.RECOMMEND_SEEKPOINT,d)}},u.prototype._enableStatisticsReporter=function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},u.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},u.prototype._reportSegmentMediaInfo=function(l){var s=this._mediaInfo.segments[l],r=Object.assign({},s);r.duration=this._mediaInfo.duration,r.segmentCount=this._mediaInfo.segmentCount,delete r.segments,delete r.keyframesIndex,this._emitter.emit(Mt.a.MEDIA_INFO,r)},u.prototype._reportStatisticsInfo=function(){var l={};l.url=this._ioctl.currentURL,l.hasRedirect=this._ioctl.hasRedirect,l.hasRedirect&&(l.redirectedURL=this._ioctl.currentRedirectedURL),l.speed=this._ioctl.currentSpeed,l.loaderType=this._ioctl.loaderType,l.currentSegmentIndex=this._currentSegmentIndex,l.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(Mt.a.STATISTICS_INFO,l)},u})());b.a=tl},function(J,b,A){var P,D=A(0),g=(function(){function H(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return H.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},H.prototype.addBytes=function(x){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=x,this._totalBytes+=x):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=x,this._totalBytes+=x):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=x,this._totalBytes+=x,this._lastCheckpoint=this._now())},Object.defineProperty(H.prototype,"currentKBps",{get:function(){this.addBytes(0);var x=(this._now()-this._lastCheckpoint)/1e3;return x==0&&(x=1),this._intervalBytes/x/1024},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"averageKBps",{get:function(){var x=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/x/1024},enumerable:!1,configurable:!0}),H})(),y=A(2),m=A(5),S=A(3),M=(P=function(H,x){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,T){E.__proto__=T}||function(E,T){for(var B in T)Object.prototype.hasOwnProperty.call(T,B)&&(E[B]=T[B])})(H,x)},function(H,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function E(){this.constructor=H}P(H,x),H.prototype=x===null?Object.create(x):(E.prototype=x.prototype,new E)}),L=(function(H){function x(E,T){var B=H.call(this,"fetch-stream-loader")||this;return B.TAG="FetchStreamLoader",B._seekHandler=E,B._config=T,B._needStash=!0,B._requestAbort=!1,B._abortController=null,B._contentLength=null,B._receivedLength=0,B}return M(x,H),x.isSupported=function(){try{var E=m.a.msedge&&m.a.version.minor>=15048,T=!m.a.msedge||E;return self.fetch&&self.ReadableStream&&T}catch{return!1}},x.prototype.destroy=function(){this.isWorking()&&this.abort(),H.prototype.destroy.call(this)},x.prototype.open=function(E,T){var B=this;this._dataSource=E,this._range=T;var oe=E.url;this._config.reuseRedirectedURL&&E.redirectedURL!=null&&(oe=E.redirectedURL);var Te=this._seekHandler.getConfig(oe,T),ye=new self.Headers;if(typeof Te.headers=="object"){var be=Te.headers;for(var k in be)be.hasOwnProperty(k)&&ye.append(k,be[k])}var he={method:"GET",headers:ye,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(typeof this._config.headers=="object")for(var k in this._config.headers)ye.append(k,this._config.headers[k]);E.cors===!1&&(he.mode="same-origin"),E.withCredentials&&(he.credentials="include"),E.referrerPolicy&&(he.referrerPolicy=E.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,he.signal=this._abortController.signal),this._status=y.c.kConnecting,self.fetch(Te.url,he).then((function(le){if(B._requestAbort)return B._status=y.c.kIdle,void le.body.cancel();if(le.ok&&le.status>=200&&le.status<=299){if(le.url!==Te.url&&B._onURLRedirect){var N=B._seekHandler.removeURLParameters(le.url);B._onURLRedirect(N)}var c=le.headers.get("Content-Length");return c!=null&&(B._contentLength=parseInt(c),B._contentLength!==0&&B._onContentLengthKnown&&B._onContentLengthKnown(B._contentLength)),B._pump.call(B,le.body.getReader())}if(B._status=y.c.kError,!B._onError)throw new S.d("FetchStreamLoader: Http code invalid, "+le.status+" "+le.statusText);B._onError(y.b.HTTP_STATUS_CODE_INVALID,{code:le.status,msg:le.statusText})})).catch((function(le){if(!B._abortController||!B._abortController.signal.aborted){if(B._status=y.c.kError,!B._onError)throw le;B._onError(y.b.EXCEPTION,{code:-1,msg:le.message})}}))},x.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==y.c.kBuffering||!m.a.chrome)&&this._abortController)try{this._abortController.abort()}catch{}},x.prototype._pump=function(E){var T=this;return E.read().then((function(B){if(B.done)if(T._contentLength!==null&&T._receivedLength<T._contentLength){T._status=y.c.kError;var oe=y.b.EARLY_EOF,Te={code:-1,msg:"Fetch stream meet Early-EOF"};if(!T._onError)throw new S.d(Te.msg);T._onError(oe,Te)}else T._status=y.c.kComplete,T._onComplete&&T._onComplete(T._range.from,T._range.from+T._receivedLength-1);else{if(T._abortController&&T._abortController.signal.aborted)return void(T._status=y.c.kComplete);if(T._requestAbort===!0)return T._status=y.c.kComplete,E.cancel();T._status=y.c.kBuffering;var ye=B.value.buffer,be=T._range.from+T._receivedLength;T._receivedLength+=ye.byteLength,T._onDataArrival&&T._onDataArrival(ye,be,T._receivedLength),T._pump(E)}})).catch((function(B){if(T._abortController&&T._abortController.signal.aborted)T._status=y.c.kComplete;else if(B.code!==11||!m.a.msedge){T._status=y.c.kError;var oe=0,Te=null;if(B.code!==19&&B.message!=="network error"||!(T._contentLength===null||T._contentLength!==null&&T._receivedLength<T._contentLength)?(oe=y.b.EXCEPTION,Te={code:B.code,msg:B.message}):(oe=y.b.EARLY_EOF,Te={code:B.code,msg:"Fetch stream meet Early-EOF"}),!T._onError)throw new S.d(Te.msg);T._onError(oe,Te)}}))},x})(y.a),C=(function(){var H=function(x,E){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,B){T.__proto__=B}||function(T,B){for(var oe in B)Object.prototype.hasOwnProperty.call(B,oe)&&(T[oe]=B[oe])})(x,E)};return function(x,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function T(){this.constructor=x}H(x,E),x.prototype=E===null?Object.create(E):(T.prototype=E.prototype,new T)}})(),z=(function(H){function x(E,T){var B=H.call(this,"xhr-moz-chunked-loader")||this;return B.TAG="MozChunkedLoader",B._seekHandler=E,B._config=T,B._needStash=!0,B._xhr=null,B._requestAbort=!1,B._contentLength=null,B._receivedLength=0,B}return C(x,H),x.isSupported=function(){try{var E=new XMLHttpRequest;return E.open("GET","https://example.com",!0),E.responseType="moz-chunked-arraybuffer",E.responseType==="moz-chunked-arraybuffer"}catch(T){return D.a.w("MozChunkedLoader",T.message),!1}},x.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),H.prototype.destroy.call(this)},x.prototype.open=function(E,T){this._dataSource=E,this._range=T;var B=E.url;this._config.reuseRedirectedURL&&E.redirectedURL!=null&&(B=E.redirectedURL);var oe=this._seekHandler.getConfig(B,T);this._requestURL=oe.url;var Te=this._xhr=new XMLHttpRequest;if(Te.open("GET",oe.url,!0),Te.responseType="moz-chunked-arraybuffer",Te.onreadystatechange=this._onReadyStateChange.bind(this),Te.onprogress=this._onProgress.bind(this),Te.onloadend=this._onLoadEnd.bind(this),Te.onerror=this._onXhrError.bind(this),E.withCredentials&&(Te.withCredentials=!0),typeof oe.headers=="object"){var ye=oe.headers;for(var be in ye)ye.hasOwnProperty(be)&&Te.setRequestHeader(be,ye[be])}if(typeof this._config.headers=="object"){ye=this._config.headers;for(var be in ye)ye.hasOwnProperty(be)&&Te.setRequestHeader(be,ye[be])}this._status=y.c.kConnecting,Te.send()},x.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=y.c.kComplete},x.prototype._onReadyStateChange=function(E){var T=E.target;if(T.readyState===2){if(T.responseURL!=null&&T.responseURL!==this._requestURL&&this._onURLRedirect){var B=this._seekHandler.removeURLParameters(T.responseURL);this._onURLRedirect(B)}if(T.status!==0&&(T.status<200||T.status>299)){if(this._status=y.c.kError,!this._onError)throw new S.d("MozChunkedLoader: Http code invalid, "+T.status+" "+T.statusText);this._onError(y.b.HTTP_STATUS_CODE_INVALID,{code:T.status,msg:T.statusText})}else this._status=y.c.kBuffering}},x.prototype._onProgress=function(E){if(this._status!==y.c.kError){this._contentLength===null&&E.total!==null&&E.total!==0&&(this._contentLength=E.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var T=E.target.response,B=this._range.from+this._receivedLength;this._receivedLength+=T.byteLength,this._onDataArrival&&this._onDataArrival(T,B,this._receivedLength)}},x.prototype._onLoadEnd=function(E){this._requestAbort!==!0?this._status!==y.c.kError&&(this._status=y.c.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1},x.prototype._onXhrError=function(E){this._status=y.c.kError;var T=0,B=null;if(this._contentLength&&E.loaded<this._contentLength?(T=y.b.EARLY_EOF,B={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(T=y.b.EXCEPTION,B={code:-1,msg:E.constructor.name+" "+E.type}),!this._onError)throw new S.d(B.msg);this._onError(T,B)},x})(y.a),V=(function(){var H=function(x,E){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,B){T.__proto__=B}||function(T,B){for(var oe in B)Object.prototype.hasOwnProperty.call(B,oe)&&(T[oe]=B[oe])})(x,E)};return function(x,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function T(){this.constructor=x}H(x,E),x.prototype=E===null?Object.create(E):(T.prototype=E.prototype,new T)}})(),K=((function(H){function x(E,T){var B=H.call(this,"xhr-msstream-loader")||this;return B.TAG="MSStreamLoader",B._seekHandler=E,B._config=T,B._needStash=!0,B._xhr=null,B._reader=null,B._totalRange=null,B._currentRange=null,B._currentRequestURL=null,B._currentRedirectedURL=null,B._contentLength=null,B._receivedLength=0,B._bufferLimit=16777216,B._lastTimeBufferSize=0,B._isReconnecting=!1,B}V(x,H),x.isSupported=function(){try{if(self.MSStream===void 0||self.MSStreamReader===void 0)return!1;var E=new XMLHttpRequest;return E.open("GET","https://example.com",!0),E.responseType="ms-stream",E.responseType==="ms-stream"}catch(T){return D.a.w("MSStreamLoader",T.message),!1}},x.prototype.destroy=function(){this.isWorking()&&this.abort(),this._reader&&(this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr=null),H.prototype.destroy.call(this)},x.prototype.open=function(E,T){this._internalOpen(E,T,!1)},x.prototype._internalOpen=function(E,T,B){this._dataSource=E,B?this._currentRange=T:this._totalRange=T;var oe=E.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?oe=this._currentRedirectedURL:E.redirectedURL!=null&&(oe=E.redirectedURL));var Te=this._seekHandler.getConfig(oe,T);this._currentRequestURL=Te.url;var ye=this._reader=new self.MSStreamReader;ye.onprogress=this._msrOnProgress.bind(this),ye.onload=this._msrOnLoad.bind(this),ye.onerror=this._msrOnError.bind(this);var be=this._xhr=new XMLHttpRequest;if(be.open("GET",Te.url,!0),be.responseType="ms-stream",be.onreadystatechange=this._xhrOnReadyStateChange.bind(this),be.onerror=this._xhrOnError.bind(this),E.withCredentials&&(be.withCredentials=!0),typeof Te.headers=="object"){var k=Te.headers;for(var he in k)k.hasOwnProperty(he)&&be.setRequestHeader(he,k[he])}if(typeof this._config.headers=="object"){k=this._config.headers;for(var he in k)k.hasOwnProperty(he)&&be.setRequestHeader(he,k[he])}this._isReconnecting?this._isReconnecting=!1:this._status=y.c.kConnecting,be.send()},x.prototype.abort=function(){this._internalAbort(),this._status=y.c.kComplete},x.prototype._internalAbort=function(){this._reader&&(this._reader.readyState===1&&this._reader.abort(),this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.abort(),this._xhr.onreadystatechange=null,this._xhr=null)},x.prototype._xhrOnReadyStateChange=function(E){var T=E.target;if(T.readyState===2)if(T.status>=200&&T.status<=299){if(this._status=y.c.kBuffering,T.responseURL!=null){var B=this._seekHandler.removeURLParameters(T.responseURL);T.responseURL!==this._currentRequestURL&&B!==this._currentRedirectedURL&&(this._currentRedirectedURL=B,this._onURLRedirect&&this._onURLRedirect(B))}var oe=T.getResponseHeader("Content-Length");if(oe!=null&&this._contentLength==null){var Te=parseInt(oe);Te>0&&(this._contentLength=Te,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength))}}else{if(this._status=y.c.kError,!this._onError)throw new S.d("MSStreamLoader: Http code invalid, "+T.status+" "+T.statusText);this._onError(y.b.HTTP_STATUS_CODE_INVALID,{code:T.status,msg:T.statusText})}else if(T.readyState===3&&T.status>=200&&T.status<=299){this._status=y.c.kBuffering;var ye=T.response;this._reader.readAsArrayBuffer(ye)}},x.prototype._xhrOnError=function(E){this._status=y.c.kError;var T=y.b.EXCEPTION,B={code:-1,msg:E.constructor.name+" "+E.type};if(!this._onError)throw new S.d(B.msg);this._onError(T,B)},x.prototype._msrOnProgress=function(E){var T=E.target.result;if(T!=null){var B=T.slice(this._lastTimeBufferSize);this._lastTimeBufferSize=T.byteLength;var oe=this._totalRange.from+this._receivedLength;this._receivedLength+=B.byteLength,this._onDataArrival&&this._onDataArrival(B,oe,this._receivedLength),T.byteLength>=this._bufferLimit&&(D.a.v(this.TAG,"MSStream buffer exceeded max size near ".concat(oe+B.byteLength,", reconnecting...")),this._doReconnectIfNeeded())}else this._doReconnectIfNeeded()},x.prototype._doReconnectIfNeeded=function(){if(this._contentLength==null||this._receivedLength<this._contentLength){this._isReconnecting=!0,this._lastTimeBufferSize=0,this._internalAbort();var E={from:this._totalRange.from+this._receivedLength,to:-1};this._internalOpen(this._dataSource,E,!0)}},x.prototype._msrOnLoad=function(E){this._status=y.c.kComplete,this._onComplete&&this._onComplete(this._totalRange.from,this._totalRange.from+this._receivedLength-1)},x.prototype._msrOnError=function(E){this._status=y.c.kError;var T=0,B=null;if(this._contentLength&&this._receivedLength<this._contentLength?(T=y.b.EARLY_EOF,B={code:-1,msg:"MSStream meet Early-Eof"}):(T=y.b.EARLY_EOF,B={code:-1,msg:E.constructor.name+" "+E.type}),!this._onError)throw new S.d(B.msg);this._onError(T,B)}})(y.a),(function(){var H=function(x,E){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,B){T.__proto__=B}||function(T,B){for(var oe in B)Object.prototype.hasOwnProperty.call(B,oe)&&(T[oe]=B[oe])})(x,E)};return function(x,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function T(){this.constructor=x}H(x,E),x.prototype=E===null?Object.create(E):(T.prototype=E.prototype,new T)}})()),W=(function(H){function x(E,T){var B=H.call(this,"xhr-range-loader")||this;return B.TAG="RangeLoader",B._seekHandler=E,B._config=T,B._needStash=!1,B._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],B._currentChunkSizeKB=384,B._currentSpeedNormalized=0,B._zeroSpeedChunkCount=0,B._xhr=null,B._speedSampler=new g,B._requestAbort=!1,B._waitForTotalLength=!1,B._totalLengthReceived=!1,B._currentRequestURL=null,B._currentRedirectedURL=null,B._currentRequestRange=null,B._totalLength=null,B._contentLength=null,B._receivedLength=0,B._lastTimeLoaded=0,B}return K(x,H),x.isSupported=function(){try{var E=new XMLHttpRequest;return E.open("GET","https://example.com",!0),E.responseType="arraybuffer",E.responseType==="arraybuffer"}catch(T){return D.a.w("RangeLoader",T.message),!1}},x.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),H.prototype.destroy.call(this)},Object.defineProperty(x.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),x.prototype.open=function(E,T){this._dataSource=E,this._range=T,this._status=y.c.kConnecting;var B=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(B=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||B?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))},x.prototype._openSubRange=function(){var E=1024*this._currentChunkSizeKB,T=this._range.from+this._receivedLength,B=T+E;this._contentLength!=null&&B-this._range.from>=this._contentLength&&(B=this._range.from+this._contentLength-1),this._currentRequestRange={from:T,to:B},this._internalOpen(this._dataSource,this._currentRequestRange)},x.prototype._internalOpen=function(E,T){this._lastTimeLoaded=0;var B=E.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?B=this._currentRedirectedURL:E.redirectedURL!=null&&(B=E.redirectedURL));var oe=this._seekHandler.getConfig(B,T);this._currentRequestURL=oe.url;var Te=this._xhr=new XMLHttpRequest;if(Te.open("GET",oe.url,!0),Te.responseType="arraybuffer",Te.onreadystatechange=this._onReadyStateChange.bind(this),Te.onprogress=this._onProgress.bind(this),Te.onload=this._onLoad.bind(this),Te.onerror=this._onXhrError.bind(this),E.withCredentials&&(Te.withCredentials=!0),typeof oe.headers=="object"){var ye=oe.headers;for(var be in ye)ye.hasOwnProperty(be)&&Te.setRequestHeader(be,ye[be])}if(typeof this._config.headers=="object"){ye=this._config.headers;for(var be in ye)ye.hasOwnProperty(be)&&Te.setRequestHeader(be,ye[be])}Te.send()},x.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=y.c.kComplete},x.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},x.prototype._onReadyStateChange=function(E){var T=E.target;if(T.readyState===2){if(T.responseURL!=null){var B=this._seekHandler.removeURLParameters(T.responseURL);T.responseURL!==this._currentRequestURL&&B!==this._currentRedirectedURL&&(this._currentRedirectedURL=B,this._onURLRedirect&&this._onURLRedirect(B))}if(T.status>=200&&T.status<=299){if(this._waitForTotalLength)return;this._status=y.c.kBuffering}else{if(this._status=y.c.kError,!this._onError)throw new S.d("RangeLoader: Http code invalid, "+T.status+" "+T.statusText);this._onError(y.b.HTTP_STATUS_CODE_INVALID,{code:T.status,msg:T.statusText})}}},x.prototype._onProgress=function(E){if(this._status!==y.c.kError){if(this._contentLength===null){var T=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,T=!0;var B=E.total;this._internalAbort(),B!=null&B!==0&&(this._totalLength=B)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,T)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var oe=E.loaded-this._lastTimeLoaded;this._lastTimeLoaded=E.loaded,this._speedSampler.addBytes(oe)}},x.prototype._normalizeSpeed=function(E){var T=this._chunkSizeKBList,B=T.length-1,oe=0,Te=0,ye=B;if(E<T[0])return T[0];for(;Te<=ye;){if((oe=Te+Math.floor((ye-Te)/2))===B||E>=T[oe]&&E<T[oe+1])return T[oe];T[oe]<E?Te=oe+1:ye=oe-1}},x.prototype._onLoad=function(E){if(this._status!==y.c.kError)if(this._waitForTotalLength)this._waitForTotalLength=!1;else{this._lastTimeLoaded=0;var T=this._speedSampler.lastSecondKBps;if(T===0&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(T=this._speedSampler.currentKBps)),T!==0){var B=this._normalizeSpeed(T);this._currentSpeedNormalized!==B&&(this._currentSpeedNormalized=B,this._currentChunkSizeKB=B)}var oe=E.target.response,Te=this._range.from+this._receivedLength;this._receivedLength+=oe.byteLength;var ye=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():ye=!0,this._onDataArrival&&this._onDataArrival(oe,Te,this._receivedLength),ye&&(this._status=y.c.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},x.prototype._onXhrError=function(E){this._status=y.c.kError;var T=0,B=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(T=y.b.EARLY_EOF,B={code:-1,msg:"RangeLoader meet Early-Eof"}):(T=y.b.EXCEPTION,B={code:-1,msg:E.constructor.name+" "+E.type}),!this._onError)throw new S.d(B.msg);this._onError(T,B)},x})(y.a),Q=(function(){var H=function(x,E){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,B){T.__proto__=B}||function(T,B){for(var oe in B)Object.prototype.hasOwnProperty.call(B,oe)&&(T[oe]=B[oe])})(x,E)};return function(x,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function T(){this.constructor=x}H(x,E),x.prototype=E===null?Object.create(E):(T.prototype=E.prototype,new T)}})(),ce=(function(H){function x(){var E=H.call(this,"websocket-loader")||this;return E.TAG="WebSocketLoader",E._needStash=!0,E._ws=null,E._requestAbort=!1,E._receivedLength=0,E}return Q(x,H),x.isSupported=function(){try{return self.WebSocket!==void 0}catch{return!1}},x.prototype.destroy=function(){this._ws&&this.abort(),H.prototype.destroy.call(this)},x.prototype.open=function(E){try{var T=this._ws=new self.WebSocket(E.url);T.binaryType="arraybuffer",T.onopen=this._onWebSocketOpen.bind(this),T.onclose=this._onWebSocketClose.bind(this),T.onmessage=this._onWebSocketMessage.bind(this),T.onerror=this._onWebSocketError.bind(this),this._status=y.c.kConnecting}catch(oe){this._status=y.c.kError;var B={code:oe.code,msg:oe.message};if(!this._onError)throw new S.d(B.msg);this._onError(y.b.EXCEPTION,B)}},x.prototype.abort=function(){var E=this._ws;!E||E.readyState!==0&&E.readyState!==1||(this._requestAbort=!0,E.close()),this._ws=null,this._status=y.c.kComplete},x.prototype._onWebSocketOpen=function(E){this._status=y.c.kBuffering},x.prototype._onWebSocketClose=function(E){this._requestAbort!==!0?(this._status=y.c.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1},x.prototype._onWebSocketMessage=function(E){var T=this;if(E.data instanceof ArrayBuffer)this._dispatchArrayBuffer(E.data);else if(E.data instanceof Blob){var B=new FileReader;B.onload=function(){T._dispatchArrayBuffer(B.result)},B.readAsArrayBuffer(E.data)}else{this._status=y.c.kError;var oe={code:-1,msg:"Unsupported WebSocket message type: "+E.data.constructor.name};if(!this._onError)throw new S.d(oe.msg);this._onError(y.b.EXCEPTION,oe)}},x.prototype._dispatchArrayBuffer=function(E){var T=E,B=this._receivedLength;this._receivedLength+=T.byteLength,this._onDataArrival&&this._onDataArrival(T,B,this._receivedLength)},x.prototype._onWebSocketError=function(E){this._status=y.c.kError;var T={code:E.code,msg:E.message};if(!this._onError)throw new S.d(T.msg);this._onError(y.b.EXCEPTION,T)},x})(y.a),I=(function(){function H(x){this._zeroStart=x||!1}return H.prototype.getConfig=function(x,E){var T={};if(E.from!==0||E.to!==-1){var B=void 0;B=E.to!==-1?"bytes=".concat(E.from.toString(),"-").concat(E.to.toString()):"bytes=".concat(E.from.toString(),"-"),T.Range=B}else this._zeroStart&&(T.Range="bytes=0-");return{url:x,headers:T}},H.prototype.removeURLParameters=function(x){return x},H})(),$=(function(){function H(x,E){this._startName=x,this._endName=E}return H.prototype.getConfig=function(x,E){var T=x;if(E.from!==0||E.to!==-1){var B=!0;T.indexOf("?")===-1&&(T+="?",B=!1),B&&(T+="&"),T+="".concat(this._startName,"=").concat(E.from.toString()),E.to!==-1&&(T+="&".concat(this._endName,"=").concat(E.to.toString()))}return{url:T,headers:{}}},H.prototype.removeURLParameters=function(x){var E=x.split("?")[0],T=void 0,B=x.indexOf("?");B!==-1&&(T=x.substring(B+1));var oe="";if(T!=null&&T.length>0)for(var Te=T.split("&"),ye=0;ye<Te.length;ye++){var be=Te[ye].split("="),k=ye>0;be[0]!==this._startName&&be[0]!==this._endName&&(k&&(oe+="&"),oe+=Te[ye])}return oe.length===0?E:E+"?"+oe},H})(),re=(function(){function H(x,E,T){this.TAG="IOController",this._config=E,this._extraData=T,this._stashInitialSize=65536,E.stashInitialSize!=null&&E.stashInitialSize>0&&(this._stashInitialSize=E.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=Math.max(this._stashSize,3145728),this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,E.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=x,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(x.url),this._refTotalLength=x.filesize?x.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new g,this._speedNormalizeList=[32,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return H.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},H.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},H.prototype.isPaused=function(){return this._paused},Object.defineProperty(H.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"extraData",{get:function(){return this._extraData},set:function(x){this._extraData=x},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(x){this._onDataArrival=x},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(x){this._onSeeked=x},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"onError",{get:function(){return this._onError},set:function(x){this._onError=x},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"onComplete",{get:function(){return this._onComplete},set:function(x){this._onComplete=x},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(x){this._onRedirect=x},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(x){this._onRecoveredEarlyEof=x},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"hasRedirect",{get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"currentSpeed",{get:function(){return this._loaderClass===W?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),H.prototype._selectSeekHandler=function(){var x=this._config;if(x.seekType==="range")this._seekHandler=new I(this._config.rangeLoadZeroStart);else if(x.seekType==="param"){var E=x.seekParamStart||"bstart",T=x.seekParamEnd||"bend";this._seekHandler=new $(E,T)}else{if(x.seekType!=="custom")throw new S.b("Invalid seekType in config: ".concat(x.seekType));if(typeof x.customSeekHandler!="function")throw new S.b("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new x.customSeekHandler}},H.prototype._selectLoader=function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=ce;else if(L.isSupported())this._loaderClass=L;else if(z.isSupported())this._loaderClass=z;else{if(!W.isSupported())throw new S.d("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=W}},H.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},H.prototype.open=function(x){this._currentRange={from:0,to:-1},x&&(this._currentRange.from=x),this._speedSampler.reset(),x||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},H.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},H.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},H.prototype.resume=function(){if(this._paused){this._paused=!1;var x=this._resumeFrom;this._resumeFrom=0,this._internalSeek(x,!0)}},H.prototype.seek=function(x){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(x,!0)},H.prototype._internalSeek=function(x,E){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(E),this._loader.destroy(),this._loader=null;var T={from:x,to:-1};this._currentRange={from:T.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,T),this._onSeeked&&this._onSeeked()},H.prototype.updateUrl=function(x){if(!x||typeof x!="string"||x.length===0)throw new S.b("Url must be a non-empty string!");this._dataSource.url=x},H.prototype._expandBuffer=function(x){for(var E=this._stashSize;E+1048576<x;)E*=2;if((E+=1048576)!==this._bufferSize){var T=new ArrayBuffer(E);if(this._stashUsed>0){var B=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(T,0,E).set(B,0)}this._stashBuffer=T,this._bufferSize=E}},H.prototype._normalizeSpeed=function(x){var E=this._speedNormalizeList,T=E.length-1,B=0,oe=0,Te=T;if(x<E[0])return E[0];for(;oe<=Te;){if((B=oe+Math.floor((Te-oe)/2))===T||x>=E[B]&&x<E[B+1])return E[B];E[B]<x?oe=B+1:Te=B-1}},H.prototype._adjustStashSize=function(x){var E=0;(E=this._config.isLive?x/8:x<512?x:x>=512&&x<=1024?Math.floor(1.5*x):2*x)>8192&&(E=8192);var T=1024*E+1048576;this._bufferSize<T&&this._expandBuffer(T),this._stashSize=1024*E},H.prototype._dispatchChunks=function(x,E){return this._currentRange.to=E+x.byteLength-1,this._onDataArrival(x,E)},H.prototype._onURLRedirect=function(x){this._redirectedURL=x,this._onRedirect&&this._onRedirect(x)},H.prototype._onContentLengthKnown=function(x){x&&this._fullRequestFlag&&(this._totalLength=x,this._fullRequestFlag=!1)},H.prototype._onLoaderChunkArrival=function(x,E,T){if(!this._onDataArrival)throw new S.a("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(x.byteLength);var B=this._speedSampler.lastSecondKBps;if(B!==0){var oe=this._normalizeSpeed(B);this._speedNormalized!==oe&&(this._speedNormalized=oe,this._adjustStashSize(oe))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=E),this._stashUsed+x.byteLength<=this._stashSize)(be=new Uint8Array(this._stashBuffer,0,this._stashSize)).set(new Uint8Array(x),this._stashUsed),this._stashUsed+=x.byteLength;else if(be=new Uint8Array(this._stashBuffer,0,this._bufferSize),this._stashUsed>0){var Te=this._stashBuffer.slice(0,this._stashUsed);(k=this._dispatchChunks(Te,this._stashByteStart))<Te.byteLength?k>0&&(he=new Uint8Array(Te,k),be.set(he,0),this._stashUsed=he.byteLength,this._stashByteStart+=k):(this._stashUsed=0,this._stashByteStart+=k),this._stashUsed+x.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+x.byteLength),be=new Uint8Array(this._stashBuffer,0,this._bufferSize)),be.set(new Uint8Array(x),this._stashUsed),this._stashUsed+=x.byteLength}else(k=this._dispatchChunks(x,E))<x.byteLength&&((ye=x.byteLength-k)>this._bufferSize&&(this._expandBuffer(ye),be=new Uint8Array(this._stashBuffer,0,this._bufferSize)),be.set(new Uint8Array(x,k),0),this._stashUsed+=ye,this._stashByteStart=E+k);else if(this._stashUsed===0){var ye;(k=this._dispatchChunks(x,E))<x.byteLength&&((ye=x.byteLength-k)>this._bufferSize&&this._expandBuffer(ye),(be=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(x,k),0),this._stashUsed+=ye,this._stashByteStart=E+k)}else{var be,k;if(this._stashUsed+x.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+x.byteLength),(be=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(x),this._stashUsed),this._stashUsed+=x.byteLength,(k=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart))<this._stashUsed&&k>0){var he=new Uint8Array(this._stashBuffer,k);be.set(he,0)}this._stashUsed-=k,this._stashByteStart+=k}}},H.prototype._flushStashBuffer=function(x){if(this._stashUsed>0){var E=this._stashBuffer.slice(0,this._stashUsed),T=this._dispatchChunks(E,this._stashByteStart),B=E.byteLength-T;if(T<E.byteLength){if(!x){if(T>0){var oe=new Uint8Array(this._stashBuffer,0,this._bufferSize),Te=new Uint8Array(E,T);oe.set(Te,0),this._stashUsed=Te.byteLength,this._stashByteStart+=T}return 0}D.a.w(this.TAG,"".concat(B," bytes unconsumed data remain when flush buffer, dropped"))}return this._stashUsed=0,this._stashByteStart=0,B}return 0},H.prototype._onLoaderComplete=function(x,E){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},H.prototype._onLoaderError=function(x,E){switch(D.a.e(this.TAG,"Loader error, code = ".concat(E.code,", msg = ").concat(E.msg)),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,x=y.b.UNRECOVERABLE_EARLY_EOF),x){case y.b.EARLY_EOF:if(!this._config.isLive&&this._totalLength){var T=this._currentRange.to+1;return void(T<this._totalLength&&(D.a.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(T,!1)))}x=y.b.UNRECOVERABLE_EARLY_EOF;break;case y.b.UNRECOVERABLE_EARLY_EOF:case y.b.CONNECTING_TIMEOUT:case y.b.HTTP_STATUS_CODE_INVALID:case y.b.EXCEPTION:}if(!this._onError)throw new S.d("IOException: "+E.msg);this._onError(x,E)},H})();b.a=re},function(J,b,A){var P=(function(){function D(){}return D.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(g,y){return g.__proto__=y,g},Object.assign=Object.assign||function(g){if(g==null)throw new TypeError("Cannot convert undefined or null to object");for(var y=Object(g),m=1;m<arguments.length;m++){var S=arguments[m];if(S!=null)for(var M in S)S.hasOwnProperty(M)&&(y[M]=S[M])}return y},String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(g,y){var m=y>0?0|y:0;return this.substring(m,m+g.length)===g}}),typeof self.Promise!="function"&&A(21).polyfill()},D})();P.install(),b.a=P},function(J,b,A){var P=A(9),D=A.n(P),g=A(0),y=A(5),m=A(7),S=A(3),M=(function(){function L(C){this.TAG="MSEController",this._config=C,this._emitter=new D.a,this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onStartStreaming:this._onStartStreaming.bind(this),onEndStreaming:this._onEndStreaming.bind(this),onQualityChange:this._onQualityChange.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._useManagedMediaSource="ManagedMediaSource"in self&&!("MediaSource"in self),this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElementProxy=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]}}return L.prototype.destroy=function(){this._mediaSource&&this.shutdown(),this._mediaSourceObjectURL&&this.revokeObjectURL(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},L.prototype.on=function(C,z){this._emitter.addListener(C,z)},L.prototype.off=function(C,z){this._emitter.removeListener(C,z)},L.prototype.initialize=function(C){if(this._mediaSource)throw new S.a("MediaSource has been attached to an HTMLMediaElement!");this._useManagedMediaSource&&g.a.v(this.TAG,"Using ManagedMediaSource");var z=this._mediaSource=this._useManagedMediaSource?new self.ManagedMediaSource:new self.MediaSource;z.addEventListener("sourceopen",this.e.onSourceOpen),z.addEventListener("sourceended",this.e.onSourceEnded),z.addEventListener("sourceclose",this.e.onSourceClose),this._useManagedMediaSource&&(z.addEventListener("startstreaming",this.e.onStartStreaming),z.addEventListener("endstreaming",this.e.onEndStreaming),z.addEventListener("qualitychange",this.e.onQualityChange)),this._mediaElementProxy=C},L.prototype.shutdown=function(){if(this._mediaSource){var C=this._mediaSource;for(var z in this._sourceBuffers){var V=this._pendingSegments[z];V.splice(0,V.length),this._pendingSegments[z]=null,this._pendingRemoveRanges[z]=null,this._lastInitSegments[z]=null;var K=this._sourceBuffers[z];if(K){if(C.readyState!=="closed"){try{C.removeSourceBuffer(K)}catch(W){g.a.e(this.TAG,W.message)}K.removeEventListener("error",this.e.onSourceBufferError),K.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[z]=null,this._sourceBuffers[z]=null}}if(C.readyState==="open")try{C.endOfStream()}catch(W){g.a.e(this.TAG,W.message)}this._mediaElementProxy=null,C.removeEventListener("sourceopen",this.e.onSourceOpen),C.removeEventListener("sourceended",this.e.onSourceEnded),C.removeEventListener("sourceclose",this.e.onSourceClose),this._useManagedMediaSource&&(C.removeEventListener("startstreaming",this.e.onStartStreaming),C.removeEventListener("endstreaming",this.e.onEndStreaming),C.removeEventListener("qualitychange",this.e.onQualityChange)),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._mediaSource=null}},L.prototype.isManagedMediaSource=function(){return this._useManagedMediaSource},L.prototype.getObject=function(){if(!this._mediaSource)throw new S.a("MediaSource has not been initialized yet!");return this._mediaSource},L.prototype.getHandle=function(){if(!this._mediaSource)throw new S.a("MediaSource has not been initialized yet!");return this._mediaSource.handle},L.prototype.getObjectURL=function(){if(!this._mediaSource)throw new S.a("MediaSource has not been initialized yet!");return this._mediaSourceObjectURL==null&&(this._mediaSourceObjectURL=URL.createObjectURL(this._mediaSource)),this._mediaSourceObjectURL},L.prototype.revokeObjectURL=function(){this._mediaSourceObjectURL&&(URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},L.prototype.appendInitSegment=function(C,z){if(z===void 0&&(z=void 0),!this._mediaSource||this._mediaSource.readyState!=="open"||this._mediaSource.streaming===!1)return this._pendingSourceBufferInit.push(C),void this._pendingSegments[C.type].push(C);var V=C,K="".concat(V.container);V.codec&&V.codec.length>0&&(V.codec==="opus"&&y.a.safari&&(V.codec="Opus"),K+=";codecs=".concat(V.codec));var W=!1;if(g.a.v(this.TAG,"Received Initialization Segment, mimeType: "+K),this._lastInitSegments[V.type]=V,K!==this._mimeTypes[V.type]){if(this._mimeTypes[V.type])g.a.v(this.TAG,"Notice: ".concat(V.type," mimeType changed, origin: ").concat(this._mimeTypes[V.type],", target: ").concat(K));else{W=!0;try{var Q=this._sourceBuffers[V.type]=this._mediaSource.addSourceBuffer(K);Q.addEventListener("error",this.e.onSourceBufferError),Q.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(ce){return g.a.e(this.TAG,ce.message),void this._emitter.emit(m.a.ERROR,{code:ce.code,msg:ce.message})}}this._mimeTypes[V.type]=K}z||this._pendingSegments[V.type].push(V),W||this._sourceBuffers[V.type]&&!this._sourceBuffers[V.type].updating&&this._doAppendSegments(),y.a.safari&&V.container==="audio/mpeg"&&V.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=V.mediaDuration/1e3,this._updateMediaSourceDuration())},L.prototype.appendMediaSegment=function(C){var z=C;this._pendingSegments[z.type].push(z),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var V=this._sourceBuffers[z.type];!V||V.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()},L.prototype.flush=function(){for(var C in this._sourceBuffers)if(this._sourceBuffers[C]){var z=this._sourceBuffers[C];if(this._mediaSource.readyState==="open")try{z.abort()}catch(I){g.a.e(this.TAG,I.message)}var V=this._pendingSegments[C];if(V.splice(0,V.length),this._mediaSource.readyState!=="closed"){for(var K=0;K<z.buffered.length;K++){var W=z.buffered.start(K),Q=z.buffered.end(K);this._pendingRemoveRanges[C].push({start:W,end:Q})}if(z.updating||this._doRemoveRanges(),y.a.safari){var ce=this._lastInitSegments[C];ce&&(this._pendingSegments[C].push(ce),z.updating||this._doAppendSegments())}}}},L.prototype.endOfStream=function(){var C=this._mediaSource,z=this._sourceBuffers;C&&C.readyState==="open"?z.video&&z.video.updating||z.audio&&z.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,C.endOfStream()):C&&C.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0)},L.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var C=this._mediaElementProxy.getCurrentTime();for(var z in this._sourceBuffers){var V=this._sourceBuffers[z];if(V){var K=V.buffered;if(K.length>=1&&C-K.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},L.prototype._doCleanupSourceBuffer=function(){var C=this._mediaElementProxy.getCurrentTime();for(var z in this._sourceBuffers){var V=this._sourceBuffers[z];if(V){for(var K=V.buffered,W=!1,Q=0;Q<K.length;Q++){var ce=K.start(Q),I=K.end(Q);if(ce<=C&&C<I+3){if(C-ce>=this._config.autoCleanupMaxBackwardDuration){W=!0;var $=C-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[z].push({start:ce,end:$})}}else I<C&&(W=!0,this._pendingRemoveRanges[z].push({start:ce,end:I}))}W&&!V.updating&&this._doRemoveRanges()}}},L.prototype._updateMediaSourceDuration=function(){var C=this._sourceBuffers;if(this._mediaElementProxy.getReadyState()!==0&&this._mediaSource.readyState==="open"&&!(C.video&&C.video.updating||C.audio&&C.audio.updating)){var z=this._mediaSource.duration,V=this._pendingMediaDuration;V>0&&(isNaN(z)||V>z)&&(g.a.v(this.TAG,"Update MediaSource duration from ".concat(z," to ").concat(V)),this._mediaSource.duration=V),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},L.prototype._doRemoveRanges=function(){for(var C in this._pendingRemoveRanges)if(this._sourceBuffers[C]&&!this._sourceBuffers[C].updating)for(var z=this._sourceBuffers[C],V=this._pendingRemoveRanges[C];V.length&&!z.updating;){var K=V.shift();z.remove(K.start,K.end)}},L.prototype._doAppendSegments=function(){var C=this._pendingSegments;for(var z in C)if(this._sourceBuffers[z]&&!this._sourceBuffers[z].updating&&this._mediaSource.streaming!==!1&&C[z].length>0){var V=C[z].shift();if(typeof V.timestampOffset=="number"&&isFinite(V.timestampOffset)){var K=this._sourceBuffers[z].timestampOffset,W=V.timestampOffset/1e3;Math.abs(K-W)>.1&&(g.a.v(this.TAG,"Update MPEG audio timestampOffset from ".concat(K," to ").concat(W)),this._sourceBuffers[z].timestampOffset=W),delete V.timestampOffset}if(!V.data||V.data.byteLength===0)continue;try{this._sourceBuffers[z].appendBuffer(V.data),this._isBufferFull=!1}catch(Q){this._pendingSegments[z].unshift(V),Q.code===22?(this._isBufferFull||this._emitter.emit(m.a.BUFFER_FULL),this._isBufferFull=!0):(g.a.e(this.TAG,Q.message),this._emitter.emit(m.a.ERROR,{code:Q.code,msg:Q.message}))}}},L.prototype._onSourceOpen=function(){if(g.a.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var C=this._pendingSourceBufferInit;C.length;){var z=C.shift();this.appendInitSegment(z,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(m.a.SOURCE_OPEN)},L.prototype._onStartStreaming=function(){g.a.v(this.TAG,"ManagedMediaSource onStartStreaming"),this._emitter.emit(m.a.START_STREAMING)},L.prototype._onEndStreaming=function(){g.a.v(this.TAG,"ManagedMediaSource onEndStreaming"),this._emitter.emit(m.a.END_STREAMING)},L.prototype._onQualityChange=function(){g.a.v(this.TAG,"ManagedMediaSource onQualityChange")},L.prototype._onSourceEnded=function(){g.a.v(this.TAG,"MediaSource onSourceEnded")},L.prototype._onSourceClose=function(){g.a.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose),this._useManagedMediaSource&&(this._mediaSource.removeEventListener("startstreaming",this.e.onStartStreaming),this._mediaSource.removeEventListener("endstreaming",this.e.onEndStreaming),this._mediaSource.removeEventListener("qualitychange",this.e.onQualityChange)))},L.prototype._hasPendingSegments=function(){var C=this._pendingSegments;return C.video.length>0||C.audio.length>0},L.prototype._hasPendingRemoveRanges=function(){var C=this._pendingRemoveRanges;return C.video.length>0||C.audio.length>0},L.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(m.a.UPDATE_END)},L.prototype._onSourceBufferError=function(C){g.a.e(this.TAG,"SourceBuffer Error: ".concat(C))},L})();b.a=M},function(J,b,A){var P=A(9),D=A.n(P),g=A(18),y=A.n(g),m=A(0),S=A(8),M=A(13),L=A(1),C=(A(19),A(12)),z=(function(){function V(K,W){if(this.TAG="Transmuxer",this._emitter=new D.a,W.enableWorker&&typeof Worker<"u")try{this._worker=y()(19),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[K,W]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},S.a.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:S.a.getConfig()})}catch{m.a.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new M.a(K,W)}else this._controller=new M.a(K,W);if(this._controller){var Q=this._controller;Q.on(L.a.IO_ERROR,this._onIOError.bind(this)),Q.on(L.a.DEMUX_ERROR,this._onDemuxError.bind(this)),Q.on(L.a.INIT_SEGMENT,this._onInitSegment.bind(this)),Q.on(L.a.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),Q.on(L.a.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),Q.on(L.a.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),Q.on(L.a.MEDIA_INFO,this._onMediaInfo.bind(this)),Q.on(L.a.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),Q.on(L.a.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),Q.on(L.a.TIMED_ID3_METADATA_ARRIVED,this._onTimedID3MetadataArrived.bind(this)),Q.on(L.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,this._onSynchronousKLVMetadataArrived.bind(this)),Q.on(L.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,this._onAsynchronousKLVMetadataArrived.bind(this)),Q.on(L.a.SMPTE2038_METADATA_ARRIVED,this._onSMPTE2038MetadataArrived.bind(this)),Q.on(L.a.SCTE35_METADATA_ARRIVED,this._onSCTE35MetadataArrived.bind(this)),Q.on(L.a.PES_PRIVATE_DATA_DESCRIPTOR,this._onPESPrivateDataDescriptor.bind(this)),Q.on(L.a.PES_PRIVATE_DATA_ARRIVED,this._onPESPrivateDataArrived.bind(this)),Q.on(L.a.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),Q.on(L.a.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return V.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),S.a.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},V.prototype.on=function(K,W){this._emitter.addListener(K,W)},V.prototype.off=function(K,W){this._emitter.removeListener(K,W)},V.prototype.hasWorker=function(){return this._worker!=null},V.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},V.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},V.prototype.seek=function(K){this._worker?this._worker.postMessage({cmd:"seek",param:K}):this._controller.seek(K)},V.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},V.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},V.prototype._onInitSegment=function(K,W){var Q=this;Promise.resolve().then((function(){Q._emitter.emit(L.a.INIT_SEGMENT,K,W)}))},V.prototype._onMediaSegment=function(K,W){var Q=this;Promise.resolve().then((function(){Q._emitter.emit(L.a.MEDIA_SEGMENT,K,W)}))},V.prototype._onLoadingComplete=function(){var K=this;Promise.resolve().then((function(){K._emitter.emit(L.a.LOADING_COMPLETE)}))},V.prototype._onRecoveredEarlyEof=function(){var K=this;Promise.resolve().then((function(){K._emitter.emit(L.a.RECOVERED_EARLY_EOF)}))},V.prototype._onMediaInfo=function(K){var W=this;Promise.resolve().then((function(){W._emitter.emit(L.a.MEDIA_INFO,K)}))},V.prototype._onMetaDataArrived=function(K){var W=this;Promise.resolve().then((function(){W._emitter.emit(L.a.METADATA_ARRIVED,K)}))},V.prototype._onScriptDataArrived=function(K){var W=this;Promise.resolve().then((function(){W._emitter.emit(L.a.SCRIPTDATA_ARRIVED,K)}))},V.prototype._onTimedID3MetadataArrived=function(K){var W=this;Promise.resolve().then((function(){W._emitter.emit(L.a.TIMED_ID3_METADATA_ARRIVED,K)}))},V.prototype._onSynchronousKLVMetadataArrived=function(K){var W=this;Promise.resolve().then((function(){W._emitter.emit(L.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,K)}))},V.prototype._onAsynchronousKLVMetadataArrived=function(K){var W=this;Promise.resolve().then((function(){W._emitter.emit(L.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,K)}))},V.prototype._onSMPTE2038MetadataArrived=function(K){var W=this;Promise.resolve().then((function(){W._emitter.emit(L.a.SMPTE2038_METADATA_ARRIVED,K)}))},V.prototype._onSCTE35MetadataArrived=function(K){var W=this;Promise.resolve().then((function(){W._emitter.emit(L.a.SCTE35_METADATA_ARRIVED,K)}))},V.prototype._onPESPrivateDataDescriptor=function(K){var W=this;Promise.resolve().then((function(){W._emitter.emit(L.a.PES_PRIVATE_DATA_DESCRIPTOR,K)}))},V.prototype._onPESPrivateDataArrived=function(K){var W=this;Promise.resolve().then((function(){W._emitter.emit(L.a.PES_PRIVATE_DATA_ARRIVED,K)}))},V.prototype._onStatisticsInfo=function(K){var W=this;Promise.resolve().then((function(){W._emitter.emit(L.a.STATISTICS_INFO,K)}))},V.prototype._onIOError=function(K,W){var Q=this;Promise.resolve().then((function(){Q._emitter.emit(L.a.IO_ERROR,K,W)}))},V.prototype._onDemuxError=function(K,W){var Q=this;Promise.resolve().then((function(){Q._emitter.emit(L.a.DEMUX_ERROR,K,W)}))},V.prototype._onRecommendSeekpoint=function(K){var W=this;Promise.resolve().then((function(){W._emitter.emit(L.a.RECOMMEND_SEEKPOINT,K)}))},V.prototype._onLoggingConfigChanged=function(K){this._worker&&this._worker.postMessage({cmd:"logging_config",param:K})},V.prototype._onWorkerMessage=function(K){var W=K.data,Q=W.data;if(W.msg==="destroyed"||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(W.msg){case L.a.INIT_SEGMENT:case L.a.MEDIA_SEGMENT:this._emitter.emit(W.msg,Q.type,Q.data);break;case L.a.LOADING_COMPLETE:case L.a.RECOVERED_EARLY_EOF:this._emitter.emit(W.msg);break;case L.a.MEDIA_INFO:Object.setPrototypeOf(Q,C.a.prototype),this._emitter.emit(W.msg,Q);break;case L.a.METADATA_ARRIVED:case L.a.SCRIPTDATA_ARRIVED:case L.a.TIMED_ID3_METADATA_ARRIVED:case L.a.SYNCHRONOUS_KLV_METADATA_ARRIVED:case L.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED:case L.a.SMPTE2038_METADATA_ARRIVED:case L.a.SCTE35_METADATA_ARRIVED:case L.a.PES_PRIVATE_DATA_DESCRIPTOR:case L.a.PES_PRIVATE_DATA_ARRIVED:case L.a.STATISTICS_INFO:this._emitter.emit(W.msg,Q);break;case L.a.IO_ERROR:case L.a.DEMUX_ERROR:this._emitter.emit(W.msg,Q.type,Q.info);break;case L.a.RECOMMEND_SEEKPOINT:this._emitter.emit(W.msg,Q);break;case"logcat_callback":m.a.emitter.emit("log",Q.type,Q.logcat)}},V})();b.a=z},function(J,b,A){function P(m){var S={};function M(C){if(S[C])return S[C].exports;var z=S[C]={i:C,l:!1,exports:{}};return m[C].call(z.exports,z,z.exports,M),z.l=!0,z.exports}M.m=m,M.c=S,M.i=function(C){return C},M.d=function(C,z,V){M.o(C,z)||Object.defineProperty(C,z,{configurable:!1,enumerable:!0,get:V})},M.r=function(C){Object.defineProperty(C,"__esModule",{value:!0})},M.n=function(C){var z=C&&C.__esModule?function(){return C.default}:function(){return C};return M.d(z,"a",z),z},M.o=function(C,z){return Object.prototype.hasOwnProperty.call(C,z)},M.p="/",M.oe=function(C){throw console.error(C),C};var L=M(M.s=ENTRY_MODULE);return L.default||L}function D(m){return(m+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function g(m,S,M){var L={};L[M]=[];var C=S.toString(),z=C.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!z)return L;for(var V,K=z[1],W=new RegExp("(\\\\n|\\W)"+D(K)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");V=W.exec(C);)V[3]!=="dll-reference"&&L[M].push(V[3]);for(W=new RegExp("\\("+D(K)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");V=W.exec(C);)m[V[2]]||(L[M].push(V[1]),m[V[2]]=A(V[1]).m),L[V[2]]=L[V[2]]||[],L[V[2]].push(V[4]);for(var Q,ce=Object.keys(L),I=0;I<ce.length;I++)for(var $=0;$<L[ce[I]].length;$++)Q=L[ce[I]][$],isNaN(1*Q)||(L[ce[I]][$]=1*L[ce[I]][$]);return L}function y(m){return Object.keys(m).reduce((function(S,M){return S||m[M].length>0}),!1)}J.exports=function(m,S){S=S||{};var M={main:A.m},L=S.all?{main:Object.keys(M.main)}:(function(W,Q){for(var ce={main:[Q]},I={main:[]},$={main:{}};y(ce);)for(var re=Object.keys(ce),H=0;H<re.length;H++){var x=re[H],E=ce[x].pop();if($[x]=$[x]||{},!$[x][E]&&W[x][E]){$[x][E]=!0,I[x]=I[x]||[],I[x].push(E);for(var T=g(W,W[x][E],x),B=Object.keys(T),oe=0;oe<B.length;oe++)ce[B[oe]]=ce[B[oe]]||[],ce[B[oe]]=ce[B[oe]].concat(T[B[oe]])}}return I})(M,m),C="";Object.keys(L).filter((function(W){return W!=="main"})).forEach((function(W){for(var Q=0;L[W][Q];)Q++;L[W].push(Q),M[W][Q]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",C=C+"var "+W+" = ("+P.toString().replace("ENTRY_MODULE",JSON.stringify(Q))+")({"+L[W].map((function(ce){return JSON.stringify(ce)+": "+M[W][ce].toString()})).join(",")+`});
`})),C=C+"new (("+P.toString().replace("ENTRY_MODULE",JSON.stringify(m))+")({"+L.main.map((function(W){return JSON.stringify(W)+": "+M.main[W].toString()})).join(",")+"}))(self);";var z=new self.Blob([C],{type:"text/javascript"});if(S.bare)return z;var V=(self.URL||self.webkitURL||self.mozURL||self.msURL).createObjectURL(z),K=new self.Worker(V);return K.objectURL=V,K}},function(J,b,A){A.r(b),A(0);var P=A(8),D=A(15),g=A(13),y=A(1);b.default=function(m){var S=null,M=(function(ye,be){m.postMessage({msg:"logcat_callback",data:{type:ye,logcat:be}})}).bind(this);function L(ye,be){var k={msg:y.a.INIT_SEGMENT,data:{type:ye,data:be}};m.postMessage(k,[be.data])}function C(ye,be){var k={msg:y.a.MEDIA_SEGMENT,data:{type:ye,data:be}};m.postMessage(k,[be.data])}function z(){var ye={msg:y.a.LOADING_COMPLETE};m.postMessage(ye)}function V(){var ye={msg:y.a.RECOVERED_EARLY_EOF};m.postMessage(ye)}function K(ye){var be={msg:y.a.MEDIA_INFO,data:ye};m.postMessage(be)}function W(ye){var be={msg:y.a.METADATA_ARRIVED,data:ye};m.postMessage(be)}function Q(ye){var be={msg:y.a.SCRIPTDATA_ARRIVED,data:ye};m.postMessage(be)}function ce(ye){var be={msg:y.a.TIMED_ID3_METADATA_ARRIVED,data:ye};m.postMessage(be)}function I(ye){var be={msg:y.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,data:ye};m.postMessage(be)}function $(ye){var be={msg:y.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,data:ye};m.postMessage(be)}function re(ye){var be={msg:y.a.SMPTE2038_METADATA_ARRIVED,data:ye};m.postMessage(be)}function H(ye){var be={msg:y.a.SCTE35_METADATA_ARRIVED,data:ye};m.postMessage(be)}function x(ye){var be={msg:y.a.PES_PRIVATE_DATA_DESCRIPTOR,data:ye};m.postMessage(be)}function E(ye){var be={msg:y.a.PES_PRIVATE_DATA_ARRIVED,data:ye};m.postMessage(be)}function T(ye){var be={msg:y.a.STATISTICS_INFO,data:ye};m.postMessage(be)}function B(ye,be){m.postMessage({msg:y.a.IO_ERROR,data:{type:ye,info:be}})}function oe(ye,be){m.postMessage({msg:y.a.DEMUX_ERROR,data:{type:ye,info:be}})}function Te(ye){m.postMessage({msg:y.a.RECOMMEND_SEEKPOINT,data:ye})}D.a.install(),m.addEventListener("message",(function(ye){switch(ye.data.cmd){case"init":(S=new g.a(ye.data.param[0],ye.data.param[1])).on(y.a.IO_ERROR,B.bind(this)),S.on(y.a.DEMUX_ERROR,oe.bind(this)),S.on(y.a.INIT_SEGMENT,L.bind(this)),S.on(y.a.MEDIA_SEGMENT,C.bind(this)),S.on(y.a.LOADING_COMPLETE,z.bind(this)),S.on(y.a.RECOVERED_EARLY_EOF,V.bind(this)),S.on(y.a.MEDIA_INFO,K.bind(this)),S.on(y.a.METADATA_ARRIVED,W.bind(this)),S.on(y.a.SCRIPTDATA_ARRIVED,Q.bind(this)),S.on(y.a.TIMED_ID3_METADATA_ARRIVED,ce.bind(this)),S.on(y.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,I.bind(this)),S.on(y.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,$.bind(this)),S.on(y.a.SMPTE2038_METADATA_ARRIVED,re.bind(this)),S.on(y.a.SCTE35_METADATA_ARRIVED,H.bind(this)),S.on(y.a.PES_PRIVATE_DATA_DESCRIPTOR,x.bind(this)),S.on(y.a.PES_PRIVATE_DATA_ARRIVED,E.bind(this)),S.on(y.a.STATISTICS_INFO,T.bind(this)),S.on(y.a.RECOMMEND_SEEKPOINT,Te.bind(this));break;case"destroy":S&&(S.destroy(),S=null),m.postMessage({msg:"destroyed"});break;case"start":S.start();break;case"stop":S.stop();break;case"seek":S.seek(ye.data.param);break;case"pause":S.pause();break;case"resume":S.resume();break;case"logging_config":var be=ye.data.param;P.a.applyConfig(be),be.enableCallback===!0?P.a.addLogListener(M):P.a.removeLogListener(M)}}))}},function(J,b,A){J.exports=A(25).default},function(J,b,A){(function(P,D){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var g;g=function(){function y(me){return typeof me=="function"}var m=Array.isArray?Array.isArray:function(me){return Object.prototype.toString.call(me)==="[object Array]"},S=0,M=void 0,L=void 0,C=function(me,pe){I[S]=me,I[S+1]=pe,(S+=2)===2&&(L?L($):T())},z=typeof window<"u"?window:void 0,V=z||{},K=V.MutationObserver||V.WebKitMutationObserver,W=typeof self>"u"&&P!==void 0&&{}.toString.call(P)==="[object process]",Q=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function ce(){var me=setTimeout;return function(){return me($,1)}}var I=new Array(1e3);function $(){for(var me=0;me<S;me+=2)(0,I[me])(I[me+1]),I[me]=void 0,I[me+1]=void 0;S=0}var re,H,x,E,T=void 0;function B(me,pe){var we=this,Ie=new this.constructor(ye);Ie[Te]===void 0&&_e(Ie);var Pe=we._state;if(Pe){var Je=arguments[Pe-1];C((function(){return q(Pe,Ie,Je,we._result)}))}else c(we,Ie,me,pe);return Ie}function oe(me){if(me&&typeof me=="object"&&me.constructor===this)return me;var pe=new this(ye);return k(pe,me),pe}W?T=function(){return P.nextTick($)}:K?(H=0,x=new K($),E=document.createTextNode(""),x.observe(E,{characterData:!0}),T=function(){E.data=H=++H%2}):Q?((re=new MessageChannel).port1.onmessage=$,T=function(){return re.port2.postMessage(0)}):T=z===void 0?(function(){try{var me=Function("return this")().require("vertx");return(M=me.runOnLoop||me.runOnContext)!==void 0?function(){M($)}:ce()}catch{return ce()}})():ce();var Te=Math.random().toString(36).substring(2);function ye(){}function be(me,pe,we){pe.constructor===me.constructor&&we===B&&pe.constructor.resolve===oe?(function(Ie,Pe){Pe._state===1?le(Ie,Pe._result):Pe._state===2?N(Ie,Pe._result):c(Pe,void 0,(function(Je){return k(Ie,Je)}),(function(Je){return N(Ie,Je)}))})(me,pe):we===void 0?le(me,pe):y(we)?(function(Ie,Pe,Je){C((function(At){var Ct=!1,fa=(function(gt,Ft,Zn,Jn){try{gt.call(Ft,Zn,Jn)}catch(Wn){return Wn}})(Je,Pe,(function(gt){Ct||(Ct=!0,Pe!==gt?k(At,gt):le(At,gt))}),(function(gt){Ct||(Ct=!0,N(At,gt))}),At._label);!Ct&&fa&&(Ct=!0,N(At,fa))}),Ie)})(me,pe,we):le(me,pe)}function k(me,pe){if(me===pe)N(me,new TypeError("You cannot resolve a promise with itself"));else if(Pe=typeof(Ie=pe),Ie===null||Pe!=="object"&&Pe!=="function")le(me,pe);else{var we=void 0;try{we=pe.then}catch(Je){return void N(me,Je)}be(me,pe,we)}var Ie,Pe}function he(me){me._onerror&&me._onerror(me._result),v(me)}function le(me,pe){me._state===void 0&&(me._result=pe,me._state=1,me._subscribers.length!==0&&C(v,me))}function N(me,pe){me._state===void 0&&(me._state=2,me._result=pe,C(he,me))}function c(me,pe,we,Ie){var Pe=me._subscribers,Je=Pe.length;me._onerror=null,Pe[Je]=pe,Pe[Je+1]=we,Pe[Je+2]=Ie,Je===0&&me._state&&C(v,me)}function v(me){var pe=me._subscribers,we=me._state;if(pe.length!==0){for(var Ie=void 0,Pe=void 0,Je=me._result,At=0;At<pe.length;At+=3)Ie=pe[At],Pe=pe[At+we],Ie?q(we,Ie,Pe,Je):Pe(Je);me._subscribers.length=0}}function q(me,pe,we,Ie){var Pe=y(we),Je=void 0,At=void 0,Ct=!0;if(Pe){try{Je=we(Ie)}catch(fa){Ct=!1,At=fa}if(pe===Je)return void N(pe,new TypeError("A promises callback cannot return that same promise."))}else Je=Ie;pe._state!==void 0||(Pe&&Ct?k(pe,Je):Ct===!1?N(pe,At):me===1?le(pe,Je):me===2&&N(pe,Je))}var ae=0;function _e(me){me[Te]=ae++,me._state=void 0,me._result=void 0,me._subscribers=[]}var De=(function(){function me(pe,we){this._instanceConstructor=pe,this.promise=new pe(ye),this.promise[Te]||_e(this.promise),m(we)?(this.length=we.length,this._remaining=we.length,this._result=new Array(this.length),this.length===0?le(this.promise,this._result):(this.length=this.length||0,this._enumerate(we),this._remaining===0&&le(this.promise,this._result))):N(this.promise,new Error("Array Methods must be provided an Array"))}return me.prototype._enumerate=function(pe){for(var we=0;this._state===void 0&&we<pe.length;we++)this._eachEntry(pe[we],we)},me.prototype._eachEntry=function(pe,we){var Ie=this._instanceConstructor,Pe=Ie.resolve;if(Pe===oe){var Je=void 0,At=void 0,Ct=!1;try{Je=pe.then}catch(gt){Ct=!0,At=gt}if(Je===B&&pe._state!==void 0)this._settledAt(pe._state,we,pe._result);else if(typeof Je!="function")this._remaining--,this._result[we]=pe;else if(Ie===Ee){var fa=new Ie(ye);Ct?N(fa,At):be(fa,pe,Je),this._willSettleAt(fa,we)}else this._willSettleAt(new Ie((function(gt){return gt(pe)})),we)}else this._willSettleAt(Pe(pe),we)},me.prototype._settledAt=function(pe,we,Ie){var Pe=this.promise;Pe._state===void 0&&(this._remaining--,pe===2?N(Pe,Ie):this._result[we]=Ie),this._remaining===0&&le(Pe,this._result)},me.prototype._willSettleAt=function(pe,we){var Ie=this;c(pe,void 0,(function(Pe){return Ie._settledAt(1,we,Pe)}),(function(Pe){return Ie._settledAt(2,we,Pe)}))},me})(),Ee=(function(){function me(pe){this[Te]=ae++,this._result=this._state=void 0,this._subscribers=[],ye!==pe&&(typeof pe!="function"&&(function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")})(),this instanceof me?(function(we,Ie){try{Ie((function(Pe){k(we,Pe)}),(function(Pe){N(we,Pe)}))}catch(Pe){N(we,Pe)}})(this,pe):(function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")})())}return me.prototype.catch=function(pe){return this.then(null,pe)},me.prototype.finally=function(pe){var we=this.constructor;return y(pe)?this.then((function(Ie){return we.resolve(pe()).then((function(){return Ie}))}),(function(Ie){return we.resolve(pe()).then((function(){throw Ie}))})):this.then(pe,pe)},me})();return Ee.prototype.then=B,Ee.all=function(me){return new De(this,me).promise},Ee.race=function(me){var pe=this;return m(me)?new pe((function(we,Ie){for(var Pe=me.length,Je=0;Je<Pe;Je++)pe.resolve(me[Je]).then(we,Ie)})):new pe((function(we,Ie){return Ie(new TypeError("You must pass an array to race."))}))},Ee.resolve=oe,Ee.reject=function(me){var pe=new this(ye);return N(pe,me),pe},Ee._setScheduler=function(me){L=me},Ee._setAsap=function(me){C=me},Ee._asap=C,Ee.polyfill=function(){var me=void 0;if(D!==void 0)me=D;else if(typeof self<"u")me=self;else try{me=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var pe=me.Promise;if(pe){var we=null;try{we=Object.prototype.toString.call(pe.resolve())}catch{}if(we==="[object Promise]"&&!pe.cast)return}me.Promise=Ee},Ee.Promise=Ee,Ee},J.exports=g()}).call(this,A(22),A(23))},function(J,b){var A,P,D=J.exports={};function g(){throw new Error("setTimeout has not been defined")}function y(){throw new Error("clearTimeout has not been defined")}function m(Q){if(A===setTimeout)return setTimeout(Q,0);if((A===g||!A)&&setTimeout)return A=setTimeout,setTimeout(Q,0);try{return A(Q,0)}catch{try{return A.call(null,Q,0)}catch{return A.call(this,Q,0)}}}(function(){try{A=typeof setTimeout=="function"?setTimeout:g}catch{A=g}try{P=typeof clearTimeout=="function"?clearTimeout:y}catch{P=y}})();var S,M=[],L=!1,C=-1;function z(){L&&S&&(L=!1,S.length?M=S.concat(M):C=-1,M.length&&V())}function V(){if(!L){var Q=m(z);L=!0;for(var ce=M.length;ce;){for(S=M,M=[];++C<ce;)S&&S[C].run();C=-1,ce=M.length}S=null,L=!1,(function(I){if(P===clearTimeout)return clearTimeout(I);if((P===y||!P)&&clearTimeout)return P=clearTimeout,clearTimeout(I);try{P(I)}catch{try{return P.call(null,I)}catch{return P.call(this,I)}}})(Q)}}function K(Q,ce){this.fun=Q,this.array=ce}function W(){}D.nextTick=function(Q){var ce=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)ce[I-1]=arguments[I];M.push(new K(Q,ce)),M.length!==1||L||m(V)},K.prototype.run=function(){this.fun.apply(null,this.array)},D.title="browser",D.browser=!0,D.env={},D.argv=[],D.version="",D.versions={},D.on=W,D.addListener=W,D.once=W,D.off=W,D.removeListener=W,D.removeAllListeners=W,D.emit=W,D.prependListener=W,D.prependOnceListener=W,D.listeners=function(Q){return[]},D.binding=function(Q){throw new Error("process.binding is not supported")},D.cwd=function(){return"/"},D.chdir=function(Q){throw new Error("process.chdir is not supported")},D.umask=function(){return 0}},function(J,b){var A;A=(function(){return this})();try{A=A||new Function("return this")()}catch{typeof window=="object"&&(A=window)}J.exports=A},function(J,b,A){A.r(b);var P=A(0),D=A(8),g=A(3),y=A(7),m=A(16),S=A(17),M=A(1),L=A(4),C=A(10);b.default=function(z){var V="PlayerEngineWorker",K=(function(N,c){z.postMessage({msg:"logcat_callback",type:N,logcat:c})}).bind(void 0),W=null,Q=null,ce=null,I=null,$=!1,re=!1,H=0,x=0,E=!1;function T(){ce&&(ce.shutdown(),ce.destroy(),ce=null)}function B(){if(W==null||Q==null)throw new g.a("Worker not initialized");if(I)throw new g.a("Transmuxer has been initialized");re||(!Q.deferLoadAfterSourceOpen||$?((I=new S.a(W,Q)).on(M.a.INIT_SEGMENT,(function(N,c){ce.appendInitSegment(c)})),I.on(M.a.MEDIA_SEGMENT,(function(N,c){ce.appendMediaSegment(c),z.postMessage({msg:"buffered_position_changed",buffered_position_milliseconds:c.info.endDts})})),I.on(M.a.LOADING_COMPLETE,(function(){ce.endOfStream(),z.postMessage({msg:"player_event",event:L.a.LOADING_COMPLETE})})),I.on(M.a.RECOVERED_EARLY_EOF,(function(){z.postMessage({msg:"player_event",event:L.a.RECOVERED_EARLY_EOF})})),I.on(M.a.IO_ERROR,(function(N,c){z.postMessage({msg:"player_event",event:L.a.ERROR,error_type:C.b.NETWORK_ERROR,error_detail:N,info:c})})),I.on(M.a.DEMUX_ERROR,(function(N,c){z.postMessage({msg:"player_event",event:L.a.ERROR,error_type:C.b.MEDIA_ERROR,error_detail:N,info:c})})),I.on(M.a.MEDIA_INFO,(function(N){he(M.a.MEDIA_INFO,N)})),I.on(M.a.STATISTICS_INFO,(function(N){he(M.a.STATISTICS_INFO,N)})),I.on(M.a.RECOMMEND_SEEKPOINT,(function(N){(function(c){z.postMessage({msg:"transmuxing_event",event:M.a.RECOMMEND_SEEKPOINT,milliseconds:c})})(N)})),I.on(M.a.METADATA_ARRIVED,(function(N){le(L.a.METADATA_ARRIVED,N)})),I.on(M.a.SCRIPTDATA_ARRIVED,(function(N){le(L.a.SCRIPTDATA_ARRIVED,N)})),I.on(M.a.TIMED_ID3_METADATA_ARRIVED,(function(N){le(L.a.TIMED_ID3_METADATA_ARRIVED,N)})),I.on(M.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,(function(N){le(L.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,N)})),I.on(M.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,(function(N){le(L.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,N)})),I.on(M.a.SMPTE2038_METADATA_ARRIVED,(function(N){le(L.a.SMPTE2038_METADATA_ARRIVED,N)})),I.on(M.a.SCTE35_METADATA_ARRIVED,(function(N){le(L.a.SCTE35_METADATA_ARRIVED,N)})),I.on(M.a.PES_PRIVATE_DATA_DESCRIPTOR,(function(N){le(L.a.PES_PRIVATE_DATA_DESCRIPTOR,N)})),I.on(M.a.PES_PRIVATE_DATA_ARRIVED,(function(N){le(L.a.PES_PRIVATE_DATA_ARRIVED,N)})),I.open()):re=!0)}function oe(){ce&&ce.flush(),I&&(I.close(),I.destroy(),I=null)}function Te(){$=!0,re&&(re=!1,B())}function ye(){z.postMessage({msg:"mse_event",event:y.a.UPDATE_END})}function be(){P.a.v(V,"MSE SourceBuffer is full, report to main thread"),z.postMessage({msg:"mse_event",event:y.a.BUFFER_FULL})}function k(N){z.postMessage({msg:"player_event",event:L.a.ERROR,error_type:C.b.MEDIA_ERROR,error_detail:C.b.MEDIA_MSE_ERROR,info:N})}function he(N,c){z.postMessage({msg:"transmuxing_event",event:N,info:c})}function le(N,c){z.postMessage({msg:"player_event",event:N,extraData:c})}z.addEventListener("message",(function(N){if(!E){var c=N.data;switch(c.cmd){case"logging_config":var v=c;D.a.applyConfig(v.logging_config),v.logging_config.enableCallback===!0?D.a.addLogListener(K):D.a.removeLogListener(K);break;case"init":W=(v=c).media_data_source,Q=v.config;break;case"destroy":(function(){I&&oe(),ce&&T(),E=!0,z.postMessage({msg:"destroyed"})})();break;case"initialize_mse":(function(){P.a.v(V,"Initializing MediaSource in DedicatedWorker"),(ce=new m.a(Q)).on(y.a.SOURCE_OPEN,Te.bind(this)),ce.on(y.a.UPDATE_END,ye.bind(this)),ce.on(y.a.BUFFER_FULL,be.bind(this)),ce.on(y.a.ERROR,k.bind(this)),ce.initialize({getCurrentTime:function(){return H},getReadyState:function(){return x}});var q=ce.getHandle();z.postMessage({msg:"mse_init",handle:q},[q])})();break;case"shutdown_mse":T();break;case"load":B();break;case"unload":oe();break;case"unbuffered_seek":v=c,ce.flush(),I.seek(v.milliseconds);break;case"timeupdate":H=(v=c).current_time;break;case"readystatechange":x=(v=c).ready_state;break;case"pause_transmuxer":I.pause();break;case"resume_transmuxer":I.resume()}}}))}},function(J,b,A){A.r(b);var P=A(15),D=A(14),g={enableWorker:!1,enableWorkerForMSE:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,liveBufferLatencyChasing:!1,liveBufferLatencyChasingOnPaused:!1,liveBufferLatencyMaxLatency:1.5,liveBufferLatencyMinRemain:.5,liveSync:!1,liveSyncMaxLatency:1.2,liveSyncTargetLatency:.8,liveSyncPlaybackRate:1.2,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function y(){return Object.assign({},g)}var m=(function(){function N(){}return N.supportMSEH264Playback=function(){var c=self.MediaSource&&self.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),v=self.ManagedMediaSource&&self.ManagedMediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');return c||v},N.supportMSEH265Playback=function(){var c=self.MediaSource&&self.MediaSource.isTypeSupported('video/mp4; codecs="hvc1.1.6.L93.B0"'),v=self.ManagedMediaSource&&self.ManagedMediaSource.isTypeSupported('video/mp4; codecs="hvc1.1.6.L93.B0"');return c||v},N.supportNetworkStreamIO=function(){var c=new D.a({},y()),v=c.loaderType;return c.destroy(),v=="fetch-stream-loader"||v=="xhr-moz-chunked-loader"},N.getNetworkLoaderTypeName=function(){var c=new D.a({},y()),v=c.loaderType;return c.destroy(),v},N.supportNativeMediaPlayback=function(c){N.videoElement==null&&(N.videoElement=window.document.createElement("video"));var v=N.videoElement.canPlayType(c);return v==="probably"||v=="maybe"},N.getFeatureList=function(){var c={msePlayback:!1,mseLivePlayback:!1,mseH265Playback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeMP4H265Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return c.msePlayback=N.supportMSEH264Playback(),c.networkStreamIO=N.supportNetworkStreamIO(),c.networkLoaderName=N.getNetworkLoaderTypeName(),c.mseLivePlayback=c.msePlayback&&c.networkStreamIO,c.mseH265Playback=N.supportMSEH265Playback(),c.nativeMP4H264Playback=N.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),c.nativeMP4H265Playback=N.supportNativeMediaPlayback('video/mp4; codecs="hvc1.1.6.L93.B0"'),c.nativeWebmVP8Playback=N.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),c.nativeWebmVP9Playback=N.supportNativeMediaPlayback('video/webm; codecs="vp9"'),c},N})(),S=A(2),M=A(0),L=A(9),C=A.n(L),z=A(16),V=A(4),K=A(17),W=A(7),Q=A(10),ce=A(3),I=A(1),$=A(5),re=A(11),H=(function(){function N(c,v,q){this.TAG="SeekingHandler",this._config=null,this._media_element=null,this._always_seek_keyframe=!1,this._on_unbuffered_seek=null,this._request_set_current_time=!1,this._seek_request_record_clocktime=null,this._idr_sample_list=new re.a,this.e=null,this._config=c,this._media_element=v,this._on_unbuffered_seek=q,this.e={onMediaSeeking:this._onMediaSeeking.bind(this)};var ae=$.a.chrome&&($.a.version.major<50||$.a.version.major===50&&$.a.version.build<2661);this._always_seek_keyframe=!!(ae||$.a.msedge||$.a.msie),this._always_seek_keyframe&&(this._config.accurateSeek=!1),this._media_element.addEventListener("seeking",this.e.onMediaSeeking)}return N.prototype.destroy=function(){this._idr_sample_list.clear(),this._idr_sample_list=null,this._media_element.removeEventListener("seeking",this.e.onMediaSeeking),this._media_element=null,this._on_unbuffered_seek=null},N.prototype.seek=function(c){var v=this._isPositionBuffered(c),q=!1;if(c<1&&this._media_element.buffered.length>0){var ae=this._media_element.buffered.start(0);(ae<1&&c<ae||$.a.safari)&&(q=!0,c=$.a.safari?.1:ae)}if(q)this.directSeek(c);else if(v)if(this._always_seek_keyframe){var _e=this._getNearestKeyframe(Math.floor(1e3*c));_e!=null&&(c=_e.dts/1e3),this.directSeek(c)}else this.directSeek(c);else this._idr_sample_list.clear(),this._on_unbuffered_seek(Math.floor(1e3*c)),this._config.accurateSeek&&this.directSeek(c)},N.prototype.directSeek=function(c){this._request_set_current_time=!0,this._media_element.currentTime=c},N.prototype.appendSyncPoints=function(c){this._idr_sample_list.appendArray(c)},N.prototype._onMediaSeeking=function(c){if(this._request_set_current_time)this._request_set_current_time=!1;else{var v=this._media_element.currentTime,q=this._media_element.buffered;if(v<1&&q.length>0){var ae=q.start(0);if(ae<1&&v<ae||$.a.safari){var _e=$.a.safari?.1:ae;return void this.directSeek(_e)}}if(this._isPositionBuffered(v)){if(this._always_seek_keyframe){var De=this._getNearestKeyframe(Math.floor(1e3*v));De!=null&&(v=De.dts/1e3,this.directSeek(v))}}else this._seek_request_record_clocktime=N._getClockTime(),window.setTimeout(this._pollAndApplyUnbufferedSeek.bind(this),50)}},N.prototype._pollAndApplyUnbufferedSeek=function(){if(this._seek_request_record_clocktime!=null)if(this._seek_request_record_clocktime<=N._getClockTime()-100){var c=this._media_element.currentTime;this._seek_request_record_clocktime=null,this._isPositionBuffered(c)||(this._idr_sample_list.clear(),this._on_unbuffered_seek(Math.floor(1e3*c)),this._config.accurateSeek&&this.directSeek(c))}else window.setTimeout(this._pollAndApplyUnbufferedSeek.bind(this),50)},N.prototype._isPositionBuffered=function(c){for(var v=this._media_element.buffered,q=0;q<v.length;q++){var ae=v.start(q),_e=v.end(q);if(c>=ae&&c<_e)return!0}return!1},N.prototype._getNearestKeyframe=function(c){return this._idr_sample_list.getLastSyncPointBeforeDts(c)},N._getClockTime=function(){return self.performance&&self.performance.now?self.performance.now():Date.now()},N})(),x=(function(){function N(c,v,q,ae){this.TAG="LoadingController",this._config=null,this._media_element=null,this._on_pause_transmuxer=null,this._on_resume_transmuxer=null,this._paused=!1,this.e=null,this._config=c,this._media_element=v,this._on_pause_transmuxer=q,this._on_resume_transmuxer=ae,this.e={onMediaTimeUpdate:this._onMediaTimeUpdate.bind(this)}}return N.prototype.destroy=function(){this._media_element.removeEventListener("timeupdate",this.e.onMediaTimeUpdate),this.e=null,this._media_element=null,this._config=null,this._on_pause_transmuxer=null,this._on_resume_transmuxer=null},N.prototype.notifyBufferedPositionChanged=function(c){!this._config.isLive&&this._config.lazyLoad&&(c==null?this._suspendTransmuxerIfNeeded():this._suspendTransmuxerIfBufferedPositionExceeded(c))},N.prototype._onMediaTimeUpdate=function(c){this._paused&&this._resumeTransmuxerIfNeeded()},N.prototype._suspendTransmuxerIfNeeded=function(){for(var c=this._media_element.buffered,v=this._media_element.currentTime,q=0,ae=0;ae<c.length;ae++){var _e=c.start(ae),De=c.end(ae);if(_e<=v&&v<De){q=De;break}}q>0&&this._suspendTransmuxerIfBufferedPositionExceeded(q)},N.prototype._suspendTransmuxerIfBufferedPositionExceeded=function(c){c>=this._media_element.currentTime+this._config.lazyLoadMaxDuration&&!this._paused&&(M.a.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this.suspendTransmuxer(),this._media_element.addEventListener("timeupdate",this.e.onMediaTimeUpdate))},N.prototype.suspendTransmuxer=function(){this._paused=!0,this._on_pause_transmuxer()},N.prototype._resumeTransmuxerIfNeeded=function(){for(var c=this._media_element.buffered,v=this._media_element.currentTime,q=this._config.lazyLoadRecoverDuration,ae=!1,_e=0;_e<c.length;_e++){var De=c.start(_e),Ee=c.end(_e);if(v>=De&&v<Ee){v>=Ee-q&&(ae=!0);break}}ae&&(M.a.v(this.TAG,"Continue loading from paused position"),this.resumeTransmuxer(),this._media_element.removeEventListener("timeupdate",this.e.onMediaTimeUpdate))},N.prototype.resumeTransmuxer=function(){this._paused=!1,this._on_resume_transmuxer()},N})(),E=(function(){function N(c,v){this.TAG="StartupStallJumper",this._media_element=null,this._on_direct_seek=null,this._canplay_received=!1,this.e=null,this._media_element=c,this._on_direct_seek=v,this.e={onMediaCanPlay:this._onMediaCanPlay.bind(this),onMediaStalled:this._onMediaStalled.bind(this),onMediaProgress:this._onMediaProgress.bind(this)},this._media_element.addEventListener("canplay",this.e.onMediaCanPlay),this._media_element.addEventListener("stalled",this.e.onMediaStalled),this._media_element.addEventListener("progress",this.e.onMediaProgress)}return N.prototype.destroy=function(){this._media_element.removeEventListener("canplay",this.e.onMediaCanPlay),this._media_element.removeEventListener("stalled",this.e.onMediaStalled),this._media_element.removeEventListener("progress",this.e.onMediaProgress),this._media_element=null,this._on_direct_seek=null},N.prototype._onMediaCanPlay=function(c){this._canplay_received=!0,this._media_element.removeEventListener("canplay",this.e.onMediaCanPlay)},N.prototype._onMediaStalled=function(c){this._detectAndFixStuckPlayback(!0)},N.prototype._onMediaProgress=function(c){this._detectAndFixStuckPlayback()},N.prototype._detectAndFixStuckPlayback=function(c){var v=this._media_element,q=v.buffered;c||!this._canplay_received||v.readyState<2?q.length>0&&v.currentTime<q.start(0)&&(M.a.w(this.TAG,"Playback seems stuck at ".concat(v.currentTime,", seek to ").concat(q.start(0))),this._on_direct_seek(q.start(0)),this._media_element.removeEventListener("progress",this.e.onMediaProgress)):this._media_element.removeEventListener("progress",this.e.onMediaProgress)},N})(),T=(function(){function N(c,v,q){this._config=null,this._media_element=null,this._on_direct_seek=null,this._config=c,this._media_element=v,this._on_direct_seek=q}return N.prototype.destroy=function(){this._on_direct_seek=null,this._media_element=null,this._config=null},N.prototype.notifyBufferedRangeUpdate=function(){this._chaseLiveLatency()},N.prototype._chaseLiveLatency=function(){var c=this._media_element.buffered,v=this._media_element.currentTime,q=this._media_element.paused;if(this._config.isLive&&this._config.liveBufferLatencyChasing&&c.length!=0&&(this._config.liveBufferLatencyChasingOnPaused||!q)){var ae=c.end(c.length-1);if(ae>this._config.liveBufferLatencyMaxLatency&&ae-v>this._config.liveBufferLatencyMaxLatency){var _e=ae-this._config.liveBufferLatencyMinRemain;this._on_direct_seek(_e)}}},N})(),B=(function(){function N(c,v){this._config=null,this._media_element=null,this.e=null,this._config=c,this._media_element=v,this.e={onMediaTimeUpdate:this._onMediaTimeUpdate.bind(this)},this._media_element.addEventListener("timeupdate",this.e.onMediaTimeUpdate)}return N.prototype.destroy=function(){this._media_element.removeEventListener("timeupdate",this.e.onMediaTimeUpdate),this._media_element=null,this._config=null},N.prototype._onMediaTimeUpdate=function(c){if(this._config.isLive&&this._config.liveSync){var v=this._getCurrentLatency();if(v>this._config.liveSyncMaxLatency){var q=Math.min(2,Math.max(1,this._config.liveSyncPlaybackRate));this._media_element.playbackRate=q}else v>this._config.liveSyncTargetLatency||this._media_element.playbackRate!==1&&this._media_element.playbackRate!==0&&(this._media_element.playbackRate=1)}},N.prototype._getCurrentLatency=function(){if(!this._media_element)return 0;var c=this._media_element.buffered,v=this._media_element.currentTime;return c.length==0?0:c.end(c.length-1)-v},N})(),oe=(function(){function N(c,v){this.TAG="PlayerEngineMainThread",this._emitter=new L,this._media_element=null,this._mse_controller=null,this._transmuxer=null,this._pending_seek_time=null,this._seeking_handler=null,this._loading_controller=null,this._startup_stall_jumper=null,this._live_latency_chaser=null,this._live_latency_synchronizer=null,this._mse_source_opened=!1,this._has_pending_load=!1,this._loaded_metadata_received=!1,this._media_info=null,this._statistics_info=null,this.e=null,this._media_data_source=c,this._config=y(),typeof v=="object"&&Object.assign(this._config,v),c.isLive===!0&&(this._config.isLive=!0),this.e={onMediaLoadedMetadata:this._onMediaLoadedMetadata.bind(this)}}return N.prototype.destroy=function(){this._emitter.emit(V.a.DESTROYING),this._transmuxer&&this.unload(),this._media_element&&this.detachMediaElement(),this.e=null,this._media_data_source=null,this._emitter.removeAllListeners(),this._emitter=null},N.prototype.on=function(c,v){var q=this;this._emitter.addListener(c,v),c===V.a.MEDIA_INFO&&this._media_info?Promise.resolve().then((function(){return q._emitter.emit(V.a.MEDIA_INFO,q.mediaInfo)})):c==V.a.STATISTICS_INFO&&this._statistics_info&&Promise.resolve().then((function(){return q._emitter.emit(V.a.STATISTICS_INFO,q.statisticsInfo)}))},N.prototype.off=function(c,v){this._emitter.removeListener(c,v)},N.prototype.attachMediaElement=function(c){var v=this;this._media_element=c,c.src="",c.removeAttribute("src"),c.srcObject=null,c.load(),c.addEventListener("loadedmetadata",this.e.onMediaLoadedMetadata),this._mse_controller=new z.a(this._config),this._mse_controller.on(W.a.UPDATE_END,this._onMSEUpdateEnd.bind(this)),this._mse_controller.on(W.a.BUFFER_FULL,this._onMSEBufferFull.bind(this)),this._mse_controller.on(W.a.SOURCE_OPEN,this._onMSESourceOpen.bind(this)),this._mse_controller.on(W.a.ERROR,this._onMSEError.bind(this)),this._mse_controller.on(W.a.START_STREAMING,this._onMSEStartStreaming.bind(this)),this._mse_controller.on(W.a.END_STREAMING,this._onMSEEndStreaming.bind(this)),this._mse_controller.initialize({getCurrentTime:function(){return v._media_element.currentTime},getReadyState:function(){return v._media_element.readyState}}),this._mse_controller.isManagedMediaSource()?(c.disableRemotePlayback=!0,c.srcObject=this._mse_controller.getObject()):c.src=this._mse_controller.getObjectURL()},N.prototype.detachMediaElement=function(){this._media_element&&(this._mse_controller.shutdown(),this._media_element.removeEventListener("loadedmetadata",this.e.onMediaLoadedMetadata),this._media_element.src="",this._media_element.removeAttribute("src"),this._media_element.srcObject=null,this._media_element.load(),this._media_element=null,this._mse_controller.revokeObjectURL()),this._mse_controller&&(this._mse_controller.destroy(),this._mse_controller=null)},N.prototype.load=function(){var c=this;if(!this._media_element)throw new ce.a("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new ce.a("load() has been called, please call unload() first!");this._has_pending_load||(!this._config.deferLoadAfterSourceOpen||this._mse_source_opened?(this._transmuxer=new K.a(this._media_data_source,this._config),this._transmuxer.on(I.a.INIT_SEGMENT,(function(v,q){c._mse_controller.appendInitSegment(q)})),this._transmuxer.on(I.a.MEDIA_SEGMENT,(function(v,q){c._mse_controller.appendMediaSegment(q),!c._config.isLive&&v==="video"&&q.data&&q.data.byteLength>0&&"info"in q&&c._seeking_handler.appendSyncPoints(q.info.syncPoints),c._loading_controller.notifyBufferedPositionChanged(q.info.endDts/1e3)})),this._transmuxer.on(I.a.LOADING_COMPLETE,(function(){c._mse_controller.endOfStream(),c._emitter.emit(V.a.LOADING_COMPLETE)})),this._transmuxer.on(I.a.RECOVERED_EARLY_EOF,(function(){c._emitter.emit(V.a.RECOVERED_EARLY_EOF)})),this._transmuxer.on(I.a.IO_ERROR,(function(v,q){c._emitter.emit(V.a.ERROR,Q.b.NETWORK_ERROR,v,q)})),this._transmuxer.on(I.a.DEMUX_ERROR,(function(v,q){c._emitter.emit(V.a.ERROR,Q.b.MEDIA_ERROR,v,q)})),this._transmuxer.on(I.a.MEDIA_INFO,(function(v){c._media_info=v,c._emitter.emit(V.a.MEDIA_INFO,Object.assign({},v))})),this._transmuxer.on(I.a.STATISTICS_INFO,(function(v){c._statistics_info=c._fillStatisticsInfo(v),c._emitter.emit(V.a.STATISTICS_INFO,Object.assign({},v))})),this._transmuxer.on(I.a.RECOMMEND_SEEKPOINT,(function(v){c._media_element&&!c._config.accurateSeek&&c._seeking_handler.directSeek(v/1e3)})),this._transmuxer.on(I.a.METADATA_ARRIVED,(function(v){c._emitter.emit(V.a.METADATA_ARRIVED,v)})),this._transmuxer.on(I.a.SCRIPTDATA_ARRIVED,(function(v){c._emitter.emit(V.a.SCRIPTDATA_ARRIVED,v)})),this._transmuxer.on(I.a.TIMED_ID3_METADATA_ARRIVED,(function(v){c._emitter.emit(V.a.TIMED_ID3_METADATA_ARRIVED,v)})),this._transmuxer.on(I.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,(function(v){c._emitter.emit(V.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,v)})),this._transmuxer.on(I.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,(function(v){c._emitter.emit(V.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,v)})),this._transmuxer.on(I.a.SMPTE2038_METADATA_ARRIVED,(function(v){c._emitter.emit(V.a.SMPTE2038_METADATA_ARRIVED,v)})),this._transmuxer.on(I.a.SCTE35_METADATA_ARRIVED,(function(v){c._emitter.emit(V.a.SCTE35_METADATA_ARRIVED,v)})),this._transmuxer.on(I.a.PES_PRIVATE_DATA_DESCRIPTOR,(function(v){c._emitter.emit(V.a.PES_PRIVATE_DATA_DESCRIPTOR,v)})),this._transmuxer.on(I.a.PES_PRIVATE_DATA_ARRIVED,(function(v){c._emitter.emit(V.a.PES_PRIVATE_DATA_ARRIVED,v)})),this._seeking_handler=new H(this._config,this._media_element,this._onRequiredUnbufferedSeek.bind(this)),this._loading_controller=new x(this._config,this._media_element,this._onRequestPauseTransmuxer.bind(this),this._onRequestResumeTransmuxer.bind(this)),this._startup_stall_jumper=new E(this._media_element,this._onRequestDirectSeek.bind(this)),this._config.isLive&&this._config.liveBufferLatencyChasing&&(this._live_latency_chaser=new T(this._config,this._media_element,this._onRequestDirectSeek.bind(this))),this._config.isLive&&this._config.liveSync&&(this._live_latency_synchronizer=new B(this._config,this._media_element)),this._media_element.readyState>0&&this._seeking_handler.directSeek(0),this._transmuxer.open()):this._has_pending_load=!0)},N.prototype.unload=function(){var c,v,q,ae,_e,De,Ee,me,pe;(c=this._media_element)===null||c===void 0||c.pause(),(v=this._live_latency_synchronizer)===null||v===void 0||v.destroy(),this._live_latency_synchronizer=null,(q=this._live_latency_chaser)===null||q===void 0||q.destroy(),this._live_latency_chaser=null,(ae=this._startup_stall_jumper)===null||ae===void 0||ae.destroy(),this._startup_stall_jumper=null,(_e=this._loading_controller)===null||_e===void 0||_e.destroy(),this._loading_controller=null,(De=this._seeking_handler)===null||De===void 0||De.destroy(),this._seeking_handler=null,(Ee=this._mse_controller)===null||Ee===void 0||Ee.flush(),(me=this._transmuxer)===null||me===void 0||me.close(),(pe=this._transmuxer)===null||pe===void 0||pe.destroy(),this._transmuxer=null},N.prototype.play=function(){return this._media_element.play()},N.prototype.pause=function(){this._media_element.pause()},N.prototype.seek=function(c){this._media_element&&this._seeking_handler?this._seeking_handler.seek(c):this._pending_seek_time=c},Object.defineProperty(N.prototype,"mediaInfo",{get:function(){return Object.assign({},this._media_info)},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"statisticsInfo",{get:function(){return Object.assign({},this._statistics_info)},enumerable:!1,configurable:!0}),N.prototype._onMSESourceOpen=function(){this._mse_source_opened=!0,this._has_pending_load&&(this._has_pending_load=!1,this.load())},N.prototype._onMSEUpdateEnd=function(){this._config.isLive&&this._config.liveBufferLatencyChasing&&this._live_latency_chaser&&this._live_latency_chaser.notifyBufferedRangeUpdate(),this._loading_controller.notifyBufferedPositionChanged()},N.prototype._onMSEBufferFull=function(){M.a.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._loading_controller.suspendTransmuxer()},N.prototype._onMSEError=function(c){this._emitter.emit(V.a.ERROR,Q.b.MEDIA_ERROR,Q.a.MEDIA_MSE_ERROR,c)},N.prototype._onMSEStartStreaming=function(){this._loaded_metadata_received&&(this._config.isLive||(M.a.v(this.TAG,"Resume transmuxing task due to ManagedMediaSource onStartStreaming"),this._loading_controller.resumeTransmuxer()))},N.prototype._onMSEEndStreaming=function(){this._config.isLive||(M.a.v(this.TAG,"Suspend transmuxing task due to ManagedMediaSource onEndStreaming"),this._loading_controller.suspendTransmuxer())},N.prototype._onMediaLoadedMetadata=function(c){this._loaded_metadata_received=!0,this._pending_seek_time!=null&&(this._seeking_handler.seek(this._pending_seek_time),this._pending_seek_time=null)},N.prototype._onRequestDirectSeek=function(c){this._seeking_handler.directSeek(c)},N.prototype._onRequiredUnbufferedSeek=function(c){this._mse_controller.flush(),this._transmuxer.seek(c)},N.prototype._onRequestPauseTransmuxer=function(){this._transmuxer.pause()},N.prototype._onRequestResumeTransmuxer=function(){this._transmuxer.resume()},N.prototype._fillStatisticsInfo=function(c){if(c.playerType="MSEPlayer",!(this._media_element instanceof HTMLVideoElement))return c;var v=!0,q=0,ae=0;if(this._media_element.getVideoPlaybackQuality){var _e=this._media_element.getVideoPlaybackQuality();q=_e.totalVideoFrames,ae=_e.droppedVideoFrames}else this._media_element.webkitDecodedFrameCount!=null?(q=this._media_element.webkitDecodedFrameCount,ae=this._media_element.webkitDroppedFrameCount):v=!1;return v&&(c.decodedFrames=q,c.droppedFrames=ae),c},N})(),Te=A(18),ye=A(8),be=(function(){function N(c,v){this.TAG="PlayerEngineDedicatedThread",this._emitter=new L,this._media_element=null,this._worker_destroying=!1,this._seeking_handler=null,this._loading_controller=null,this._startup_stall_jumper=null,this._live_latency_chaser=null,this._live_latency_synchronizer=null,this._pending_seek_time=null,this._media_info=null,this._statistics_info=null,this.e=null,this._media_data_source=c,this._config=y(),typeof v=="object"&&Object.assign(this._config,v),c.isLive===!0&&(this._config.isLive=!0),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this),onMediaLoadedMetadata:this._onMediaLoadedMetadata.bind(this),onMediaTimeUpdate:this._onMediaTimeUpdate.bind(this),onMediaReadyStateChanged:this._onMediaReadyStateChange.bind(this)},ye.a.registerListener(this.e.onLoggingConfigChanged),this._worker=Te(24,{all:!0}),this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",media_data_source:this._media_data_source,config:this._config}),this._worker.postMessage({cmd:"logging_config",logging_config:ye.a.getConfig()})}return N.isSupported=function(){return!!self.Worker&&(!(!self.MediaSource||!("canConstructInDedicatedWorker"in self.MediaSource)||self.MediaSource.canConstructInDedicatedWorker!==!0)||!(!self.ManagedMediaSource||!("canConstructInDedicatedWorker"in self.ManagedMediaSource)||self.ManagedMediaSource.canConstructInDedicatedWorker!==!0))},N.prototype.destroy=function(){this._emitter.emit(V.a.DESTROYING),this.unload(),this.detachMediaElement(),this._worker_destroying=!0,this._worker.postMessage({cmd:"destroy"}),ye.a.removeListener(this.e.onLoggingConfigChanged),this.e=null,this._media_data_source=null,this._emitter.removeAllListeners(),this._emitter=null},N.prototype.on=function(c,v){var q=this;this._emitter.addListener(c,v),c===V.a.MEDIA_INFO&&this._media_info?Promise.resolve().then((function(){return q._emitter.emit(V.a.MEDIA_INFO,q.mediaInfo)})):c==V.a.STATISTICS_INFO&&this._statistics_info&&Promise.resolve().then((function(){return q._emitter.emit(V.a.STATISTICS_INFO,q.statisticsInfo)}))},N.prototype.off=function(c,v){this._emitter.removeListener(c,v)},N.prototype.attachMediaElement=function(c){this._media_element=c,this._media_element.src="",this._media_element.removeAttribute("src"),this._media_element.srcObject=null,this._media_element.load(),this._media_element.addEventListener("loadedmetadata",this.e.onMediaLoadedMetadata),this._media_element.addEventListener("timeupdate",this.e.onMediaTimeUpdate),this._media_element.addEventListener("readystatechange",this.e.onMediaReadyStateChanged),this._worker.postMessage({cmd:"initialize_mse"})},N.prototype.detachMediaElement=function(){this._worker.postMessage({cmd:"shutdown_mse"}),this._media_element&&(this._media_element.removeEventListener("loadedmetadata",this.e.onMediaLoadedMetadata),this._media_element.removeEventListener("timeupdate",this.e.onMediaTimeUpdate),this._media_element.removeEventListener("readystatechange",this.e.onMediaReadyStateChanged),this._media_element.src="",this._media_element.removeAttribute("src"),this._media_element.srcObject=null,this._media_element.load(),this._media_element=null)},N.prototype.load=function(){this._worker.postMessage({cmd:"load"}),this._seeking_handler=new H(this._config,this._media_element,this._onRequiredUnbufferedSeek.bind(this)),this._loading_controller=new x(this._config,this._media_element,this._onRequestPauseTransmuxer.bind(this),this._onRequestResumeTransmuxer.bind(this)),this._startup_stall_jumper=new E(this._media_element,this._onRequestDirectSeek.bind(this)),this._config.isLive&&this._config.liveBufferLatencyChasing&&(this._live_latency_chaser=new T(this._config,this._media_element,this._onRequestDirectSeek.bind(this))),this._config.isLive&&this._config.liveSync&&(this._live_latency_synchronizer=new B(this._config,this._media_element)),this._media_element.readyState>0&&this._seeking_handler.directSeek(0)},N.prototype.unload=function(){var c,v,q,ae,_e,De;(c=this._media_element)===null||c===void 0||c.pause(),this._worker.postMessage({cmd:"unload"}),(v=this._live_latency_synchronizer)===null||v===void 0||v.destroy(),this._live_latency_synchronizer=null,(q=this._live_latency_chaser)===null||q===void 0||q.destroy(),this._live_latency_chaser=null,(ae=this._startup_stall_jumper)===null||ae===void 0||ae.destroy(),this._startup_stall_jumper=null,(_e=this._loading_controller)===null||_e===void 0||_e.destroy(),this._loading_controller=null,(De=this._seeking_handler)===null||De===void 0||De.destroy(),this._seeking_handler=null},N.prototype.play=function(){return this._media_element.play()},N.prototype.pause=function(){this._media_element.pause()},N.prototype.seek=function(c){this._media_element&&this._seeking_handler?this._seeking_handler.seek(c):this._pending_seek_time=c},Object.defineProperty(N.prototype,"mediaInfo",{get:function(){return Object.assign({},this._media_info)},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"statisticsInfo",{get:function(){return Object.assign({},this._statistics_info)},enumerable:!1,configurable:!0}),N.prototype._onLoggingConfigChanged=function(c){var v;(v=this._worker)===null||v===void 0||v.postMessage({cmd:"logging_config",logging_config:c})},N.prototype._onMSEUpdateEnd=function(){this._config.isLive&&this._config.liveBufferLatencyChasing&&this._live_latency_chaser&&this._live_latency_chaser.notifyBufferedRangeUpdate(),this._loading_controller.notifyBufferedPositionChanged()},N.prototype._onMSEBufferFull=function(){M.a.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._loading_controller.suspendTransmuxer()},N.prototype._onMediaLoadedMetadata=function(c){this._pending_seek_time!=null&&(this._seeking_handler.seek(this._pending_seek_time),this._pending_seek_time=null)},N.prototype._onRequestDirectSeek=function(c){this._seeking_handler.directSeek(c)},N.prototype._onRequiredUnbufferedSeek=function(c){this._worker.postMessage({cmd:"unbuffered_seek",milliseconds:c})},N.prototype._onRequestPauseTransmuxer=function(){this._worker.postMessage({cmd:"pause_transmuxer"})},N.prototype._onRequestResumeTransmuxer=function(){this._worker.postMessage({cmd:"resume_transmuxer"})},N.prototype._onMediaTimeUpdate=function(c){this._worker.postMessage({cmd:"timeupdate",current_time:c.target.currentTime})},N.prototype._onMediaReadyStateChange=function(c){this._worker.postMessage({cmd:"readystatechange",ready_state:c.target.readyState})},N.prototype._onWorkerMessage=function(c){var v,q=c.data,ae=q.msg;if(ae=="destroyed"||this._worker_destroying)return this._worker_destroying=!1,(v=this._worker)===null||v===void 0||v.terminate(),void(this._worker=null);switch(ae){case"mse_init":var _e=q;"ManagedMediaSource"in self&&!("MediaSource"in self)&&(this._media_element.disableRemotePlayback=!0),this._media_element.srcObject=_e.handle;break;case"mse_event":(_e=q).event==W.a.UPDATE_END?this._onMSEUpdateEnd():_e.event==W.a.BUFFER_FULL&&this._onMSEBufferFull();break;case"transmuxing_event":if((_e=q).event==I.a.MEDIA_INFO){var De=q;this._media_info=De.info,this._emitter.emit(V.a.MEDIA_INFO,Object.assign({},De.info))}else if(_e.event==I.a.STATISTICS_INFO){var Ee=q;this._statistics_info=this._fillStatisticsInfo(Ee.info),this._emitter.emit(V.a.STATISTICS_INFO,Object.assign({},Ee.info))}else if(_e.event==I.a.RECOMMEND_SEEKPOINT){var me=q;this._media_element&&!this._config.accurateSeek&&this._seeking_handler.directSeek(me.milliseconds/1e3)}break;case"player_event":if((_e=q).event==V.a.ERROR){var pe=q;this._emitter.emit(V.a.ERROR,pe.error_type,pe.error_detail,pe.info)}else if("extraData"in _e){var we=q;this._emitter.emit(we.event,we.extraData)}break;case"logcat_callback":_e=q,M.a.emitter.emit("log",_e.type,_e.logcat);break;case"buffered_position_changed":_e=q,this._loading_controller.notifyBufferedPositionChanged(_e.buffered_position_milliseconds/1e3)}},N.prototype._fillStatisticsInfo=function(c){if(c.playerType="MSEPlayer",!(this._media_element instanceof HTMLVideoElement))return c;var v=!0,q=0,ae=0;if(this._media_element.getVideoPlaybackQuality){var _e=this._media_element.getVideoPlaybackQuality();q=_e.totalVideoFrames,ae=_e.droppedVideoFrames}else this._media_element.webkitDecodedFrameCount!=null?(q=this._media_element.webkitDecodedFrameCount,ae=this._media_element.webkitDroppedFrameCount):v=!1;return v&&(c.decodedFrames=q,c.droppedFrames=ae),c},N})(),k=(function(){function N(c,v){this.TAG="MSEPlayer",this._type="MSEPlayer",this._media_element=null,this._player_engine=null;var q=c.type.toLowerCase();if(q!=="mse"&&q!=="mpegts"&&q!=="m2ts"&&q!=="flv")throw new ce.b("MSEPlayer requires an mpegts/m2ts/flv MediaDataSource input!");if(v&&v.enableWorkerForMSE&&be.isSupported())try{this._player_engine=new be(c,v)}catch{M.a.e(this.TAG,"Error while initializing PlayerEngineDedicatedThread, fallback to PlayerEngineMainThread"),this._player_engine=new oe(c,v)}else this._player_engine=new oe(c,v)}return N.prototype.destroy=function(){this._player_engine.destroy(),this._player_engine=null,this._media_element=null},N.prototype.on=function(c,v){this._player_engine.on(c,v)},N.prototype.off=function(c,v){this._player_engine.off(c,v)},N.prototype.attachMediaElement=function(c){this._media_element=c,this._player_engine.attachMediaElement(c)},N.prototype.detachMediaElement=function(){this._media_element=null,this._player_engine.detachMediaElement()},N.prototype.load=function(){this._player_engine.load()},N.prototype.unload=function(){this._player_engine.unload()},N.prototype.play=function(){return this._player_engine.play()},N.prototype.pause=function(){this._player_engine.pause()},Object.defineProperty(N.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"buffered",{get:function(){return this._media_element.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"duration",{get:function(){return this._media_element.duration},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"volume",{get:function(){return this._media_element.volume},set:function(c){this._media_element.volume=c},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"muted",{get:function(){return this._media_element.muted},set:function(c){this._media_element.muted=c},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"currentTime",{get:function(){return this._media_element?this._media_element.currentTime:0},set:function(c){this._player_engine.seek(c)},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"mediaInfo",{get:function(){return this._player_engine.mediaInfo},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"statisticsInfo",{get:function(){return this._player_engine.statisticsInfo},enumerable:!1,configurable:!0}),N})(),he=(function(){function N(c,v){this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new C.a,this._config=y(),typeof v=="object"&&Object.assign(this._config,v);var q=c.type.toLowerCase();if(q==="mse"||q==="mpegts"||q==="m2ts"||q==="flv")throw new ce.b("NativePlayer does't support mse/mpegts/m2ts/flv MediaDataSource input!");if(c.hasOwnProperty("segments"))throw new ce.b("NativePlayer(".concat(c.type,") doesn't support multipart playback!"));this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=c,this._mediaElement=null}return N.prototype.destroy=function(){this._emitter.emit(V.a.DESTROYING),this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},N.prototype.on=function(c,v){var q=this;c===V.a.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then((function(){q._emitter.emit(V.a.MEDIA_INFO,q.mediaInfo)})):c===V.a.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then((function(){q._emitter.emit(V.a.STATISTICS_INFO,q.statisticsInfo)})),this._emitter.addListener(c,v)},N.prototype.off=function(c,v){this._emitter.removeListener(c,v)},N.prototype.attachMediaElement=function(c){if(this._mediaElement=c,c.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{c.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},N.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},N.prototype.load=function(){if(!this._mediaElement)throw new ce.a("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},N.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},N.prototype.play=function(){return this._mediaElement.play()},N.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(N.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(c){this._mediaElement.volume=c},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(c){this._mediaElement.muted=c},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(c){this._mediaElement?this._mediaElement.currentTime=c:this._pendingSeekTime=c},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"mediaInfo",{get:function(){var c={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(c.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(c.width=this._mediaElement.videoWidth,c.height=this._mediaElement.videoHeight)),c},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"statisticsInfo",{get:function(){var c={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return c;var v=!0,q=0,ae=0;if(this._mediaElement.getVideoPlaybackQuality){var _e=this._mediaElement.getVideoPlaybackQuality();q=_e.totalVideoFrames,ae=_e.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(q=this._mediaElement.webkitDecodedFrameCount,ae=this._mediaElement.webkitDroppedFrameCount):v=!1;return v&&(c.decodedFrames=q,c.droppedFrames=ae),c},enumerable:!1,configurable:!0}),N.prototype._onvLoadedMetadata=function(c){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(V.a.MEDIA_INFO,this.mediaInfo)},N.prototype._reportStatisticsInfo=function(){this._emitter.emit(V.a.STATISTICS_INFO,this.statisticsInfo)},N})();P.a.install();var le={createPlayer:function(N,c){var v=N;if(v==null||typeof v!="object")throw new ce.b("MediaDataSource must be an javascript object!");if(!v.hasOwnProperty("type"))throw new ce.b("MediaDataSource must has type field to indicate video file type!");switch(v.type){case"mse":case"mpegts":case"m2ts":case"flv":return new k(v,c);default:return new he(v,c)}},isSupported:function(){return m.supportMSEH264Playback()},getFeatureList:function(){return m.getFeatureList()}};le.BaseLoader=S.a,le.LoaderStatus=S.c,le.LoaderErrors=S.b,le.Events=V.a,le.ErrorTypes=Q.b,le.ErrorDetails=Q.a,le.MSEPlayer=k,le.NativePlayer=he,le.LoggingControl=ye.a,Object.defineProperty(le,"version",{enumerable:!0,get:function(){return"1.8.0"}}),b.default=le}])}))})(iu)),iu.exports}var qf=bp();function Sp({url:te,isLive:ne=!0,autoplay:J=!0,muted:b=!1,onLoadingChange:A,onError:P,onPlayingChange:D}){const g=Ke.useRef(null),y=Ke.useRef(null),[m,S]=Ke.useState(!0),[M,L]=Ke.useState(null),[C,z]=Ke.useState(!0);return Ke.useEffect(()=>{if(!qf.getFeatureList().mseLivePlayback){z(!1),L("MPEG-TS playback is not supported in this browser");return}const K=g.current;if(!(!K||!te))try{const W=qf.createPlayer({type:"mpegts",url:te,isLive:ne});W.attachMediaElement(K),W.load(),y.current=W;const Q=()=>{S(!0),A?.(!0)},ce=()=>{S(!1),A?.(!1)},I=()=>{const H="Failed to load video stream";L(H),S(!1),P?.(H),A?.(!1)},$=()=>D?.(!0),re=()=>D?.(!1);return K.addEventListener("loadstart",Q),K.addEventListener("canplay",ce),K.addEventListener("error",I),K.addEventListener("play",$),K.addEventListener("pause",re),()=>{K.removeEventListener("loadstart",Q),K.removeEventListener("canplay",ce),K.removeEventListener("error",I),K.removeEventListener("play",$),K.removeEventListener("pause",re),y.current&&(y.current.destroy(),y.current=null)}}catch(W){const Q=`Failed to initialize player: ${W instanceof Error?W.message:"Unknown error"}`;L(Q),S(!1),P?.(Q),A?.(!1)}},[te,ne]),C?M?Le.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#000",color:"#fff"},children:Le.jsxs("p",{children:["Error: ",M]})}):Le.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[Le.jsx("video",{ref:g,autoPlay:J,muted:b,controls:!0,style:{width:"100%",height:"100%",display:"block",backgroundColor:"#000",objectFit:"contain"}}),m&&Le.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"#fff"},children:Le.jsx("p",{children:"Loading..."})})]}):Le.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#000",color:"#fff"},children:Le.jsx("p",{children:"MPEG-TS playback not supported"})})}var ru={exports:{}},kr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf;function Ep(){if(Yf)return kr;Yf=1;var te=Symbol.for("react.transitional.element"),ne=Symbol.for("react.fragment");function J(b,A,P){var D=null;if(P!==void 0&&(D=""+P),A.key!==void 0&&(D=""+A.key),"key"in A){P={};for(var g in A)g!=="key"&&(P[g]=A[g])}else P=A;return A=P.ref,{$$typeof:te,type:b,key:D,ref:A!==void 0?A:null,props:P}}return kr.Fragment=ne,kr.jsx=J,kr.jsxs=J,kr}var Ff;function Ap(){return Ff||(Ff=1,ru.exports=Ep()),ru.exports}var j=Ap(),su={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kf;function Rp(){if(Kf)return Ze;Kf=1;var te=Symbol.for("react.transitional.element"),ne=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),D=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.iterator;function L(c){return c===null||typeof c!="object"?null:(c=M&&c[M]||c["@@iterator"],typeof c=="function"?c:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,V={};function K(c,v,q){this.props=c,this.context=v,this.refs=V,this.updater=q||C}K.prototype.isReactComponent={},K.prototype.setState=function(c,v){if(typeof c!="object"&&typeof c!="function"&&c!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,c,v,"setState")},K.prototype.forceUpdate=function(c){this.updater.enqueueForceUpdate(this,c,"forceUpdate")};function W(){}W.prototype=K.prototype;function Q(c,v,q){this.props=c,this.context=v,this.refs=V,this.updater=q||C}var ce=Q.prototype=new W;ce.constructor=Q,z(ce,K.prototype),ce.isPureReactComponent=!0;var I=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},re=Object.prototype.hasOwnProperty;function H(c,v,q,ae,_e,De){return q=De.ref,{$$typeof:te,type:c,key:v,ref:q!==void 0?q:null,props:De}}function x(c,v){return H(c.type,v,void 0,void 0,void 0,c.props)}function E(c){return typeof c=="object"&&c!==null&&c.$$typeof===te}function T(c){var v={"=":"=0",":":"=2"};return"$"+c.replace(/[=:]/g,function(q){return v[q]})}var B=/\/+/g;function oe(c,v){return typeof c=="object"&&c!==null&&c.key!=null?T(""+c.key):v.toString(36)}function Te(){}function ye(c){switch(c.status){case"fulfilled":return c.value;case"rejected":throw c.reason;default:switch(typeof c.status=="string"?c.then(Te,Te):(c.status="pending",c.then(function(v){c.status==="pending"&&(c.status="fulfilled",c.value=v)},function(v){c.status==="pending"&&(c.status="rejected",c.reason=v)})),c.status){case"fulfilled":return c.value;case"rejected":throw c.reason}}throw c}function be(c,v,q,ae,_e){var De=typeof c;(De==="undefined"||De==="boolean")&&(c=null);var Ee=!1;if(c===null)Ee=!0;else switch(De){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(c.$$typeof){case te:case ne:Ee=!0;break;case S:return Ee=c._init,be(Ee(c._payload),v,q,ae,_e)}}if(Ee)return _e=_e(c),Ee=ae===""?"."+oe(c,0):ae,I(_e)?(q="",Ee!=null&&(q=Ee.replace(B,"$&/")+"/"),be(_e,v,q,"",function(we){return we})):_e!=null&&(E(_e)&&(_e=x(_e,q+(_e.key==null||c&&c.key===_e.key?"":(""+_e.key).replace(B,"$&/")+"/")+Ee)),v.push(_e)),1;Ee=0;var me=ae===""?".":ae+":";if(I(c))for(var pe=0;pe<c.length;pe++)ae=c[pe],De=me+oe(ae,pe),Ee+=be(ae,v,q,De,_e);else if(pe=L(c),typeof pe=="function")for(c=pe.call(c),pe=0;!(ae=c.next()).done;)ae=ae.value,De=me+oe(ae,pe++),Ee+=be(ae,v,q,De,_e);else if(De==="object"){if(typeof c.then=="function")return be(ye(c),v,q,ae,_e);throw v=String(c),Error("Objects are not valid as a React child (found: "+(v==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":v)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function k(c,v,q){if(c==null)return c;var ae=[],_e=0;return be(c,ae,"","",function(De){return v.call(q,De,_e++)}),ae}function he(c){if(c._status===-1){var v=c._result;v=v(),v.then(function(q){(c._status===0||c._status===-1)&&(c._status=1,c._result=q)},function(q){(c._status===0||c._status===-1)&&(c._status=2,c._result=q)}),c._status===-1&&(c._status=0,c._result=v)}if(c._status===1)return c._result.default;throw c._result}var le=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var v=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(v))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function N(){}return Ze.Children={map:k,forEach:function(c,v,q){k(c,function(){v.apply(this,arguments)},q)},count:function(c){var v=0;return k(c,function(){v++}),v},toArray:function(c){return k(c,function(v){return v})||[]},only:function(c){if(!E(c))throw Error("React.Children.only expected to receive a single React element child.");return c}},Ze.Component=K,Ze.Fragment=J,Ze.Profiler=A,Ze.PureComponent=Q,Ze.StrictMode=b,Ze.Suspense=y,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Ze.__COMPILER_RUNTIME={__proto__:null,c:function(c){return $.H.useMemoCache(c)}},Ze.cache=function(c){return function(){return c.apply(null,arguments)}},Ze.cloneElement=function(c,v,q){if(c==null)throw Error("The argument must be a React element, but you passed "+c+".");var ae=z({},c.props),_e=c.key,De=void 0;if(v!=null)for(Ee in v.ref!==void 0&&(De=void 0),v.key!==void 0&&(_e=""+v.key),v)!re.call(v,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&v.ref===void 0||(ae[Ee]=v[Ee]);var Ee=arguments.length-2;if(Ee===1)ae.children=q;else if(1<Ee){for(var me=Array(Ee),pe=0;pe<Ee;pe++)me[pe]=arguments[pe+2];ae.children=me}return H(c.type,_e,void 0,void 0,De,ae)},Ze.createContext=function(c){return c={$$typeof:D,_currentValue:c,_currentValue2:c,_threadCount:0,Provider:null,Consumer:null},c.Provider=c,c.Consumer={$$typeof:P,_context:c},c},Ze.createElement=function(c,v,q){var ae,_e={},De=null;if(v!=null)for(ae in v.key!==void 0&&(De=""+v.key),v)re.call(v,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(_e[ae]=v[ae]);var Ee=arguments.length-2;if(Ee===1)_e.children=q;else if(1<Ee){for(var me=Array(Ee),pe=0;pe<Ee;pe++)me[pe]=arguments[pe+2];_e.children=me}if(c&&c.defaultProps)for(ae in Ee=c.defaultProps,Ee)_e[ae]===void 0&&(_e[ae]=Ee[ae]);return H(c,De,void 0,void 0,null,_e)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(c){return{$$typeof:g,render:c}},Ze.isValidElement=E,Ze.lazy=function(c){return{$$typeof:S,_payload:{_status:-1,_result:c},_init:he}},Ze.memo=function(c,v){return{$$typeof:m,type:c,compare:v===void 0?null:v}},Ze.startTransition=function(c){var v=$.T,q={};$.T=q;try{var ae=c(),_e=$.S;_e!==null&&_e(q,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(N,le)}catch(De){le(De)}finally{$.T=v}},Ze.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Ze.use=function(c){return $.H.use(c)},Ze.useActionState=function(c,v,q){return $.H.useActionState(c,v,q)},Ze.useCallback=function(c,v){return $.H.useCallback(c,v)},Ze.useContext=function(c){return $.H.useContext(c)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(c,v){return $.H.useDeferredValue(c,v)},Ze.useEffect=function(c,v,q){var ae=$.H;if(typeof q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(c,v)},Ze.useId=function(){return $.H.useId()},Ze.useImperativeHandle=function(c,v,q){return $.H.useImperativeHandle(c,v,q)},Ze.useInsertionEffect=function(c,v){return $.H.useInsertionEffect(c,v)},Ze.useLayoutEffect=function(c,v){return $.H.useLayoutEffect(c,v)},Ze.useMemo=function(c,v){return $.H.useMemo(c,v)},Ze.useOptimistic=function(c,v){return $.H.useOptimistic(c,v)},Ze.useReducer=function(c,v,q){return $.H.useReducer(c,v,q)},Ze.useRef=function(c){return $.H.useRef(c)},Ze.useState=function(c){return $.H.useState(c)},Ze.useSyncExternalStore=function(c,v,q){return $.H.useSyncExternalStore(c,v,q)},Ze.useTransition=function(){return $.H.useTransition()},Ze.version="19.1.1",Ze}var Xf;function Tp(){return Xf||(Xf=1,su.exports=Rp()),su.exports}var dt=Tp();const jt=Jf(dt),Ja=jt.forwardRef(({children:te,variant:ne="primary",className:J="",...b},A)=>j.jsx("button",{ref:A,className:`btn ${ne==="primary"?"btn--primary":"btn--secondary"} ${J}`.trim(),...b,children:te}));Ja.displayName="Button";const ou=jt.forwardRef(({variant:te="default",size:ne="medium",className:J="",...b},A)=>j.jsx("input",{ref:A,className:`input ${te==="outline"?"input--outline":te==="filled"?"input--filled":"input--default"} ${ne==="small"?"input--small":ne==="large"?"input--large":"input--medium"} ${J}`.trim(),...b}));ou.displayName="TextInput";const xp=jt.forwardRef(({children:te,variant:ne="default",size:J="medium",required:b=!1,className:A="",...P},D)=>j.jsxs("label",{ref:D,className:`label ${ne==="bold"?"label--bold":ne==="muted"?"label--muted":"label--default"} ${J==="small"?"label--small":J==="large"?"label--large":"label--medium"} ${A}`.trim(),...P,children:[te,b&&j.jsx("span",{className:"label--required",children:"*"})]}));xp.displayName="Label";const Cp=jt.forwardRef(({title:te,subtitle:ne,variant:J="default",size:b="medium",backgroundImage:A,actions:P,className:D="",style:g,children:y,...m},S)=>{const M=J==="centered"?"hero--centered":J==="dark"?"hero--dark":"hero--default",L=b==="small"?"hero--small":b==="large"?"hero--large":"hero--medium",C={...g,...A&&{backgroundImage:`url(${A})`,backgroundSize:"cover",backgroundPosition:"center"}};return j.jsx("div",{ref:S,className:`hero ${M} ${L} ${D}`.trim(),style:C,...m,children:j.jsxs("div",{className:"hero__content",children:[j.jsx("h1",{className:"hero__title",children:te}),ne&&j.jsx("p",{className:"hero__subtitle",children:ne}),P&&j.jsx("div",{className:"hero__actions",children:P}),y]})})});Cp.displayName="Hero";const Wf=jt.forwardRef(({isOpen:te=!1,size:ne="medium",onToggle:J,className:b="",...A},P)=>j.jsxs("button",{ref:P,className:`hamburger ${ne==="small"?"hamburger--small":ne==="large"?"hamburger--large":"hamburger--medium"} ${te?"hamburger--open":""} ${b}`.trim(),onClick:J,"aria-label":te?"Close menu":"Open menu","aria-expanded":te,...A,children:[j.jsx("span",{className:"hamburger__line"}),j.jsx("span",{className:"hamburger__line"}),j.jsx("span",{className:"hamburger__line"})]}));Wf.displayName="HamburgerMenu";const $f=jt.forwardRef(({userName:te,userIcon:ne,subtitle:J,size:b="medium",onClick:A,className:P="",...D},g)=>{const y=b==="small"?"user-section--small":b==="large"?"user-section--large":"user-section--medium",m=A?"user-section--clickable":"",S=()=>{if(typeof ne=="string")return j.jsx("img",{src:ne,alt:`${te} avatar`,className:"user-section__avatar",style:{width:b==="small"?"32px":b==="large"?"56px":"44px",height:b==="small"?"32px":b==="large"?"56px":"44px",borderRadius:"50%",objectFit:"cover",border:"2px solid rgba(255, 255, 255, 0.2)",backgroundColor:"rgba(255, 255, 255, 0.1)"}});if(ne)return j.jsx("div",{className:"user-section__icon",style:{width:b==="small"?"32px":b==="large"?"56px":"44px",height:b==="small"?"32px":b==="large"?"56px":"44px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(59, 130, 246, 0.2)",border:"2px solid rgba(59, 130, 246, 0.3)",fontSize:b==="small"?"16px":b==="large"?"24px":"20px"},children:ne});{const M=te.split(" ").map(L=>L.charAt(0)).join("").toUpperCase().slice(0,2);return j.jsx("div",{className:"user-section__avatar user-section__avatar--default",style:{width:b==="small"?"32px":b==="large"?"56px":"44px",height:b==="small"?"32px":b==="large"?"56px":"44px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(34, 197, 94, 0.2)",border:"2px solid rgba(34, 197, 94, 0.3)",color:"#22c55e",fontSize:b==="small"?"12px":b==="large"?"20px":"16px",fontWeight:"600"},children:M})}};return j.jsxs("div",{ref:g,className:`user-section ${y} ${m} ${P}`.trim(),onClick:A,role:A?"button":void 0,tabIndex:A?0:void 0,style:{display:"flex",alignItems:"center",gap:"12px",padding:A?"4px":"0",borderRadius:A?"8px":"0",cursor:A?"pointer":"default",transition:"background-color 0.2s",...A?{background:"transparent"}:{}},onMouseOver:A?M=>M.target.style.backgroundColor="rgba(255, 255, 255, 0.08)":void 0,onMouseOut:A?M=>M.target.style.backgroundColor="transparent":void 0,...D,children:[S(),j.jsxs("div",{className:"user-section__info",style:{flex:1,minWidth:0},children:[j.jsx("div",{className:"user-section__name",style:{fontSize:b==="small"?"14px":b==="large"?"18px":"16px",fontWeight:"600",color:"#ffffff",marginBottom:J?"2px":"0",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:te}),J&&j.jsx("div",{className:"user-section__subtitle",style:{fontSize:b==="small"?"11px":b==="large"?"14px":"12px",color:"rgba(255, 255, 255, 0.7)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:J})]})]})});$f.displayName="UserSection";const eh=jt.forwardRef(({groups:te=[],selectedGroupId:ne,onGroupSelect:J,placeholder:b="Select a group",disabled:A=!1,className:P="",...D},g)=>{const[y,m]=dt.useState(!1),S=te.find(z=>z.id===ne),M=()=>{A||m(!y)},L=z=>{J?.(z),m(!1)},C=z=>{z.key==="Escape"&&m(!1)};return j.jsxs("div",{ref:g,className:`group-selector ${y?"group-selector--open":""} ${A?"group-selector--disabled":""} ${P}`.trim(),onKeyDown:C,style:{position:"relative",display:"flex",flexDirection:"column"},...D,children:[j.jsxs("button",{className:"group-selector__trigger",onClick:M,disabled:A,"aria-expanded":y,"aria-haspopup":"listbox",style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",padding:"12px 16px",color:"#ffffff",fontSize:"14px",cursor:A?"not-allowed":"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"space-between",...A?{opacity:.5}:{},...y?{borderColor:"rgba(59, 130, 246, 0.5)",boxShadow:"0 0 0 1px rgba(59, 130, 246, 0.2)"}:{}},onMouseOver:A?void 0:z=>{y||(z.target.style.borderColor="rgba(255, 255, 255, 0.3)")},onMouseOut:A?void 0:z=>{y||(z.target.style.borderColor="rgba(255, 255, 255, 0.2)")},children:[j.jsx("div",{className:"group-selector__content",style:{flex:1},children:S?j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"group-selector__name",style:{fontSize:"14px",fontWeight:"600",color:"#ffffff",marginBottom:"2px"},children:S.name}),j.jsxs("div",{className:"group-selector__count",style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:[S.channelCount," channels"]})]}):j.jsx("div",{className:"group-selector__placeholder",style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"14px"},children:b})}),j.jsx("div",{className:"group-selector__arrow",style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)",transform:y?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:"▼"})]}),y&&j.jsx("div",{className:"group-selector__dropdown",style:{position:"absolute",top:"100%",left:0,right:0,zIndex:1e3,background:"rgba(30, 30, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",marginTop:"4px",maxHeight:"300px",overflowY:"auto"},children:te.length===0?j.jsx("div",{className:"group-selector__empty",style:{padding:"16px",color:"rgba(255, 255, 255, 0.6)",fontSize:"14px",textAlign:"center"},children:"No groups available"}):te.map(z=>{const V=ne===z.id;return j.jsxs("div",{className:`group-selector__option ${V?"group-selector__option--selected":""}`.trim(),onClick:()=>L(z),style:{padding:"12px 16px",cursor:"pointer",transition:"background-color 0.2s",borderBottom:"1px solid rgba(255, 255, 255, 0.05)",background:V?"rgba(59, 130, 246, 0.2)":"transparent"},onMouseOver:K=>{V||(K.target.style.backgroundColor="rgba(255, 255, 255, 0.05)")},onMouseOut:K=>{V||(K.target.style.backgroundColor="transparent")},children:[j.jsx("div",{className:"group-selector__option-name",style:{fontSize:"14px",fontWeight:"600",color:"#ffffff",marginBottom:"2px"},children:z.name}),j.jsxs("div",{className:"group-selector__option-count",style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:[z.channelCount," channels"]})]},z.id)})})]})});eh.displayName="GroupSelector";const Mp=[{id:"1",name:"BBC One HD",logo:"🎬",category:"Entertainment",isLive:!0},{id:"2",name:"CNN International",logo:"📺",category:"News",isLive:!0},{id:"3",name:"Discovery Channel",logo:"🌍",category:"Documentary",isLive:!0},{id:"4",name:"ESPN HD",logo:"⚽",category:"Sports",isLive:!1},{id:"5",name:"National Geographic",logo:"🦁",category:"Documentary",isLive:!0},{id:"6",name:"MTV",logo:"🎵",category:"Music",isLive:!0},{id:"7",name:"Food Network",logo:"🍳",category:"Lifestyle",isLive:!0},{id:"8",name:"Comedy Central",logo:"😂",category:"Entertainment",isLive:!1},{id:"9",name:"Sky News",logo:"📰",category:"News",isLive:!0},{id:"10",name:"Animal Planet",logo:"🐾",category:"Documentary",isLive:!0}],th=jt.forwardRef(({channels:te=Mp,selectedChannelId:ne,onChannelSelect:J,showCategories:b=!0,maxHeight:A="400px",groups:P=[],selectedGroupId:D,onGroupSelect:g,showGroupSelection:y=!0,className:m="",...S},M)=>{const L=jt.useMemo(()=>b?te.reduce((V,K)=>{const W=K.category||"Uncategorized";return V[W]||(V[W]=[]),V[W].push(K),V},{}):{"All Channels":te},[te,b]),C=V=>{J?.(V)},z=V=>{const K=ne===V.id,W=K?"playlist__channel--selected":"",Q=V.isLive?"playlist__channel--live":"";return j.jsx("div",{className:`playlist__channel ${W} ${Q}`.trim(),onClick:()=>C(V),role:"button",tabIndex:0,onKeyDown:ce=>{(ce.key==="Enter"||ce.key===" ")&&(ce.preventDefault(),C(V))},style:{display:"flex",alignItems:"center",padding:"12px",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s",border:"1px solid rgba(255, 255, 255, 0.1)",background:K?"rgba(59, 130, 246, 0.2)":"rgba(255, 255, 255, 0.05)",...K?{borderColor:"rgba(59, 130, 246, 0.4)",boxShadow:"0 0 0 1px rgba(59, 130, 246, 0.2)"}:{}},onMouseOver:ce=>{K||(ce.target.style.background="rgba(255, 255, 255, 0.1)",ce.target.style.borderColor="rgba(255, 255, 255, 0.2)")},onMouseOut:ce=>{K||(ce.target.style.background="rgba(255, 255, 255, 0.05)",ce.target.style.borderColor="rgba(255, 255, 255, 0.1)")},children:j.jsxs("div",{className:"playlist__channel-info",style:{display:"flex",alignItems:"center",gap:"12px",flex:1,minWidth:0},children:[j.jsxs("div",{style:{flex:1,minWidth:0},children:[j.jsx("div",{className:"playlist__channel-name",style:{fontSize:"14px",fontWeight:"600",color:"#ffffff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginBottom:"2px"},children:V.name}),V.category&&j.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:V.category})]}),V.isLive&&j.jsx("div",{className:"playlist__channel-status",style:{background:"rgba(34, 197, 94, 0.2)",color:"#22c55e",fontSize:"10px",fontWeight:"600",padding:"4px 8px",borderRadius:"12px",border:"1px solid rgba(34, 197, 94, 0.3)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"LIVE"})]})},V.id)};return j.jsxs("div",{ref:M,className:`playlist ${m}`.trim(),style:{maxHeight:A,display:"flex",flexDirection:"column"},...S,children:[j.jsx("div",{className:"playlist__header",style:{marginBottom:"16px"},children:y?j.jsxs(j.Fragment,{children:[j.jsx("h3",{className:"playlist__title",style:{margin:"0 0 12px 0",fontSize:"16px",fontWeight:"600",color:"#ffffff",display:"flex",alignItems:"center",gap:"8px"},children:"📁 Select Group"}),j.jsx(eh,{groups:P,selectedGroupId:D,onGroupSelect:g,placeholder:"Choose channel group"})]}):j.jsxs("h3",{className:"playlist__title",style:{margin:"0",fontSize:"16px",fontWeight:"600",color:"#ffffff",display:"flex",alignItems:"center",gap:"8px"},children:["📺 ",te.length," Channels"]})}),j.jsx("div",{className:"playlist__content",style:{overflowY:"auto",flex:1},children:y&&!D?j.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px 20px",color:"rgba(255, 255, 255, 0.6)",fontSize:"14px",textAlign:"center"},children:"👆 Select a group above to view channels"}):Object.entries(L).map(([V,K])=>j.jsxs("div",{className:"playlist__category",style:{marginBottom:b?"20px":"0"},children:[b&&j.jsx("div",{className:"playlist__category-header",style:{fontSize:"14px",fontWeight:"600",color:"rgba(255, 255, 255, 0.8)",marginBottom:"12px",padding:"8px 12px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:V}),j.jsx("div",{className:"playlist__channels",style:{display:"flex",flexDirection:"column",gap:"8px"},children:K.map(z)})]},V))})]})});th.displayName="PlayListSection";const Dp=[{id:"1",name:"Premium Package",url:"https://example.com/premium.m3u",channelCount:1250,isActive:!0,lastUpdated:new Date("2024-01-15")},{id:"2",name:"Sports Only",url:"https://example.com/sports.m3u",channelCount:180,isActive:!0,lastUpdated:new Date("2024-01-14")},{id:"3",name:"Basic Package",url:"https://example.com/basic.m3u",channelCount:450,isActive:!1,lastUpdated:new Date("2024-01-10")},{id:"4",name:"International",url:"https://example.com/international.m3u",channelCount:890,isActive:!0,lastUpdated:new Date("2024-01-12")}],ah=jt.forwardRef(({playlists:te=Dp,selectedPlaylistId:ne,onPlaylistSelect:J,disabled:b=!1,placeholder:A="Select a playlist...",className:P="",...D},g)=>{const[y,m]=dt.useState(!1),S=te.find(z=>z.id===ne),M=()=>{b||m(!y)},L=z=>{J?.(z),m(!1)},C=z=>{z.key==="Escape"&&m(!1)};return jt.useEffect(()=>{const z=V=>{const K=V.target;g&&"current"in g&&g.current&&!g.current.contains(K)&&m(!1)};if(y)return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[y,g]),j.jsxs("div",{ref:g,className:`playlist-selector ${y?"playlist-selector--open":""} ${b?"playlist-selector--disabled":""} ${P}`.trim(),onKeyDown:C,...D,children:[j.jsxs("button",{className:"playlist-selector__trigger",onClick:M,disabled:b,"aria-expanded":y,"aria-haspopup":"listbox",style:{width:"80%",margin:"0 auto"},children:[j.jsx("div",{className:"playlist-selector__content",children:S?j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"playlist-selector__name",children:S.name}),j.jsxs("div",{className:"playlist-selector__info",children:[S.channelCount," channels",!S.isActive&&j.jsx("span",{className:"playlist-selector__status",children:"• Inactive"})]})]}):j.jsx("div",{className:"playlist-selector__placeholder",children:A})}),j.jsx("div",{className:"playlist-selector__arrow",children:"▼"})]}),y&&j.jsx("div",{className:"playlist-selector__dropdown",role:"listbox",children:te.map(z=>{const V=ne===z.id,K=V?"playlist-selector__option--selected":"",W=z.isActive?"":"playlist-selector__option--inactive";return j.jsxs("div",{className:`playlist-selector__option ${K} ${W}`.trim(),onClick:()=>L(z),role:"option","aria-selected":V,tabIndex:0,onKeyDown:Q=>{(Q.key==="Enter"||Q.key===" ")&&(Q.preventDefault(),L(z))},children:[j.jsxs("div",{className:"playlist-selector__option-content",children:[j.jsxs("div",{className:"playlist-selector__option-name",children:[z.name,!z.isActive&&j.jsx("span",{className:"playlist-selector__option-badge",children:"Inactive"})]}),j.jsxs("div",{className:"playlist-selector__option-info",children:[z.channelCount," channels • Updated"," ",z.lastUpdated?.toLocaleDateString()]})]}),V&&j.jsx("div",{className:"playlist-selector__check",children:"✓"})]},z.id)})})]})});ah.displayName="PlaylistSelector";const nh=jt.forwardRef(({isOpen:te,onClose:ne,playlists:J=[],onPlaylistsUpdate:b,onFileUpload:A,className:P="",...D},g)=>{const[y,m]=dt.useState(""),[S,M]=dt.useState(""),[L,C]=dt.useState(!1),[z,V]=dt.useState("url"),[K,W]=dt.useState(!1),[Q,ce]=dt.useState(null),[I,$]=dt.useState(null),[re,H]=dt.useState(""),x=dt.useRef(null),E=async()=>{if(z==="url"&&y.trim()&&S.trim()){const k={id:`playlist-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,name:y.trim(),url:S.trim(),channelCount:Math.floor(Math.random()*1e3)+100,isActive:!0,lastUpdated:new Date};b?.([...J,k]),oe()}else z==="file"&&y.trim()&&I&&await B()},T=k=>{const he=k.target.files?.[0];if(!he){$(null),ce(null);return}if(!he.name.toLowerCase().endsWith(".m3u")&&!he.name.toLowerCase().endsWith(".m3u8")){ce("Please select a valid M3U file (.m3u or .m3u8)"),$(null);return}$(he),ce(null)},B=async()=>{if(!(!I||!y.trim())){W(!0),ce(null),H("");try{H("Reading file..."),await new Promise(le=>setTimeout(le,100));const k=await I.text(),he=(k.length/(1024*1024)).toFixed(1);if(console.log("File content loaded, size:",k.length,`(${he} MB)`),H(`Parsing M3U content (${he} MB)...`),await new Promise(le=>setTimeout(le,200)),A)H("Saving to IndexedDB..."),await A(y.trim(),k),console.log("File upload callback completed");else{H("Creating playlist entry...");const le={id:`playlist-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,name:y.trim(),url:void 0,channelCount:Math.floor(Math.random()*1e3)+100,isActive:!0,lastUpdated:new Date};b?.([...J,le]),console.log("Mock playlist created:",le)}H("Upload complete!"),await new Promise(le=>setTimeout(le,500)),oe()}catch(k){console.error("File upload error:",k),ce(k instanceof Error?k.message:"Failed to upload file"),H("")}finally{W(!1),H("")}}},oe=()=>{m(""),M(""),$(null),C(!1),ce(null),H(""),x.current&&(x.current.value="")},Te=k=>{b?.(J.filter(he=>he.id!==k))},ye=k=>{b?.(J.map(he=>he.id===k?{...he,isActive:!he.isActive}:he))};if(!te)return null;if(!document.querySelector("#modal-spinner-styles")){const k=document.createElement("style");k.id="modal-spinner-styles",k.textContent=`
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
            `,document.head.appendChild(k)}const be=j.jsx("div",{className:"modal-overlay",onClick:ne,style:{pointerEvents:"auto",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",width:"100vw",height:"100vh",zIndex:"10000",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.6)",margin:"0",padding:"16px",boxSizing:"border-box"},children:j.jsxs("div",{ref:g,className:`modal playlist-manager-modal ${P}`.trim(),onClick:k=>k.stopPropagation(),style:{backgroundColor:"rgba(30, 30, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.5)",color:"#ffffff",maxHeight:"90vh",overflow:"hidden",width:"600px",maxWidth:"90vw"},...D,children:[j.jsxs("div",{className:"modal__header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"24px 24px 0 24px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",marginBottom:"24px"},children:[j.jsx("h2",{className:"modal__title",style:{margin:"0",fontSize:"24px",fontWeight:"600",color:"#ffffff"},children:"Manage Playlists"}),j.jsx("button",{className:"modal__close",onClick:ne,style:{background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"8px",color:"#ffffff",cursor:"pointer",fontSize:"20px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s"},onMouseOver:k=>k.target.style.backgroundColor="rgba(255, 255, 255, 0.2)",onMouseOut:k=>k.target.style.backgroundColor="rgba(255, 255, 255, 0.1)",children:"×"})]}),j.jsxs("div",{className:"modal__content",style:{padding:"0 24px 24px 24px"},children:[j.jsx("div",{className:"playlist-manager__list",style:{display:"flex",flexDirection:"column",gap:"12px",marginBottom:"24px",maxHeight:"400px",overflowY:"auto"},children:J.map(k=>j.jsxs("div",{className:"playlist-manager__item",style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",padding:"16px",display:"flex",justifyContent:"space-between",alignItems:"center",transition:"background-color 0.2s",...k.isActive?{background:"rgba(59, 130, 246, 0.2)",border:"1px solid rgba(59, 130, 246, 0.3)"}:{}},children:[j.jsxs("div",{className:"playlist-manager__info",style:{flex:1},children:[j.jsxs("div",{className:"playlist-manager__name",style:{fontSize:"16px",fontWeight:"600",color:"#ffffff",marginBottom:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[k.name,k.isActive&&j.jsx("span",{style:{background:"rgba(34, 197, 94, 0.2)",color:"#22c55e",fontSize:"12px",padding:"2px 8px",borderRadius:"12px",border:"1px solid rgba(34, 197, 94, 0.3)"},children:"Active"})]}),j.jsxs("div",{className:"playlist-manager__details",style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.7)",wordBreak:"break-all"},children:[k.channelCount," channels • ",k.url]})]}),j.jsxs("div",{className:"playlist-manager__actions",style:{display:"flex",gap:"8px",marginLeft:"16px"},children:[j.jsx("button",{onClick:()=>ye(k.id),style:{background:k.isActive?"rgba(239, 68, 68, 0.2)":"rgba(34, 197, 94, 0.2)",border:k.isActive?"1px solid rgba(239, 68, 68, 0.3)":"1px solid rgba(34, 197, 94, 0.3)",color:k.isActive?"#ef4444":"#22c55e",borderRadius:"6px",padding:"8px 12px",fontSize:"14px",cursor:"pointer",transition:"all 0.2s"},children:k.isActive?"Deactivate":"Activate"}),j.jsx("button",{onClick:()=>Te(k.id),style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"#ef4444",borderRadius:"6px",padding:"8px 12px",fontSize:"14px",cursor:"pointer",transition:"all 0.2s"},children:"Delete"})]})]},k.id))}),L?j.jsxs("div",{className:"playlist-manager__form",style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",padding:"20px"},children:[j.jsxs("div",{className:"form-field",style:{marginBottom:"20px"},children:[j.jsx("label",{style:{display:"block",color:"#ffffff",fontSize:"14px",fontWeight:"500",marginBottom:"12px"},children:"Add Method"}),j.jsxs("div",{style:{display:"flex",gap:"12px"},children:[j.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 16px",borderRadius:"8px",border:`2px solid ${z==="url"?"rgba(59, 130, 246, 0.5)":"rgba(255, 255, 255, 0.2)"}`,background:z==="url"?"rgba(59, 130, 246, 0.1)":"rgba(255, 255, 255, 0.05)",cursor:"pointer",transition:"all 0.2s",flex:1},children:[j.jsx("input",{type:"radio",value:"url",checked:z==="url",onChange:k=>V(k.target.value),style:{margin:0}}),j.jsx("span",{style:{color:"#ffffff",fontSize:"14px",fontWeight:"500"},children:"🌐 From URL"})]}),j.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 16px",borderRadius:"8px",border:`2px solid ${z==="file"?"rgba(59, 130, 246, 0.5)":"rgba(255, 255, 255, 0.2)"}`,background:z==="file"?"rgba(59, 130, 246, 0.1)":"rgba(255, 255, 255, 0.05)",cursor:"pointer",transition:"all 0.2s",flex:1},children:[j.jsx("input",{type:"radio",value:"file",checked:z==="file",onChange:k=>V(k.target.value),style:{margin:0}}),j.jsx("span",{style:{color:"#ffffff",fontSize:"14px",fontWeight:"500"},children:"📁 Upload File"})]})]})]}),j.jsxs("div",{className:"form-field",style:{marginBottom:"16px"},children:[j.jsx("label",{htmlFor:"playlist-name",style:{display:"block",color:"#ffffff",fontSize:"14px",fontWeight:"500",marginBottom:"8px"},children:"Playlist Name"}),j.jsx("input",{id:"playlist-name",type:"text",value:y,onChange:k=>{m(k.target.value),ce(null)},placeholder:"Enter playlist name",disabled:K,style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",padding:"12px",color:"#ffffff",fontSize:"14px",outline:"none",transition:"border-color 0.2s",opacity:K?.6:1},onFocus:k=>k.target.style.borderColor="rgba(59, 130, 246, 0.5)",onBlur:k=>k.target.style.borderColor="rgba(255, 255, 255, 0.2)"})]}),z==="url"?j.jsxs("div",{className:"form-field",style:{marginBottom:"20px"},children:[j.jsx("label",{htmlFor:"playlist-url",style:{display:"block",color:"#ffffff",fontSize:"14px",fontWeight:"500",marginBottom:"8px"},children:"M3U URL"}),j.jsx("input",{id:"playlist-url",type:"url",value:S,onChange:k=>M(k.target.value),placeholder:"https://example.com/playlist.m3u",style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",padding:"12px",color:"#ffffff",fontSize:"14px",outline:"none",transition:"border-color 0.2s"},onFocus:k=>k.target.style.borderColor="rgba(59, 130, 246, 0.5)",onBlur:k=>k.target.style.borderColor="rgba(255, 255, 255, 0.2)"})]}):j.jsxs("div",{className:"form-field",style:{marginBottom:"20px"},children:[j.jsx("label",{htmlFor:"playlist-file",style:{display:"block",color:"#ffffff",fontSize:"14px",fontWeight:"500",marginBottom:"8px"},children:"M3U File"}),j.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[j.jsx("input",{ref:x,id:"playlist-file",type:"file",accept:".m3u,.m3u8",onChange:T,disabled:K,style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",padding:"12px",color:"#ffffff",fontSize:"14px",outline:"none",transition:"border-color 0.2s",opacity:K?.6:1,cursor:K?"not-allowed":"pointer"},onFocus:k=>k.target.style.borderColor="rgba(59, 130, 246, 0.5)",onBlur:k=>k.target.style.borderColor="rgba(255, 255, 255, 0.2)"}),K&&j.jsx("div",{style:{position:"absolute",right:"12px",color:"rgba(255, 255, 255, 0.7)",fontSize:"14px"},children:"Uploading..."})]})]}),Q&&j.jsx("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"6px",padding:"12px",marginBottom:"20px",color:"#ef4444",fontSize:"14px"},children:Q}),K&&re&&j.jsxs("div",{style:{background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"6px",padding:"12px",marginBottom:"20px",color:"#3b82f6",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"},children:[j.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid rgba(59, 130, 246, 0.3)",borderTop:"2px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"}}),re]}),j.jsxs("div",{className:"form-actions",style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[j.jsx("button",{onClick:oe,disabled:K,style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"#ffffff",borderRadius:"6px",padding:"10px 16px",fontSize:"14px",cursor:K?"not-allowed":"pointer",transition:"all 0.2s",opacity:K?.6:1},children:"Cancel"}),j.jsx("button",{onClick:E,disabled:K||!y.trim()||z==="url"&&!S.trim()||z==="file"&&!I,style:{background:!K&&y.trim()&&(z==="file"&&I||z==="url"&&S.trim())?"rgba(34, 197, 94, 0.2)":"rgba(255, 255, 255, 0.05)",border:!K&&y.trim()&&(z==="file"&&I||z==="url"&&S.trim())?"1px solid rgba(34, 197, 94, 0.3)":"1px solid rgba(255, 255, 255, 0.1)",color:!K&&y.trim()&&(z==="file"&&I||z==="url"&&S.trim())?"#22c55e":"rgba(255, 255, 255, 0.5)",borderRadius:"6px",padding:"10px 16px",fontSize:"14px",fontWeight:"500",cursor:!K&&y.trim()&&(z==="file"&&I||z==="url"&&S.trim())?"pointer":"not-allowed",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px"},children:K?j.jsx(j.Fragment,{children:j.jsx("span",{children:"Processing..."})}):z==="url"?"Add Playlist":"Upload & Add"})]})]}):j.jsx("button",{onClick:()=>C(!0),style:{width:"100%",background:"rgba(59, 130, 246, 0.2)",border:"1px solid rgba(59, 130, 246, 0.3)",color:"#3b82f6",borderRadius:"8px",padding:"16px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseOver:k=>{k.target.style.background="rgba(59, 130, 246, 0.3)",k.target.style.borderColor="rgba(59, 130, 246, 0.4)"},onMouseOut:k=>{k.target.style.background="rgba(59, 130, 246, 0.2)",k.target.style.borderColor="rgba(59, 130, 246, 0.3)"},children:"+ Add New Playlist"})]})]})});return Fs(be,document.body)});nh.displayName="PlaylistManagerModal";const Qf={volume:80,autoplay:!0,bufferSize:30,retryAttempts:3,preferredQuality:"auto",enableSubtitles:!1,subtitleLanguage:"en"},ih=jt.forwardRef(({isOpen:te,onClose:ne,settings:J=Qf,onSettingsUpdate:b,className:A="",...P},D)=>{const[g,y]=dt.useState(J),m=()=>{b?.(g),ne()},S=()=>{y(Qf)},M=(C,z)=>{y(V=>({...V,[C]:z}))};if(!te)return null;const L=j.jsx("div",{className:"modal-overlay",onClick:ne,style:{pointerEvents:"auto",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",width:"100vw",height:"100vh",zIndex:"10000",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.6)",margin:"0",padding:"16px",boxSizing:"border-box"},children:j.jsxs("div",{ref:D,className:`modal playback-settings-modal ${A}`.trim(),onClick:C=>C.stopPropagation(),style:{backgroundColor:"rgba(30, 30, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.5)",color:"#ffffff",maxHeight:"90vh",overflow:"hidden",width:"500px",maxWidth:"90vw"},...P,children:[j.jsxs("div",{className:"modal__header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"24px 24px 0 24px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",marginBottom:"24px"},children:[j.jsx("h2",{className:"modal__title",style:{margin:"0",fontSize:"24px",fontWeight:"600",color:"#ffffff"},children:"Playback Settings"}),j.jsx("button",{className:"modal__close",onClick:ne,style:{background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"8px",color:"#ffffff",cursor:"pointer",fontSize:"20px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s"},onMouseOver:C=>C.target.style.backgroundColor="rgba(255, 255, 255, 0.2)",onMouseOut:C=>C.target.style.backgroundColor="rgba(255, 255, 255, 0.1)",children:"×"})]}),j.jsx("div",{className:"modal__content",style:{padding:"0 24px 24px 24px"},children:j.jsxs("div",{className:"settings-form",style:{display:"flex",flexDirection:"column",gap:"24px"},children:[j.jsxs("div",{className:"form-section",style:{background:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.08)",borderRadius:"12px",padding:"20px"},children:[j.jsx("h3",{className:"form-section__title",style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:"600",color:"#ffffff"},children:"Audio & Video"}),j.jsxs("div",{className:"form-field",style:{marginBottom:"16px"},children:[j.jsxs("label",{htmlFor:"volume",style:{display:"block",color:"#ffffff",fontSize:"14px",fontWeight:"500",marginBottom:"8px"},children:["Volume (",g.volume,"%)"]}),j.jsx("input",{type:"range",id:"volume",min:"0",max:"100",value:g.volume,onChange:C=>M("volume",parseInt(C.target.value)),style:{width:"100%",height:"6px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"3px",outline:"none",appearance:"none",cursor:"pointer"}})]}),j.jsxs("div",{className:"form-field",style:{marginBottom:"16px"},children:[j.jsx("label",{style:{display:"block",color:"#ffffff",fontSize:"14px",fontWeight:"500",marginBottom:"8px"},children:"Preferred Quality"}),j.jsxs("select",{value:g.preferredQuality,onChange:C=>M("preferredQuality",C.target.value),style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",padding:"12px",color:"#ffffff",fontSize:"14px",outline:"none",transition:"border-color 0.2s",cursor:"pointer"},onFocus:C=>C.target.style.borderColor="rgba(59, 130, 246, 0.5)",onBlur:C=>C.target.style.borderColor="rgba(255, 255, 255, 0.2)",children:[j.jsx("option",{value:"auto",children:"Auto (Recommended)"}),j.jsx("option",{value:"high",children:"High (1080p+)"}),j.jsx("option",{value:"medium",children:"Medium (720p)"}),j.jsx("option",{value:"low",children:"Low (480p)"})]})]}),j.jsx("div",{className:"form-field",children:j.jsxs("label",{className:"checkbox-field",style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",fontSize:"14px",color:"#ffffff"},children:[j.jsx("input",{type:"checkbox",checked:g.autoplay,onChange:C=>M("autoplay",C.target.checked),style:{width:"16px",height:"16px",cursor:"pointer"}}),j.jsx("span",{children:"Autoplay channels"})]})})]}),j.jsxs("div",{className:"form-section",style:{background:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.08)",borderRadius:"12px",padding:"20px"},children:[j.jsx("h3",{className:"form-section__title",style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:"600",color:"#ffffff"},children:"Buffering & Connection"}),j.jsxs("div",{className:"form-field",style:{marginBottom:"16px"},children:[j.jsx("label",{htmlFor:"buffer-size",style:{display:"block",color:"#ffffff",fontSize:"14px",fontWeight:"500",marginBottom:"8px"},children:"Buffer Size (seconds)"}),j.jsx("input",{id:"buffer-size",type:"number",min:"10",max:"120",value:g.bufferSize.toString(),onChange:C=>M("bufferSize",parseInt(C.target.value)||30),style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",padding:"12px",color:"#ffffff",fontSize:"14px",outline:"none",transition:"border-color 0.2s"},onFocus:C=>C.target.style.borderColor="rgba(59, 130, 246, 0.5)",onBlur:C=>C.target.style.borderColor="rgba(255, 255, 255, 0.2)"})]}),j.jsxs("div",{className:"form-field",children:[j.jsx("label",{htmlFor:"retry-attempts",style:{display:"block",color:"#ffffff",fontSize:"14px",fontWeight:"500",marginBottom:"8px"},children:"Retry Attempts"}),j.jsx("input",{id:"retry-attempts",type:"number",min:"1",max:"10",value:g.retryAttempts.toString(),onChange:C=>M("retryAttempts",parseInt(C.target.value)||3),style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",padding:"12px",color:"#ffffff",fontSize:"14px",outline:"none",transition:"border-color 0.2s"},onFocus:C=>C.target.style.borderColor="rgba(59, 130, 246, 0.5)",onBlur:C=>C.target.style.borderColor="rgba(255, 255, 255, 0.2)"})]})]}),j.jsxs("div",{className:"form-section",style:{background:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.08)",borderRadius:"12px",padding:"20px"},children:[j.jsx("h3",{className:"form-section__title",style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:"600",color:"#ffffff"},children:"Subtitles"}),j.jsx("div",{className:"form-field",style:{marginBottom:"16px"},children:j.jsxs("label",{className:"checkbox-field",style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",fontSize:"14px",color:"#ffffff"},children:[j.jsx("input",{type:"checkbox",checked:g.enableSubtitles,onChange:C=>M("enableSubtitles",C.target.checked),style:{width:"16px",height:"16px",cursor:"pointer"}}),j.jsx("span",{children:"Enable subtitles"})]})}),g.enableSubtitles&&j.jsxs("div",{className:"form-field",children:[j.jsx("label",{htmlFor:"subtitle-language",style:{display:"block",color:"#ffffff",fontSize:"14px",fontWeight:"500",marginBottom:"8px"},children:"Subtitle Language"}),j.jsxs("select",{id:"subtitle-language",value:g.subtitleLanguage,onChange:C=>M("subtitleLanguage",C.target.value),style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",padding:"12px",color:"#ffffff",fontSize:"14px",outline:"none",transition:"border-color 0.2s",cursor:"pointer"},onFocus:C=>C.target.style.borderColor="rgba(59, 130, 246, 0.5)",onBlur:C=>C.target.style.borderColor="rgba(255, 255, 255, 0.2)",children:[j.jsx("option",{value:"en",children:"English"}),j.jsx("option",{value:"es",children:"Spanish"}),j.jsx("option",{value:"fr",children:"French"}),j.jsx("option",{value:"de",children:"German"}),j.jsx("option",{value:"it",children:"Italian"})]})]})]})]})}),j.jsxs("div",{className:"modal__footer",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"24px",borderTop:"1px solid rgba(255, 255, 255, 0.1)",marginTop:"24px"},children:[j.jsx(Ja,{variant:"secondary",onClick:S,children:"Reset to Defaults"}),j.jsxs("div",{className:"modal__actions",style:{display:"flex",gap:"12px"},children:[j.jsx(Ja,{variant:"secondary",onClick:ne,children:"Cancel"}),j.jsx(Ja,{onClick:m,children:"Save Settings"})]})]})]})});return Fs(L,document.body)});ih.displayName="PlaybackSettingsModal";const Op=["All playback settings","Playlist preferences","UI layout and theme","Keyboard shortcuts","Connection settings","Cache and temporary data"],rh=jt.forwardRef(({isOpen:te,onClose:ne,onConfirm:J,message:b="This action will reset all settings to their default values. This cannot be undone.",resetItems:A=Op,className:P="",...D},g)=>{const y=()=>{J?.(),ne()};if(!te)return null;const m=j.jsx("div",{className:"modal-overlay",onClick:ne,style:{pointerEvents:"auto",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",width:"100vw",height:"100vh",zIndex:"10000",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.6)",margin:"0",padding:"16px",boxSizing:"border-box"},children:j.jsxs("div",{ref:g,className:`modal reset-modal ${P}`.trim(),onClick:S=>S.stopPropagation(),style:{backgroundColor:"rgba(30, 30, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.5)",color:"#ffffff",maxHeight:"90vh",overflow:"hidden",width:"450px",maxWidth:"90vw"},...D,children:[j.jsxs("div",{className:"modal__header",children:[j.jsx("h2",{className:"modal__title",children:"Reset All Settings"}),j.jsx("button",{className:"modal__close",onClick:ne,children:"×"})]}),j.jsxs("div",{className:"modal__content",children:[j.jsxs("div",{className:"reset-modal__warning",children:[j.jsx("div",{className:"reset-modal__icon",children:"⚠️"}),j.jsx("p",{className:"reset-modal__message",children:b})]}),j.jsxs("div",{className:"reset-modal__items",children:[j.jsx("h3",{className:"reset-modal__items-title",children:"The following will be reset:"}),j.jsx("ul",{className:"reset-modal__items-list",children:A.map((S,M)=>j.jsx("li",{className:"reset-modal__item",children:S},M))})]}),j.jsxs("div",{className:"reset-modal__note",children:[j.jsx("strong",{children:"Note:"})," Your playlists and favorites will be preserved, but you'll need to reconfigure your preferences."]})]}),j.jsx("div",{className:"modal__footer",children:j.jsxs("div",{className:"modal__actions",children:[j.jsx(Ja,{variant:"secondary",onClick:ne,children:"Cancel"}),j.jsx(Ja,{onClick:y,className:"btn--danger",children:"Reset All Settings"})]})})]})});return Fs(m,document.body)});rh.displayName="ResetToDefaultModal";const sh=jt.forwardRef(({playlists:te=[],selectedPlaylistId:ne,playbackSettings:J,onPlaylistSelect:b,onPlaylistsUpdate:A,onPlaybackSettingsUpdate:P,onResetToDefaults:D,onFileUpload:g,className:y="",...m},S)=>{const[M,L]=dt.useState(!1),[C,z]=dt.useState(!1),[V,K]=dt.useState(!1);return j.jsxs(j.Fragment,{children:[j.jsx("div",{ref:S,className:`settings-section ${y}`.trim(),style:{display:"flex",flexDirection:"column",gap:"16px"},...m,children:j.jsxs("div",{className:"settings-section__content",style:{display:"flex",flexDirection:"column",gap:"16px"},children:[j.jsxs("div",{className:"settings-group",style:{display:"flex",flexDirection:"column",gap:"12px"},children:[j.jsx("div",{className:"settings-group__header",style:{display:"flex",alignItems:"center",gap:"8px"},children:j.jsx("h4",{className:"settings-group__title",style:{margin:"0",fontSize:"14px",fontWeight:"600",color:"#ffffff",display:"flex",alignItems:"center",gap:"6px"},children:"📋 Active Playlist"})}),j.jsx(ah,{playlists:te,selectedPlaylistId:ne,onPlaylistSelect:b,placeholder:"No playlist selected"})]}),j.jsx("div",{className:"settings-group",children:j.jsx(Ja,{variant:"secondary",onClick:()=>L(!0),className:"settings-action",style:{width:"100%",background:"rgba(59, 130, 246, 0.15)",border:"1px solid rgba(59, 130, 246, 0.3)",color:"#60a5fa",padding:"12px 16px",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseOver:W=>{W.target.style.background="rgba(59, 130, 246, 0.25)",W.target.style.borderColor="rgba(59, 130, 246, 0.4)"},onMouseOut:W=>{W.target.style.background="rgba(59, 130, 246, 0.15)",W.target.style.borderColor="rgba(59, 130, 246, 0.3)"},children:"🎵 Manage Playlists"})}),j.jsx("div",{className:"settings-group",children:j.jsx(Ja,{variant:"secondary",onClick:()=>z(!0),className:"settings-action",style:{width:"100%",background:"rgba(34, 197, 94, 0.15)",border:"1px solid rgba(34, 197, 94, 0.3)",color:"#4ade80",padding:"12px 16px",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseOver:W=>{W.target.style.background="rgba(34, 197, 94, 0.25)",W.target.style.borderColor="rgba(34, 197, 94, 0.4)"},onMouseOut:W=>{W.target.style.background="rgba(34, 197, 94, 0.15)",W.target.style.borderColor="rgba(34, 197, 94, 0.3)"},children:"⚙️ Configure Playback"})}),j.jsx("div",{className:"settings-group settings-group--danger",children:j.jsx(Ja,{variant:"secondary",onClick:()=>K(!0),className:"settings-action btn--danger-outline",style:{width:"100%",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",color:"#f87171",padding:"12px 16px",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseOver:W=>{W.target.style.background="rgba(239, 68, 68, 0.2)",W.target.style.borderColor="rgba(239, 68, 68, 0.4)"},onMouseOut:W=>{W.target.style.background="rgba(239, 68, 68, 0.1)",W.target.style.borderColor="rgba(239, 68, 68, 0.3)"},children:"🔄 Restore Defaults"})})]})}),j.jsx(nh,{isOpen:M,onClose:()=>L(!1),playlists:te,onPlaylistsUpdate:A,onFileUpload:g}),j.jsx(ih,{isOpen:C,onClose:()=>z(!1),settings:J,onSettingsUpdate:P}),j.jsx(rh,{isOpen:V,onClose:()=>K(!1),onConfirm:D})]})});sh.displayName="SettingsSection";const lh=jt.forwardRef(({isOpen:te,onClose:ne,user:J,userSectionProps:b={},channels:A,selectedChannelId:P,onChannelSelect:D,groups:g,selectedGroupId:y,onGroupSelect:m,playlists:S,selectedPlaylistId:M,playbackSettings:L,onPlaylistSelect:C,onPlaylistsUpdate:z,onPlaybackSettingsUpdate:V,onResetToDefaults:K,onFileUpload:W,width:Q="320px",position:ce="left",showOverlay:I=!0,className:$="",style:re,...H},x)=>{dt.useEffect(()=>{const oe=Te=>{Te.key==="Escape"&&te&&ne()};if(te)return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[te,ne]),dt.useEffect(()=>{if(te)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[te]);const E=te?"sidebar--open":"",T=`sidebar--${ce}`,B={width:Q,...re};return j.jsxs(j.Fragment,{children:[I&&te&&j.jsx("div",{className:"sidebar-overlay",onClick:ne,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:9999,backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)"}}),j.jsxs("div",{ref:x,className:`sidebar ${E} ${T} ${$}`.trim(),style:{...B,backgroundColor:"rgba(30, 30, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:ce==="right"?"1px solid rgba(255, 255, 255, 0.1)":"none",borderLeft:ce==="left"?"1px solid rgba(255, 255, 255, 0.1)":void 0,borderRight:ce==="right"?"1px solid rgba(255, 255, 255, 0.1)":void 0,boxShadow:ce==="left"?"4px 0 20px rgba(0, 0, 0, 0.3)":"-4px 0 20px rgba(0, 0, 0, 0.3)",color:"#ffffff",zIndex:1e4},...H,children:[j.jsx("div",{className:"sidebar__header",style:{display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"20px 20px 0 20px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",marginBottom:"0"},children:j.jsx("button",{className:"sidebar__close",onClick:ne,"aria-label":"Close sidebar",style:{background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"8px",color:"#ffffff",cursor:"pointer",fontSize:"20px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s"},onMouseOver:oe=>oe.target.style.backgroundColor="rgba(255, 255, 255, 0.2)",onMouseOut:oe=>oe.target.style.backgroundColor="rgba(255, 255, 255, 0.1)",children:"×"})}),j.jsxs("div",{className:"sidebar__content",style:{padding:"20px",display:"flex",flexDirection:"column",gap:"20px",flex:1,overflowY:"auto"},children:[J&&j.jsx("div",{className:"sidebar__section",style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"16px"},children:j.jsx($f,{userName:J.name,userIcon:"favicon-32x32.png",subtitle:J.subtitle,...b})}),j.jsx("div",{className:"sidebar__section",style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"16px"},children:j.jsx(th,{channels:A,selectedChannelId:P,onChannelSelect:D,groups:g,selectedGroupId:y,onGroupSelect:m,maxHeight:"500px"})}),j.jsx("div",{className:"sidebar__section sidebar__section--settings",style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"16px"},children:j.jsx(sh,{playlists:S,selectedPlaylistId:M,playbackSettings:L,onPlaylistSelect:C,onPlaylistsUpdate:z,onPlaybackSettingsUpdate:V,onResetToDefaults:K,onFileUpload:W})})]}),j.jsx("div",{className:"sidebar__footer",style:{borderTop:"1px solid rgba(255, 255, 255, 0.1)",padding:"16px 20px",marginTop:"auto"},children:j.jsx("div",{className:"sidebar__footer-text",style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)",textAlign:"center",fontWeight:"500"},children:"IPTV Player v1.0.0"})})]})]})});lh.displayName="SideBar";const oh=jt.forwardRef(({isOpen:te,onClose:ne,title:J,children:b,size:A="md",showCloseButton:P=!0,closeOnOverlayClick:D=!0,closeOnEscape:g=!0,className:y="",...m},S)=>{if(dt.useEffect(()=>(te?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[te]),dt.useEffect(()=>{const C=z=>{z.key==="Escape"&&g&&ne()};if(te)return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[te,g,ne]),!te)return null;const M=`modal--${A}`,L=j.jsx("div",{className:"modal-overlay",onClick:D?ne:void 0,style:{pointerEvents:"auto",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",width:"100vw",height:"100vh",zIndex:"10000",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.6)",margin:"0",padding:"16px",boxSizing:"border-box"},children:j.jsxs("div",{ref:S,className:`modal ${M} ${y}`.trim(),onClick:C=>C.stopPropagation(),style:{backgroundColor:"rgba(30, 30, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.5)",color:"#ffffff",maxHeight:"90vh",overflow:"hidden"},...m,children:[J&&j.jsxs("div",{className:"modal__header",children:[j.jsx("h2",{className:"modal__title",children:J}),P&&j.jsx("button",{className:"modal__close",onClick:ne,"aria-label":"Close modal",children:j.jsx("svg",{width:"20",height:"20",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),j.jsx("div",{className:"modal__content",children:b})]})});return Fs(L,document.body)});oh.displayName="Modal";const uh=jt.forwardRef(({steps:te,isOpen:ne,onComplete:J,onCancel:b,onStepChange:A,showProgress:P=!0,showStepNumbers:D=!0,allowStepClick:g=!1,size:y="lg",captions:m={},className:S="",...M},L)=>{const[C,z]=dt.useState({currentStep:0,completedSteps:new Set,stepErrors:new Map,isValidating:!1}),{nextCaption:V="Next",previousCaption:K="Previous",finishCaption:W="Finish",cancelCaption:Q="Cancel",skipCaption:ce="Skip"}=m,I=te[C.currentStep],$=C.currentStep===0,re=C.currentStep===te.length-1,H=dt.useCallback(le=>{z(N=>({...N,...le}))},[]),x=dt.useCallback(async()=>{if(!I?.validation)return!0;H({isValidating:!0});try{if(!await I.validation())return H({stepErrors:new Map(C.stepErrors.set(C.currentStep,"Please complete this step before continuing")),isValidating:!1}),!1;const le=new Map(C.stepErrors);return le.delete(C.currentStep),H({stepErrors:le,isValidating:!1}),!0}catch{return H({stepErrors:new Map(C.stepErrors.set(C.currentStep,"Validation failed")),isValidating:!1}),!1}},[I,C.currentStep,C.stepErrors,H]),E=dt.useCallback(async le=>{if(!(le<0||le>=te.length)){if(le>C.currentStep){if(!await x())return;H({completedSteps:new Set([...C.completedSteps,C.currentStep])})}H({currentStep:le}),A?.(le)}},[te.length,C.currentStep,C.completedSteps,x,H,A]),T=dt.useCallback(async()=>{re?await x()&&J(C.currentStep):await E(C.currentStep+1)},[re,C.currentStep,x,J,E]),B=dt.useCallback(()=>{E(C.currentStep-1)},[C.currentStep,E]),oe=dt.useCallback(le=>{g&&(le<=C.currentStep||C.completedSteps.has(le))&&E(le)},[g,C.currentStep,C.completedSteps,E]),Te=dt.useCallback(()=>{I?.canSkip&&E(C.currentStep+1)},[I,C.currentStep,E]),ye=dt.useCallback(le=>C.completedSteps.has(le)?"completed":le===C.currentStep?"current":le<C.currentStep?"completed":"pending",[C.completedSteps,C.currentStep]),be=()=>P?j.jsx("div",{className:"wizard__progress",children:te.map((le,N)=>{const c=ye(N),v=g&&(N<=C.currentStep||C.completedSteps.has(N));return j.jsxs(jt.Fragment,{children:[j.jsxs("div",{className:`wizard__step ${c==="current"?"wizard__step--current":""} ${c==="completed"?"wizard__step--completed":""} ${c==="pending"?"wizard__step--pending":""} ${v?"wizard__step--clickable":""}`.trim(),onClick:()=>oe(N),children:[j.jsx("div",{className:"wizard__step-circle",children:c==="completed"?j.jsx("svg",{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 20 20",children:j.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):D?N+1:null}),j.jsx("span",{className:"wizard__step-title",children:le.title})]}),N<te.length-1&&j.jsx("div",{className:`wizard__connector ${N<C.currentStep?"wizard__connector--completed":""}`.trim()})]},le.id)})}):null,k=()=>{const le=C.stepErrors.has(C.currentStep),N=C.stepErrors.get(C.currentStep);return j.jsxs("div",{className:"wizard__content",children:[j.jsxs("h2",{className:"wizard__step-content-title",children:[I?.title,I?.isOptional&&j.jsx("span",{className:"wizard__optional-label",children:"(Optional)"})]}),le&&j.jsx("div",{className:"wizard__error",children:N}),j.jsx("div",{className:"wizard__step-body",children:I?.content})]})},he=()=>j.jsxs("div",{className:"wizard__footer",children:[j.jsx("div",{className:"wizard__footer-left",children:I?.canSkip&&!re&&j.jsx("button",{className:"wizard__skip-button",onClick:Te,children:ce})}),j.jsxs("div",{className:"wizard__footer-right",children:[j.jsx("button",{className:"wizard__cancel-button",onClick:b,children:Q}),!$&&j.jsx("button",{className:"wizard__previous-button",onClick:B,disabled:C.isValidating,children:I?.previousButtonText||K}),j.jsxs("button",{className:"wizard__next-button",onClick:T,disabled:C.isValidating,children:[C.isValidating&&j.jsx("div",{className:"wizard__loading-spinner"}),re?W:I?.nextButtonText||V]})]})]});return ne?j.jsx(oh,{isOpen:ne,onClose:b,size:y,closeOnOverlayClick:!1,showCloseButton:!1,children:j.jsxs("div",{ref:L,className:`wizard ${S}`.trim(),...M,children:[be(),k(),he()]})}):null});uh.displayName="Wizard";class En{static DB_NAME="IPTV_DB";static DB_VERSION=1;static STORE_NAME="playlists";static async openDB(){return new Promise((ne,J)=>{const b=indexedDB.open(this.DB_NAME,this.DB_VERSION);b.onerror=()=>{J(new Error("Failed to open IndexedDB"))},b.onsuccess=()=>{ne(b.result)},b.onupgradeneeded=A=>{const P=A.target.result;if(!P.objectStoreNames.contains(this.STORE_NAME)){const D=P.createObjectStore(this.STORE_NAME,{keyPath:"id"});D.createIndex("name","name",{unique:!1}),D.createIndex("createdAt","createdAt",{unique:!1})}}})}static async getPlaylists(){try{const ne=await this.openDB();return new Promise((J,b)=>{const D=ne.transaction([this.STORE_NAME],"readonly").objectStore(this.STORE_NAME).getAll();D.onerror=()=>{b(new Error("Failed to retrieve playlists"))},D.onsuccess=()=>{const g=D.result.map(y=>({...y,createdAt:new Date(y.createdAt),updatedAt:new Date(y.updatedAt)}));J(g)}})}catch(ne){return console.error("Error loading playlists from IndexedDB:",ne),[]}}static async savePlaylist(ne){try{const J=await this.openDB();return new Promise((b,A)=>{const g=J.transaction([this.STORE_NAME],"readwrite").objectStore(this.STORE_NAME).put(ne);g.onerror=()=>{A(new Error("Failed to save playlist"))},g.onsuccess=()=>{b()}})}catch(J){throw console.error("Error saving playlist to IndexedDB:",J),new Error("Failed to save playlist")}}static async savePlaylists(ne){try{const J=await this.openDB();return new Promise((b,A)=>{const D=J.transaction([this.STORE_NAME],"readwrite").objectStore(this.STORE_NAME),g=D.clear();g.onerror=()=>{A(new Error("Failed to clear existing playlists"))},g.onsuccess=()=>{let y=0;const m=ne.length;if(m===0){b();return}ne.forEach(S=>{const M=D.add(S);M.onerror=()=>{A(new Error("Failed to save playlists"))},M.onsuccess=()=>{y++,y===m&&b()}})}})}catch(J){throw console.error("Error saving playlists to IndexedDB:",J),new Error("Failed to save playlists")}}static async deletePlaylist(ne){try{const J=await this.openDB();return new Promise((b,A)=>{const g=J.transaction([this.STORE_NAME],"readwrite").objectStore(this.STORE_NAME).delete(ne);g.onerror=()=>{A(new Error("Failed to delete playlist"))},g.onsuccess=()=>{b(!0)}})}catch(J){return console.error("Error deleting playlist from IndexedDB:",J),!1}}static async getPlaylist(ne){try{const J=await this.openDB();return new Promise((b,A)=>{const g=J.transaction([this.STORE_NAME],"readonly").objectStore(this.STORE_NAME).get(ne);g.onerror=()=>{A(new Error("Failed to retrieve playlist"))},g.onsuccess=()=>{const y=g.result;b(y?{...y,createdAt:new Date(y.createdAt),updatedAt:new Date(y.updatedAt)}:null)}})}catch(J){return console.error("Error loading playlist from IndexedDB:",J),null}}static isSupported(){return"indexedDB"in window}static async clearAll(){try{const ne=await this.openDB();return new Promise((J,b)=>{const D=ne.transaction([this.STORE_NAME],"readwrite").objectStore(this.STORE_NAME).clear();D.onerror=()=>{b(new Error("Failed to clear database"))},D.onsuccess=()=>{J()}})}catch(ne){throw console.error("Error clearing IndexedDB:",ne),new Error("Failed to clear database")}}}const lu="iptv-playlists";class An{static parseM3U(ne){const J=ne.split(`
`).map(D=>D.trim()),b=[],A=[];let P=null;for(let D=0;D<J.length;D++){const g=J[D];if(!g.startsWith("#EXTM3U")){if(g.startsWith("#EXTINF:"))try{P=this.parseExtInf(g)}catch(y){A.push(`Error parsing line ${D+1}: ${y instanceof Error?y.message:"Unknown error"}`)}else if(g&&!g.startsWith("#")&&P){if(P.url=g,P.id=this.generateChannelId(P.name||"",g),P.name&&P.url){const y=P;console.log("Created channel:",y.name,"group:",y.group),b.push(y)}P=null}}}return{channels:b,errors:A.length>0?A:void 0}}static parseExtInf(ne){const J=ne.match(/^#EXTINF:\s*([^,]*),(.*)$/);if(!J)throw new Error("Invalid EXTINF format");const[,b,A]=J,P=b.match(/^(-?\d*\.?\d+)/),D=P?parseFloat(P[1]):-1,g={},y=b.matchAll(/(\w+(?:-\w+)*)="([^"]*)"/g);for(const[,S,M]of y)g[S]=M;const m=b.matchAll(/(\w+(?:-\w+)*)=([^\s"]+)/g);for(const[,S,M]of m)g[S]||(g[S]=M);return g["group-title"]?console.log("Found group-title:",g["group-title"],"for channel:",A.trim()):console.log("No group-title found for channel:",A.trim(),"params:",Object.keys(g)),{name:A.trim(),duration:D===-1?void 0:D,logo:g["tvg-logo"],group:g["group-title"]}}static generateChannelId(ne,J){const b=Date.now().toString(36),A=Math.random().toString(36).substring(2,8),P=`${ne}-${J}`;let D=0;for(let y=0;y<P.length;y++){const m=P.charCodeAt(y);D=(D<<5)-D+m,D=D&D}return`${Math.abs(D).toString(36).substring(0,8)}-${b}-${A}`}static async getPlaylistsAsync(){if(En.isSupported())try{let ne=await En.getPlaylists();if(ne.length===0){const J=this.getLegacyPlaylists();if(J.length>0)return console.log("Migrating playlists from localStorage to IndexedDB..."),ne=this.deduplicateChannelIds(J),await this.savePlaylistsAsync(ne),localStorage.removeItem(lu),ne}else{const J=this.deduplicateChannelIds(ne);if(this.hasChanges(ne,J))return console.log("Fixed duplicate channel IDs in existing playlists"),await this.savePlaylistsAsync(J),J}return ne}catch(ne){return console.error("Error loading playlists from IndexedDB, falling back to localStorage:",ne),this.deduplicateChannelIds(this.getLegacyPlaylists())}else return this.deduplicateChannelIds(this.getLegacyPlaylists())}static getPlaylists(){return this.getLegacyPlaylists()}static getLegacyPlaylists(){try{const ne=localStorage.getItem(lu);return ne?JSON.parse(ne).map(b=>({...b,createdAt:new Date(b.createdAt),updatedAt:new Date(b.updatedAt)})):[]}catch(ne){return console.error("Error loading playlists from localStorage:",ne),[]}}static async savePlaylistsAsync(ne){if(En.isSupported())try{await En.savePlaylists(ne);return}catch(J){console.error("Error saving playlists to IndexedDB, falling back to localStorage:",J)}this.savePlaylists(ne)}static savePlaylists(ne){try{localStorage.setItem(lu,JSON.stringify(ne))}catch(J){throw console.error("Error saving playlists to localStorage:",J),new Error("Failed to save playlist")}}static async addPlaylistAsync(ne,J,b){const A=this.parseM3U(J),P={id:this.generatePlaylistId(),name:ne,url:b,channels:A.channels,createdAt:new Date,updatedAt:new Date};if(En.isSupported())try{return await En.savePlaylist(P),P}catch(g){console.error("Error saving playlist to IndexedDB, falling back to localStorage:",g)}const D=this.getPlaylists();return D.push(P),this.savePlaylists(D),P}static addPlaylist(ne,J,b){const A=this.parseM3U(J),P={id:this.generatePlaylistId(),name:ne,url:b,channels:A.channels,createdAt:new Date,updatedAt:new Date},D=this.getPlaylists();return D.push(P),this.savePlaylists(D),P}static updatePlaylist(ne,J){const b=this.getPlaylists(),A=b.findIndex(P=>P.id===ne);return A===-1?null:(b[A]={...b[A],...J,updatedAt:new Date},this.savePlaylists(b),b[A])}static async deletePlaylistAsync(ne){if(En.isSupported())try{return await En.deletePlaylist(ne)}catch(J){console.error("Error deleting playlist from IndexedDB, falling back to localStorage:",J)}return this.deletePlaylist(ne)}static deletePlaylist(ne){const J=this.getPlaylists(),b=J.filter(A=>A.id!==ne);return b.length===J.length?!1:(this.savePlaylists(b),!0)}static async refreshPlaylist(ne){const J=this.getPlaylists(),b=J.find(A=>A.id===ne);if(!b||!b.url)return null;try{const A=await fetch(b.url);if(!A.ok)throw new Error(`HTTP ${A.status}: ${A.statusText}`);const P=await A.text(),D=this.parseM3U(P);return b.channels=D.channels,b.updatedAt=new Date,this.savePlaylists(J),b}catch(A){throw console.error("Error refreshing playlist:",A),A}}static generatePlaylistId(){return`playlist-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}static deduplicateChannelIds(ne){const J=new Set;return ne.map(b=>({...b,channels:b.channels.map(A=>{let P=A.id;return J.has(P)&&(P=this.generateChannelId(A.name,A.url),console.log(`Regenerated duplicate channel ID: ${A.id} -> ${P} for channel: ${A.name}`)),J.add(P),{...A,id:P}})}))}static hasChanges(ne,J){if(ne.length!==J.length)return!0;for(let b=0;b<ne.length;b++){const A=ne[b].channels,P=J[b].channels;if(A.length!==P.length)return!0;for(let D=0;D<A.length;D++)if(A[D].id!==P[D].id)return!0}return!1}static getPlaylist(ne){return this.getPlaylists().find(b=>b.id===ne)||null}static getAllChannels(){return this.getPlaylists().flatMap(J=>J.channels)}static searchChannels(ne){const J=this.getAllChannels(),b=ne.toLowerCase();return J.filter(A=>A.name.toLowerCase().includes(b)||A.group&&A.group.toLowerCase().includes(b))}}function Zf({isOpen:te,onComplete:ne,onCancel:J,allowCancel:b=!0}){const[A,P]=Ke.useState({method:"file",playlistName:"",playlistUrl:"",fileContent:"",fileName:""}),[D,g]=Ke.useState(!1),[y,m]=Ke.useState(null),S=Ke.useRef(null),M=Q=>{P(ce=>({...ce,...Q})),m(null)},L=async Q=>{const ce=Q.target.files?.[0];if(ce){console.log("File selected:",ce.name,ce.type,ce.size);try{const I=await ce.text(),$=ce.name.replace(/\.(m3u8?|txt)$/i,"");console.log("File content read:",I.length,"characters"),console.log("First 100 characters:",I.substring(0,100)),M({fileContent:I,fileName:ce.name,playlistName:A.playlistName||$})}catch(I){m("Failed to read file content"),console.error("File read error:",I)}}},C=async()=>!0,z=async()=>{if(console.log("validateSource called, method:",A.method),console.log("fileContent length:",A.fileContent?.length||0),A.method==="file"){if(!A.fileContent)return m("Please select an M3U file"),!1;console.log("Validating file content:",A.fileContent.substring(0,100));try{const Q=An.parseM3U(A.fileContent);if(Q.channels.length===0)return m("No valid channels found in the M3U file"),!1;Q.errors&&Q.errors.length>0&&console.warn("M3U parsing warnings:",Q.errors),console.log("M3U file validation passed, found",Q.channels.length,"channels")}catch(Q){return m(`Invalid M3U file: ${Q instanceof Error?Q.message:"Unknown error"}`),!1}}else{if(!A.playlistUrl.trim())return m("Please enter a playlist URL"),!1;try{new URL(A.playlistUrl)}catch{return m("Please enter a valid URL"),!1}try{g(!0);const Q=await fetch(A.playlistUrl);if(!Q.ok)return m(`HTTP ${Q.status}: ${Q.statusText}`),!1;const ce=await Q.text();try{const I=An.parseM3U(ce);if(I.channels.length===0)return m("No valid channels found in the playlist from this URL"),!1;console.log("URL validation passed, found",I.channels.length,"channels")}catch(I){return m(`Invalid M3U content from URL: ${I instanceof Error?I.message:"Unknown error"}`),!1}M({fileContent:ce})}catch(Q){return m(`Failed to load playlist: ${Q instanceof Error?Q.message:"Unknown error"}`),!1}finally{g(!1)}}return!0},V=async()=>A.playlistName.trim()?!0:(m("Please enter a name for your playlist"),!1),K=async()=>{try{g(!0),await ne(A.playlistName,A.fileContent,A.method==="url"?A.playlistUrl:void 0)}catch(Q){throw m(Q instanceof Error?Q.message:"Failed to add playlist"),Q}finally{g(!1)}},W=[{id:"method",title:"Choose Method",validation:C,content:Le.jsxs("div",{style:{padding:"1rem 0"},children:[Le.jsx("p",{style:{marginBottom:"1.5rem",color:"#666"},children:"How would you like to add your IPTV playlist?"}),Le.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[Le.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem",border:`2px solid ${A.method==="file"?"#007bff":"#e9ecef"}`,borderRadius:"8px",cursor:"pointer",transition:"border-color 0.2s"},children:[Le.jsx("input",{type:"radio",value:"file",checked:A.method==="file",onChange:Q=>M({method:Q.target.value}),style:{margin:0}}),Le.jsxs("div",{children:[Le.jsx("div",{style:{fontWeight:"600",marginBottom:"0.25rem"},children:"📁 Upload File"}),Le.jsx("div",{style:{fontSize:"0.875rem",color:"#666"},children:"Upload an M3U or M3U8 file from your device"})]})]}),Le.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem",border:`2px solid ${A.method==="url"?"#007bff":"#e9ecef"}`,borderRadius:"8px",cursor:"pointer",transition:"border-color 0.2s"},children:[Le.jsx("input",{type:"radio",value:"url",checked:A.method==="url",onChange:Q=>M({method:Q.target.value}),style:{margin:0}}),Le.jsxs("div",{children:[Le.jsx("div",{style:{fontWeight:"600",marginBottom:"0.25rem"},children:"🌐 Load from URL"}),Le.jsx("div",{style:{fontSize:"0.875rem",color:"#666"},children:"Load a playlist directly from a web URL"})]})]})]})]})},{id:"source",title:A.method==="file"?"Select File":"Enter URL",validation:z,content:Le.jsxs("div",{style:{padding:"1rem 0"},children:[A.method==="file"?Le.jsxs("div",{children:[Le.jsx("p",{style:{marginBottom:"1.5rem",color:"#666"},children:"Select your M3U playlist file from your device."}),Le.jsx("input",{ref:S,type:"file",accept:".m3u,.m3u8,.txt",onChange:L,style:{width:"100%",padding:"0.75rem",border:"2px dashed #ddd",borderRadius:"8px",backgroundColor:"#f8f9fa",fontSize:"0.875rem"}}),Le.jsx("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"0.5rem"},children:"Supported formats: .m3u, .m3u8, .txt"}),A.fileName&&Le.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",backgroundColor:"#e8f5e8",borderRadius:"4px",border:"1px solid #28a745"},children:["✅ File selected: ",A.fileName]})]}):Le.jsxs("div",{children:[Le.jsx("p",{style:{marginBottom:"1.5rem",color:"#666"},children:"Enter the URL of your M3U playlist."}),Le.jsx(ou,{placeholder:"https://example.com/playlist.m3u",value:A.playlistUrl,onChange:Q=>M({playlistUrl:Q.target.value}),style:{width:"100%"}}),Le.jsx("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"0.5rem"},children:"The URL should point directly to an M3U or M3U8 file"})]}),y&&Le.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",backgroundColor:"#ffe6e6",color:"#d00",borderRadius:"4px",border:"1px solid #dc3545"},children:y})]})},{id:"name",title:"Name Your Playlist",validation:V,content:Le.jsxs("div",{style:{padding:"1rem 0"},children:[Le.jsx("p",{style:{marginBottom:"1.5rem",color:"#666"},children:"Give your playlist a memorable name."}),Le.jsx(ou,{placeholder:"My IPTV Playlist",value:A.playlistName,onChange:Q=>M({playlistName:Q.target.value}),style:{width:"100%"}}),A.fileName&&Le.jsxs("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"0.5rem"},children:["Default name from file: ",A.fileName.replace(/\.(m3u8?|txt)$/i,"")]}),y&&Le.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",backgroundColor:"#ffe6e6",color:"#d00",borderRadius:"4px",border:"1px solid #dc3545"},children:y})]})}];return Le.jsx(uh,{steps:W,isOpen:te,onComplete:K,onCancel:b&&J?J:()=>{},size:"md",captions:{finishCaption:D?"Adding Playlist...":"Add Playlist",cancelCaption:b?"Cancel":void 0}})}function wp(){const[te,ne]=Ke.useState([]),[J,b]=Ke.useState(null),[A,P]=Ke.useState(null),[D,g]=Ke.useState(!1),[y,m]=Ke.useState(!0),[S,M]=Ke.useState(null);Ke.useEffect(()=>{(async()=>{try{const H=await An.getPlaylistsAsync();console.log("Loaded playlists from storage:",H.length),ne(H)}catch(H){M("Failed to load playlists"),console.error("Error loading playlists:",H)}finally{m(!1)}})()},[]),Ke.useEffect(()=>{te.length>0&&!J&&b(te[0].id)},[te,J]);const L=te.find(re=>re.id===J)||null,C=Ke.useMemo(()=>L?.channels||[],[L]),z=C.find(re=>re.id===A)||null,V=Ke.useCallback(async(re,H,x)=>{g(!0),M(null);try{const E=await An.addPlaylistAsync(re,H,x);return ne(T=>[...T,E]),b(E.id),E}catch(E){const T=E instanceof Error?E.message:"Failed to add playlist";throw M(T),new Error(T)}finally{g(!1)}},[]),K=Ke.useCallback((re,H)=>{try{const x=An.updatePlaylist(re,H);return x?(ne(E=>E.map(T=>T.id===re?x:T)),x):null}catch(x){const E=x instanceof Error?x.message:"Failed to update playlist";throw M(E),new Error(E)}},[]),W=Ke.useCallback(async re=>{try{const H=await An.deletePlaylistAsync(re);if(H&&(ne(x=>x.filter(E=>E.id!==re)),J===re)){const x=te.filter(E=>E.id!==re);b(x.length>0?x[0].id:null),P(null)}return H}catch(H){const x=H instanceof Error?H.message:"Failed to delete playlist";throw M(x),new Error(x)}},[te,J]),Q=Ke.useCallback(async re=>{g(!0),M(null);try{const H=await An.refreshPlaylist(re);return H?(ne(x=>x.map(E=>E.id===re?H:E)),H):null}catch(H){const x=H instanceof Error?H.message:"Failed to refresh playlist";throw M(x),new Error(x)}finally{g(!1)}},[]),ce=Ke.useCallback(re=>{b(re),P(null)},[]),I=Ke.useCallback(re=>{P(re)},[]),$=Ke.useCallback(re=>re.trim()?An.searchChannels(re):C,[C]);return{playlists:te,selectedPlaylist:L,selectedPlaylistId:J,channels:C,selectedChannel:z,selectedChannelId:A,loading:D,initialLoading:y,error:S,addPlaylist:V,updatePlaylist:K,deletePlaylist:W,refreshPlaylist:Q,selectPlaylist:ce,selectChannel:I,searchChannels:$,clearError:()=>M(null)}}function Lp(te){return{id:te.id,name:te.name,logo:te.logo,category:te.group,isLive:!0}}function Bp(te,ne){const[J,b]=Ke.useState({currentChannel:null,currentChannelUrl:null,isPlaying:!1,isLoading:!1,error:null}),A=Ke.useCallback((S,M)=>{b(L=>({...L,currentChannel:S,currentChannelUrl:M,error:null,isLoading:!0}))},[]),P=Ke.useCallback(S=>{const M=Lp(S);A(M,S.url)},[A]),D=Ke.useCallback(()=>{b(S=>({...S,currentChannel:null,currentChannelUrl:null,isPlaying:!1,isLoading:!1,error:null}))},[]),g=Ke.useCallback(S=>{b(M=>({...M,isPlaying:S}))},[]),y=Ke.useCallback(S=>{b(M=>({...M,isLoading:S}))},[]),m=Ke.useCallback(S=>{b(M=>({...M,error:S,isLoading:!1}))},[]);return{...J,setChannel:A,setChannelFromM3U:P,clearChannel:D,setPlaying:g,setLoading:y,setError:m}}function kp(te){return{id:te.id,name:te.name,logo:te.logo||"📺",category:te.group||"Uncategorized",isLive:!0}}function Np(te){return{id:te.id,name:te.name,url:te.url||"",channelCount:te.channels.length,isActive:!0,lastUpdated:te.updatedAt}}function Up(te){return te.map(kp)}function zp(te){return te.map(Np)}function jp(){const[te,ne]=Ke.useState(!1),[J,b]=Ke.useState(!1),[A,P]=Ke.useState(!1),[D,g]=Ke.useState(null),[y,m]=Ke.useState(!1),[S,M]=Ke.useState(!1),{playlists:L,selectedPlaylist:C,channels:z,selectedChannel:V,selectChannel:K,selectPlaylist:W,addPlaylist:Q,deletePlaylist:ce,initialLoading:I,error:$}=wp(),re=Bp(),H=Up(z),x=zp(L),E=Uf.useMemo(()=>{const k=new Map;return H.forEach(he=>{const le=he.category||"Uncategorized";k.set(le,(k.get(le)||0)+1)}),Array.from(k.entries()).map(([he,le])=>({id:he.toLowerCase().replace(/[^a-z0-9]/g,"-"),name:he,channelCount:le}))},[H]);Ke.useEffect(()=>{!I&&L.length===0?(console.log("No playlists found after initial loading, showing setup wizard"),b(!0)):!I&&L.length>0&&(console.log("Found",L.length,"playlists, not showing setup wizard"),b(!1))},[I,L.length]);const T=k=>{const he=z.find(le=>le.id===k.id);he&&(K(he.id),re.setChannelFromM3U(he),ne(!1))},B=k=>{W(k.id)},oe=k=>{g(k.id)},Te=Uf.useMemo(()=>{if(!D)return H;const k=E.find(he=>he.id===D)?.name;return k?H.filter(he=>(he.category||"Uncategorized")===k):H},[H,D,E]);Ke.useEffect(()=>{let k;const he=()=>{re.currentChannel&&re.currentChannelUrl&&(m(!0),k&&window.clearTimeout(k))},le=()=>{k=window.setTimeout(()=>{m(!1)},2e3)},N=document.querySelector(".video-container"),c=document.querySelector(".channel-info-overlay");return N&&(N.addEventListener("mouseenter",he),N.addEventListener("mouseleave",le)),c&&(c.addEventListener("mouseenter",he),c.addEventListener("mouseleave",le)),()=>{N&&(N.removeEventListener("mouseenter",he),N.removeEventListener("mouseleave",le)),c&&(c.removeEventListener("mouseenter",he),c.removeEventListener("mouseleave",le)),k&&window.clearTimeout(k)}},[re.currentChannel,re.currentChannelUrl,y]),Ke.useEffect(()=>{if($||re.error){M(!0);const k=setTimeout(()=>{M(!1)},7e3);return()=>clearTimeout(k)}else M(!1)},[$,re.error]);const ye=async(k,he,le)=>{await Q(k,he,le),b(!1),console.log("Setup wizard completed successfully")},be=async(k,he,le)=>{await Q(k,he,le),P(!1),ne(!1),console.log("Add playlist wizard completed successfully")};return Le.jsxs("div",{className:"app",children:[Le.jsx("div",{className:"hamburger-container",children:Le.jsx(Wf,{isOpen:te,onToggle:()=>{console.log("Hamburger clicked, current state:",te),ne(!te)},size:"large",className:"floating-hamburger"})}),Le.jsx(lh,{isOpen:te,onClose:()=>ne(!1),channels:Te,selectedChannelId:re.currentChannel?.id||V?.id,onChannelSelect:T,groups:E,selectedGroupId:D??void 0,onGroupSelect:oe,playlists:x,selectedPlaylistId:C?.id,onPlaylistSelect:B,onPlaylistsUpdate:k=>{console.log("Playlists updated:",k),L.filter(le=>!k.find(N=>N.id===le.id)).map(le=>le.id).forEach(async le=>{try{await ce(le)}catch(N){console.error("Failed to delete playlist:",N)}})},onFileUpload:async(k,he)=>{console.log("File upload requested:",k,"Content length:",he.length),await Q(k,he),console.log("File upload completed successfully")},onResetToDefaults:()=>{console.log("Reset to defaults requested"),L.forEach(async k=>{try{await ce(k.id)}catch(he){console.error("Failed to delete playlist during reset:",he)}}),re.clearChannel(),b(!0)},user:{name:"IPTV User",icon:"📺",subtitle:`${L.length} playlist${L.length!==1?"s":""} • ${z.length} channels`},userSectionProps:{onClick:()=>P(!0)},className:"translucent-sidebar"}),Le.jsx("div",{className:"video-container",children:re.currentChannelUrl?Le.jsx(Sp,{url:re.currentChannelUrl,isLive:!0,onLoadingChange:re.setLoading,onError:re.setError,onPlayingChange:re.setPlaying}):Le.jsx("div",{className:"no-video-message",children:L.length===0&&!J?Le.jsxs("div",{children:[Le.jsx("h2",{children:"📺 IPTV Player"}),Le.jsx("p",{children:"Setting up your first playlist..."})]}):Le.jsxs("div",{children:[Le.jsx("h2",{children:"📺 IPTV Player"}),Le.jsx("p",{children:"Select a channel from the menu to start watching"}),Le.jsx("div",{className:"hint",children:Le.jsx("span",{children:"Click the ☰ menu in the top-left corner"})})]})})}),re.currentChannel&&re.currentChannelUrl&&y&&Le.jsxs("div",{className:"channel-info-overlay",children:[Le.jsx("div",{className:"channel-name",children:re.currentChannel.name}),re.currentChannel.category&&Le.jsx("div",{className:"channel-group",children:re.currentChannel.category}),re.currentChannel.logo&&Le.jsx("img",{className:"channel-logo",src:re.currentChannel.logo}),re.isLoading&&Le.jsx("div",{className:"channel-status",children:"Loading..."}),re.isPlaying&&!re.isLoading&&Le.jsx("div",{className:"channel-status",children:"🔴 LIVE"})]}),($||re.error)&&S&&Le.jsx("div",{className:"error-overlay",children:Le.jsxs("div",{className:"error-message",children:[Le.jsx("strong",{children:"⚠️ Error:"})," ",$||re.error]})}),Le.jsx(Zf,{isOpen:J,onComplete:ye,allowCancel:!1}),Le.jsx(Zf,{isOpen:A,onComplete:be,onCancel:()=>P(!1),allowCancel:!0})]})}vp.createRoot(document.getElementById("root")).render(Le.jsx(Ke.StrictMode,{children:Le.jsx(jp,{})}));
