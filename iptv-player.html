<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="./favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IPTV Web Player</title>
    <script type="module" crossorigin>(function(){const ie=document.createElement("link").relList;if(ie&&ie.supports&&ie.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))v(x);new MutationObserver(x=>{for(const G of x)if(G.type==="childList")for(const w of G.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&v(w)}).observe(document,{childList:!0,subtree:!0});function Z(x){const G={};return x.integrity&&(G.integrity=x.integrity),x.referrerPolicy&&(G.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?G.credentials="include":x.crossOrigin==="anonymous"?G.credentials="omit":G.credentials="same-origin",G}function v(x){if(x.ep)return;x.ep=!0;const G=Z(x);fetch(x.href,G)}})();function J_(ee){return ee&&ee.__esModule&&Object.prototype.hasOwnProperty.call(ee,"default")?ee.default:ee}var Xo={exports:{}},Dr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf;function $_(){if(Rf)return Dr;Rf=1;var ee=Symbol.for("react.transitional.element"),ie=Symbol.for("react.fragment");function Z(v,x,G){var w=null;if(G!==void 0&&(w=""+G),x.key!==void 0&&(w=""+x.key),"key"in x){G={};for(var y in x)y!=="key"&&(G[y]=x[y])}else G=x;return x=G.ref,{$$typeof:ee,type:v,key:w,ref:x!==void 0?x:null,props:G}}return Dr.Fragment=ie,Dr.jsx=Z,Dr.jsxs=Z,Dr}var Tf;function ep(){return Tf||(Tf=1,Xo.exports=$_()),Xo.exports}var T=ep(),Qo={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mf;function tp(){if(Mf)return Xe;Mf=1;var ee=Symbol.for("react.transitional.element"),ie=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),w=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),D=Symbol.iterator;function k(d){return d===null||typeof d!="object"?null:(d=D&&d[D]||d["@@iterator"],typeof d=="function"?d:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,I={};function K(d,O,W){this.props=d,this.context=O,this.refs=I,this.updater=W||z}K.prototype.isReactComponent={},K.prototype.setState=function(d,O){if(typeof d!="object"&&typeof d!="function"&&d!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,d,O,"setState")},K.prototype.forceUpdate=function(d){this.updater.enqueueForceUpdate(this,d,"forceUpdate")};function J(){}J.prototype=K.prototype;function F(d,O,W){this.props=d,this.context=O,this.refs=I,this.updater=W||z}var le=F.prototype=new J;le.constructor=F,C(le,K.prototype),le.isPureReactComponent=!0;var P=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},re=Object.prototype.hasOwnProperty;function Y(d,O,W,_e,Se,Le){return W=Le.ref,{$$typeof:ee,type:d,key:O,ref:W!==void 0?W:null,props:Le}}function R(d,O){return Y(d.type,O,void 0,void 0,void 0,d.props)}function E(d){return typeof d=="object"&&d!==null&&d.$$typeof===ee}function A(d){var O={"=":"=0",":":"=2"};return"$"+d.replace(/[=:]/g,function(W){return O[W]})}var U=/\/+/g;function oe(d,O){return typeof d=="object"&&d!==null&&d.key!=null?A(""+d.key):O.toString(36)}function xe(){}function pe(d){switch(d.status){case"fulfilled":return d.value;case"rejected":throw d.reason;default:switch(typeof d.status=="string"?d.then(xe,xe):(d.status="pending",d.then(function(O){d.status==="pending"&&(d.status="fulfilled",d.value=O)},function(O){d.status==="pending"&&(d.status="rejected",d.reason=O)})),d.status){case"fulfilled":return d.value;case"rejected":throw d.reason}}throw d}function be(d,O,W,_e,Se){var Le=typeof d;(Le==="undefined"||Le==="boolean")&&(d=null);var Me=!1;if(d===null)Me=!0;else switch(Le){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(d.$$typeof){case ee:case ie:Me=!0;break;case b:return Me=d._init,be(Me(d._payload),O,W,_e,Se)}}if(Me)return Se=Se(d),Me=_e===""?"."+oe(d,0):_e,P(Se)?(W="",Me!=null&&(W=Me.replace(U,"$&/")+"/"),be(Se,O,W,"",function(we){return we})):Se!=null&&(E(Se)&&(Se=R(Se,W+(Se.key==null||d&&d.key===Se.key?"":(""+Se.key).replace(U,"$&/")+"/")+Me)),O.push(Se)),1;Me=0;var me=_e===""?".":_e+":";if(P(d))for(var ve=0;ve<d.length;ve++)_e=d[ve],Le=me+oe(_e,ve),Me+=be(_e,O,W,Le,Se);else if(ve=k(d),typeof ve=="function")for(d=ve.call(d),ve=0;!(_e=d.next()).done;)_e=_e.value,Le=me+oe(_e,ve++),Me+=be(_e,O,W,Le,Se);else if(Le==="object"){if(typeof d.then=="function")return be(pe(d),O,W,_e,Se);throw O=String(d),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return Me}function N(d,O,W){if(d==null)return d;var _e=[],Se=0;return be(d,_e,"","",function(Le){return O.call(W,Le,Se++)}),_e}function de(d){if(d._status===-1){var O=d._result;O=O(),O.then(function(W){(d._status===0||d._status===-1)&&(d._status=1,d._result=W)},function(W){(d._status===0||d._status===-1)&&(d._status=2,d._result=W)}),d._status===-1&&(d._status=0,d._result=O)}if(d._status===1)return d._result.default;throw d._result}var he=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)};function M(){}return Xe.Children={map:N,forEach:function(d,O,W){N(d,function(){O.apply(this,arguments)},W)},count:function(d){var O=0;return N(d,function(){O++}),O},toArray:function(d){return N(d,function(O){return O})||[]},only:function(d){if(!E(d))throw Error("React.Children.only expected to receive a single React element child.");return d}},Xe.Component=K,Xe.Fragment=Z,Xe.Profiler=x,Xe.PureComponent=F,Xe.StrictMode=v,Xe.Suspense=g,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(d){return te.H.useMemoCache(d)}},Xe.cache=function(d){return function(){return d.apply(null,arguments)}},Xe.cloneElement=function(d,O,W){if(d==null)throw Error("The argument must be a React element, but you passed "+d+".");var _e=C({},d.props),Se=d.key,Le=void 0;if(O!=null)for(Me in O.ref!==void 0&&(Le=void 0),O.key!==void 0&&(Se=""+O.key),O)!re.call(O,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&O.ref===void 0||(_e[Me]=O[Me]);var Me=arguments.length-2;if(Me===1)_e.children=W;else if(1<Me){for(var me=Array(Me),ve=0;ve<Me;ve++)me[ve]=arguments[ve+2];_e.children=me}return Y(d.type,Se,void 0,void 0,Le,_e)},Xe.createContext=function(d){return d={$$typeof:w,_currentValue:d,_currentValue2:d,_threadCount:0,Provider:null,Consumer:null},d.Provider=d,d.Consumer={$$typeof:G,_context:d},d},Xe.createElement=function(d,O,W){var _e,Se={},Le=null;if(O!=null)for(_e in O.key!==void 0&&(Le=""+O.key),O)re.call(O,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Se[_e]=O[_e]);var Me=arguments.length-2;if(Me===1)Se.children=W;else if(1<Me){for(var me=Array(Me),ve=0;ve<Me;ve++)me[ve]=arguments[ve+2];Se.children=me}if(d&&d.defaultProps)for(_e in Me=d.defaultProps,Me)Se[_e]===void 0&&(Se[_e]=Me[_e]);return Y(d,Le,void 0,void 0,null,Se)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(d){return{$$typeof:y,render:d}},Xe.isValidElement=E,Xe.lazy=function(d){return{$$typeof:b,_payload:{_status:-1,_result:d},_init:de}},Xe.memo=function(d,O){return{$$typeof:m,type:d,compare:O===void 0?null:O}},Xe.startTransition=function(d){var O=te.T,W={};te.T=W;try{var _e=d(),Se=te.S;Se!==null&&Se(W,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(M,he)}catch(Le){he(Le)}finally{te.T=O}},Xe.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Xe.use=function(d){return te.H.use(d)},Xe.useActionState=function(d,O,W){return te.H.useActionState(d,O,W)},Xe.useCallback=function(d,O){return te.H.useCallback(d,O)},Xe.useContext=function(d){return te.H.useContext(d)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(d,O){return te.H.useDeferredValue(d,O)},Xe.useEffect=function(d,O,W){var _e=te.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return _e.useEffect(d,O)},Xe.useId=function(){return te.H.useId()},Xe.useImperativeHandle=function(d,O,W){return te.H.useImperativeHandle(d,O,W)},Xe.useInsertionEffect=function(d,O){return te.H.useInsertionEffect(d,O)},Xe.useLayoutEffect=function(d,O){return te.H.useLayoutEffect(d,O)},Xe.useMemo=function(d,O){return te.H.useMemo(d,O)},Xe.useOptimistic=function(d,O){return te.H.useOptimistic(d,O)},Xe.useReducer=function(d,O,W){return te.H.useReducer(d,O,W)},Xe.useRef=function(d){return te.H.useRef(d)},Xe.useState=function(d){return te.H.useState(d)},Xe.useSyncExternalStore=function(d,O,W){return te.H.useSyncExternalStore(d,O,W)},Xe.useTransition=function(){return te.H.useTransition()},Xe.version="19.1.1",Xe}var Cf;function au(){return Cf||(Cf=1,Qo.exports=tp()),Qo.exports}var Oe=au();const Ct=J_(Oe);var Zo={exports:{}},Or={},Wo={exports:{}},Jo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Df;function ap(){return Df||(Df=1,(function(ee){function ie(N,de){var he=N.length;N.push(de);e:for(;0<he;){var M=he-1>>>1,d=N[M];if(0<x(d,de))N[M]=de,N[he]=d,he=M;else break e}}function Z(N){return N.length===0?null:N[0]}function v(N){if(N.length===0)return null;var de=N[0],he=N.pop();if(he!==de){N[0]=he;e:for(var M=0,d=N.length,O=d>>>1;M<O;){var W=2*(M+1)-1,_e=N[W],Se=W+1,Le=N[Se];if(0>x(_e,he))Se<d&&0>x(Le,_e)?(N[M]=Le,N[Se]=he,M=Se):(N[M]=_e,N[W]=he,M=W);else if(Se<d&&0>x(Le,he))N[M]=Le,N[Se]=he,M=Se;else break e}}return de}function x(N,de){var he=N.sortIndex-de.sortIndex;return he!==0?he:N.id-de.id}if(ee.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var G=performance;ee.unstable_now=function(){return G.now()}}else{var w=Date,y=w.now();ee.unstable_now=function(){return w.now()-y}}var g=[],m=[],b=1,D=null,k=3,z=!1,C=!1,I=!1,K=!1,J=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function P(N){for(var de=Z(m);de!==null;){if(de.callback===null)v(m);else if(de.startTime<=N)v(m),de.sortIndex=de.expirationTime,ie(g,de);else break;de=Z(m)}}function te(N){if(I=!1,P(N),!C)if(Z(g)!==null)C=!0,re||(re=!0,oe());else{var de=Z(m);de!==null&&be(te,de.startTime-N)}}var re=!1,Y=-1,R=5,E=-1;function A(){return K?!0:!(ee.unstable_now()-E<R)}function U(){if(K=!1,re){var N=ee.unstable_now();E=N;var de=!0;try{e:{C=!1,I&&(I=!1,F(Y),Y=-1),z=!0;var he=k;try{t:{for(P(N),D=Z(g);D!==null&&!(D.expirationTime>N&&A());){var M=D.callback;if(typeof M=="function"){D.callback=null,k=D.priorityLevel;var d=M(D.expirationTime<=N);if(N=ee.unstable_now(),typeof d=="function"){D.callback=d,P(N),de=!0;break t}D===Z(g)&&v(g),P(N)}else v(g);D=Z(g)}if(D!==null)de=!0;else{var O=Z(m);O!==null&&be(te,O.startTime-N),de=!1}}break e}finally{D=null,k=he,z=!1}de=void 0}}finally{de?oe():re=!1}}}var oe;if(typeof le=="function")oe=function(){le(U)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,pe=xe.port2;xe.port1.onmessage=U,oe=function(){pe.postMessage(null)}}else oe=function(){J(U,0)};function be(N,de){Y=J(function(){N(ee.unstable_now())},de)}ee.unstable_IdlePriority=5,ee.unstable_ImmediatePriority=1,ee.unstable_LowPriority=4,ee.unstable_NormalPriority=3,ee.unstable_Profiling=null,ee.unstable_UserBlockingPriority=2,ee.unstable_cancelCallback=function(N){N.callback=null},ee.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<N?Math.floor(1e3/N):5},ee.unstable_getCurrentPriorityLevel=function(){return k},ee.unstable_next=function(N){switch(k){case 1:case 2:case 3:var de=3;break;default:de=k}var he=k;k=de;try{return N()}finally{k=he}},ee.unstable_requestPaint=function(){K=!0},ee.unstable_runWithPriority=function(N,de){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var he=k;k=N;try{return de()}finally{k=he}},ee.unstable_scheduleCallback=function(N,de,he){var M=ee.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?M+he:M):he=M,N){case 1:var d=-1;break;case 2:d=250;break;case 5:d=1073741823;break;case 4:d=1e4;break;default:d=5e3}return d=he+d,N={id:b++,callback:de,priorityLevel:N,startTime:he,expirationTime:d,sortIndex:-1},he>M?(N.sortIndex=he,ie(m,N),Z(g)===null&&N===Z(m)&&(I?(F(Y),Y=-1):I=!0,be(te,he-M))):(N.sortIndex=d,ie(g,N),C||z||(C=!0,re||(re=!0,oe()))),N},ee.unstable_shouldYield=A,ee.unstable_wrapCallback=function(N){var de=k;return function(){var he=k;k=de;try{return N.apply(this,arguments)}finally{k=he}}}})(Jo)),Jo}var Of;function ip(){return Of||(Of=1,Wo.exports=ap()),Wo.exports}var $o={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf;function np(){if(wf)return Kt;wf=1;var ee=au();function ie(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Z(){}var v={d:{f:Z,r:function(){throw Error(ie(522))},D:Z,C:Z,L:Z,m:Z,X:Z,S:Z,M:Z},p:0,findDOMNode:null},x=Symbol.for("react.portal");function G(g,m,b){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:D==null?null:""+D,children:g,containerInfo:m,implementation:b}}var w=ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=v,Kt.createPortal=function(g,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(ie(299));return G(g,m,null,b)},Kt.flushSync=function(g){var m=w.T,b=v.p;try{if(w.T=null,v.p=2,g)return g()}finally{w.T=m,v.p=b,v.d.f()}},Kt.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,v.d.C(g,m))},Kt.prefetchDNS=function(g){typeof g=="string"&&v.d.D(g)},Kt.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var b=m.as,D=y(b,m.crossOrigin),k=typeof m.integrity=="string"?m.integrity:void 0,z=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?v.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:D,integrity:k,fetchPriority:z}):b==="script"&&v.d.X(g,{crossOrigin:D,integrity:k,fetchPriority:z,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Kt.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=y(m.as,m.crossOrigin);v.d.M(g,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&v.d.M(g)},Kt.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,D=y(b,m.crossOrigin);v.d.L(g,b,{crossOrigin:D,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Kt.preloadModule=function(g,m){if(typeof g=="string")if(m){var b=y(m.as,m.crossOrigin);v.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else v.d.m(g)},Kt.requestFormReset=function(g){v.d.r(g)},Kt.unstable_batchedUpdates=function(g,m){return g(m)},Kt.useFormState=function(g,m,b){return w.H.useFormState(g,m,b)},Kt.useFormStatus=function(){return w.H.useHostTransitionStatus()},Kt.version="19.1.1",Kt}var Lf;function If(){if(Lf)return $o.exports;Lf=1;function ee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ee)}catch(ie){console.error(ie)}}return ee(),$o.exports=np(),$o.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf;function rp(){if(Bf)return Or;Bf=1;var ee=ip(),ie=au(),Z=If();function v(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function G(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function w(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(G(e)!==e)throw Error(v(188))}function g(e){var t=e.alternate;if(!t){if(t=G(e),t===null)throw Error(v(188));return t!==e?null:e}for(var a=e,i=t;;){var n=a.return;if(n===null)break;var o=n.alternate;if(o===null){if(i=n.return,i!==null){a=i;continue}break}if(n.child===o.child){for(o=n.child;o;){if(o===a)return y(n),e;if(o===i)return y(n),t;o=o.sibling}throw Error(v(188))}if(a.return!==i.return)a=n,i=o;else{for(var _=!1,S=n.child;S;){if(S===a){_=!0,a=n,i=o;break}if(S===i){_=!0,i=n,a=o;break}S=S.sibling}if(!_){for(S=o.child;S;){if(S===a){_=!0,a=o,i=n;break}if(S===i){_=!0,i=o,a=n;break}S=S.sibling}if(!_)throw Error(v(189))}}if(a.alternate!==i)throw Error(v(190))}if(a.tag!==3)throw Error(v(188));return a.stateNode.current===a?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,D=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),le=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Symbol.for("react.client.reference");function pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===xe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case K:return"Profiler";case I:return"StrictMode";case te:return"Suspense";case re:return"SuspenseList";case E:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case le:return(e.displayName||"Context")+".Provider";case F:return(e._context.displayName||"Context")+".Consumer";case P:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return t=e.displayName||null,t!==null?t:pe(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return pe(e(t))}catch{}}return null}var be=Array.isArray,N=ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=Z.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},M=[],d=-1;function O(e){return{current:e}}function W(e){0>d||(e.current=M[d],M[d]=null,d--)}function _e(e,t){d++,M[d]=e.current,e.current=t}var Se=O(null),Le=O(null),Me=O(null),me=O(null);function ve(e,t){switch(_e(Me,t),_e(Le,e),_e(Se,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Jd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Jd(t),e=$d(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(Se),_e(Se,e)}function we(){W(Se),W(Le),W(Me)}function Ie(e){e.memoizedState!==null&&_e(me,e);var t=Se.current,a=$d(t,e.type);t!==a&&(_e(Le,e),_e(Se,a))}function Ve(e){Le.current===e&&(W(Se),W(Le)),me.current===e&&(W(me),xr._currentValue=he)}var Qe=Object.prototype.hasOwnProperty,bt=ee.unstable_scheduleCallback,xt=ee.unstable_cancelCallback,ua=ee.unstable_shouldYield,_t=ee.unstable_requestPaint,Ht=ee.unstable_now,Fi=ee.unstable_getCurrentPriorityLevel,Ki=ee.unstable_ImmediatePriority,Xi=ee.unstable_UserBlockingPriority,Qi=ee.unstable_NormalPriority,Hs=ee.unstable_LowPriority,wr=ee.unstable_IdlePriority,qs=ee.log,Ys=ee.unstable_setDisableYieldValue,bi=null,Xt=null;function xa(e){if(typeof qs=="function"&&Ys(e),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(bi,e)}catch{}}var Qt=Math.clz32?Math.clz32:Xs,Fs=Math.log,Ks=Math.LN2;function Xs(e){return e>>>=0,e===0?32:31-(Fs(e)/Ks|0)|0}var Zi=256,Wi=4194304;function Ba(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ji(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var n=0,o=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var S=i&134217727;return S!==0?(i=S&~o,i!==0?n=Ba(i):(_&=S,_!==0?n=Ba(_):a||(a=S&~e,a!==0&&(n=Ba(a))))):(S=i&~o,S!==0?n=Ba(S):_!==0?n=Ba(_):a||(a=i&~e,a!==0&&(n=Ba(a)))),n===0?0:t!==0&&t!==n&&(t&o)===0&&(o=n&-n,a=t&-t,o>=a||o===32&&(a&4194048)!==0)?t:n}function Si(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Qs(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lr(){var e=Zi;return Zi<<=1,(Zi&4194048)===0&&(Zi=256),e}function Br(){var e=Wi;return Wi<<=1,(Wi&62914560)===0&&(Wi=4194304),e}function Bn(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ei(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Zs(e,t,a,i,n,o){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,V=e.expirationTimes,ne=e.hiddenUpdates;for(a=_&~a;0<a;){var ge=31-Qt(a),Ee=1<<ge;S[ge]=0,V[ge]=-1;var se=ne[ge];if(se!==null)for(ne[ge]=null,ge=0;ge<se.length;ge++){var ce=se[ge];ce!==null&&(ce.lane&=-536870913)}a&=~Ee}i!==0&&kr(e,i,0),o!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=o&~(_&~t))}function kr(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Qt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&4194090}function Ur(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-Qt(a),n=1<<i;n&t|e[i]&t&&(e[i]|=t),a&=~n}}function va(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $i(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function kn(){var e=de.p;return e!==0?e:(e=window.event,e===void 0?32:vf(e.type))}function Nr(e,t){var a=de.p;try{return de.p=e,t()}finally{de.p=a}}var Zt=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Zt,pt="__reactProps$"+Zt,ka="__reactContainer$"+Zt,Un="__reactEvents$"+Zt,Rt="__reactListeners$"+Zt,Ws="__reactHandles$"+Zt,u="__reactResources$"+Zt,l="__reactMarker$"+Zt;function s(e){delete e[Lt],delete e[pt],delete e[Un],delete e[Rt],delete e[Ws]}function r(e){var t=e[Lt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ka]||a[Lt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=nf(e);e!==null;){if(a=e[Lt])return a;e=nf(e)}return t}e=a,a=e.parentNode}return null}function c(e){if(e=e[Lt]||e[ka]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function h(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(v(33))}function f(e){var t=e[u];return t||(t=e[u]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function p(e){e[l]=!0}var B=new Set,L={};function j(e,t){q(e,t),q(e+"Capture",t)}function q(e,t){for(L[e]=t,e=0;e<t.length;e++)B.add(t[e])}var H=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Q={},ue={};function Ae(e){return Qe.call(ue,e)?!0:Qe.call(Q,e)?!1:H.test(e)?ue[e]=!0:(Q[e]=!0,!1)}function fe(e,t,a){if(Ae(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function De(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Te(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}var Re,ze;function He(e){if(Re===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Re=t&&t[1]||"",ze=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Re+e+ze}var Ce=!1;function ke(e,t){if(!e||Ce)return"";Ce=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(ce){var se=ce}Reflect.construct(e,[],Ee)}else{try{Ee.call()}catch(ce){se=ce}e.call(Ee.prototype)}}else{try{throw Error()}catch(ce){se=ce}(Ee=e())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(ce){if(ce&&se&&typeof ce.stack=="string")return[ce.stack,se.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),_=o[0],S=o[1];if(_&&S){var V=_.split(`
`),ne=S.split(`
`);for(n=i=0;i<V.length&&!V[i].includes("DetermineComponentFrameRoot");)i++;for(;n<ne.length&&!ne[n].includes("DetermineComponentFrameRoot");)n++;if(i===V.length||n===ne.length)for(i=V.length-1,n=ne.length-1;1<=i&&0<=n&&V[i]!==ne[n];)n--;for(;1<=i&&0<=n;i--,n--)if(V[i]!==ne[n]){if(i!==1||n!==1)do if(i--,n--,0>n||V[i]!==ne[n]){var ge=`
`+V[i].replace(" at new "," at ");return e.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",e.displayName)),ge}while(1<=i&&0<=n);break}}}finally{Ce=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?He(a):""}function Fe(e){switch(e.tag){case 26:case 27:case 5:return He(e.type);case 16:return He("Lazy");case 13:return He("Suspense");case 19:return He("SuspenseList");case 0:case 15:return ke(e.type,!1);case 11:return ke(e.type.render,!1);case 1:return ke(e.type,!0);case 31:return He("Activity");default:return""}}function je(e){try{var t="";do t+=Fe(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Je(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rt(e){var t=Je(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,o=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(_){i=""+_,o.call(this,_)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(_){i=""+_},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ge(e){e._valueTracker||(e._valueTracker=rt(e))}function Ke(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=Je(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function it(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var St=/[\n"\\]/g;function mt(e){return e.replace(St,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Dt(e,t,a,i,n,o,_,S){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),t!=null?_==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ue(t)):e.value!==""+Ue(t)&&(e.value=""+Ue(t)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),t!=null?Bt(e,_,Ue(t)):a!=null?Bt(e,_,Ue(a)):i!=null&&e.removeAttribute("value"),n==null&&o!=null&&(e.defaultChecked=!!o),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Ue(S):e.removeAttribute("name")}function qt(e,t,a,i,n,o,_,S){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||a!=null){if(!(o!=="submit"&&o!=="reset"||t!=null))return;a=a!=null?""+Ue(a):"",t=t!=null?""+Ue(t):a,S||t===e.value||(e.value=t),e.defaultValue=t}i=i??n,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=S?e.checked:!!i,e.defaultChecked=!!i,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Bt(e,t,a){t==="number"&&it(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function yt(e,t,a,i){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&i&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,i&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Nt(e,t,a){if(t!=null&&(t=""+Ue(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ue(a):""}function tt(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(v(92));if(be(i)){if(1<i.length)throw Error(v(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=Ue(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i)}function Yt(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var ba=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ai(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||ba.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Nn(e,t,a){if(t!=null&&typeof t!="object")throw Error(v(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var n in t)i=t[n],t.hasOwnProperty(n)&&a[n]!==i&&Ai(e,n,i)}else for(var o in t)t.hasOwnProperty(o)&&Ai(e,o,t[o])}function zn(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(e){return xi.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var en=null;function Ri(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ta=null,ca=null;function tn(e){var t=c(e);if(t&&(e=t.stateNode)){var a=e[pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Dt(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var n=i[pt]||null;if(!n)throw Error(v(90));Dt(i,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&Ke(i)}break e;case"textarea":Nt(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&yt(e,!!a.multiple,t,!1)}}}var Ti=!1;function Mi(e,t,a){if(Ti)return e(t,a);Ti=!0;try{var i=e(t);return i}finally{if(Ti=!1,(Ta!==null||ca!==null)&&(Ss(),Ta&&(t=Ta,e=ca,ca=Ta=null,tn(t),e)))for(t=0;t<e.length;t++)tn(e[t])}}function Qa(e,t){var a=e.stateNode;if(a===null)return null;var i=a[pt]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(v(231,t,typeof a));return a}var da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ci=!1;if(da)try{var Za={};Object.defineProperty(Za,"passive",{get:function(){Ci=!0}}),window.addEventListener("test",Za,Za),window.removeEventListener("test",Za,Za)}catch{Ci=!1}var Ma=null,an=null,Di=null;function jn(){if(Di)return Di;var e,t=an,a=t.length,i,n="value"in Ma?Ma.value:Ma.textContent,o=n.length;for(e=0;e<a&&t[e]===n[e];e++);var _=a-e;for(i=1;i<=_&&t[a-i]===n[o-i];i++);return Di=n.slice(e,1<i?1-i:void 0)}function jr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ir(){return!0}function iu(){return!1}function Jt(e){function t(a,i,n,o,_){this._reactName=a,this._targetInst=n,this.type=i,this.nativeEvent=o,this.target=_,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(o):o[S]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ir:iu,this.isPropagationStopped=iu,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),t}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vr=Jt(Oi),In=b({},Oi,{view:0,detail:0}),Jf=Jt(In),Js,$s,Vn,Gr=b({},In,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vn&&(Vn&&e.type==="mousemove"?(Js=e.screenX-Vn.screenX,$s=e.screenY-Vn.screenY):$s=Js=0,Vn=e),Js)},movementY:function(e){return"movementY"in e?e.movementY:$s}}),nu=Jt(Gr),$f=b({},Gr,{dataTransfer:0}),eh=Jt($f),th=b({},In,{relatedTarget:0}),el=Jt(th),ah=b({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),ih=Jt(ah),nh=b({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rh=Jt(nh),sh=b({},Oi,{data:0}),ru=Jt(sh),lh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ch(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uh[e])?!!t[e]:!1}function tl(){return ch}var dh=b({},In,{key:function(e){if(e.key){var t=lh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tl,charCode:function(e){return e.type==="keypress"?jr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fh=Jt(dh),hh=b({},Gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),su=Jt(hh),_h=b({},In,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tl}),ph=Jt(_h),mh=b({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),gh=Jt(mh),yh=b({},Gr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vh=Jt(yh),bh=b({},Oi,{newState:0,oldState:0}),Sh=Jt(bh),Eh=[9,13,27,32],al=da&&"CompositionEvent"in window,Gn=null;da&&"documentMode"in document&&(Gn=document.documentMode);var Ah=da&&"TextEvent"in window&&!Gn,lu=da&&(!al||Gn&&8<Gn&&11>=Gn),ou=" ",uu=!1;function cu(e,t){switch(e){case"keyup":return Eh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function du(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nn=!1;function xh(e,t){switch(e){case"compositionend":return du(t);case"keypress":return t.which!==32?null:(uu=!0,ou);case"textInput":return e=t.data,e===ou&&uu?null:e;default:return null}}function Rh(e,t){if(nn)return e==="compositionend"||!al&&cu(e,t)?(e=jn(),Di=an=Ma=null,nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lu&&t.locale!=="ko"?null:t.data;default:return null}}var Th={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Th[e.type]:t==="textarea"}function hu(e,t,a,i){Ta?ca?ca.push(i):ca=[i]:Ta=i,t=Ms(t,"onChange"),0<t.length&&(a=new Vr("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var Pn=null,Hn=null;function Mh(e){Kd(e,0)}function Pr(e){var t=h(e);if(Ke(t))return e}function _u(e,t){if(e==="change")return t}var pu=!1;if(da){var il;if(da){var nl="oninput"in document;if(!nl){var mu=document.createElement("div");mu.setAttribute("oninput","return;"),nl=typeof mu.oninput=="function"}il=nl}else il=!1;pu=il&&(!document.documentMode||9<document.documentMode)}function gu(){Pn&&(Pn.detachEvent("onpropertychange",yu),Hn=Pn=null)}function yu(e){if(e.propertyName==="value"&&Pr(Hn)){var t=[];hu(t,Hn,e,Ri(e)),Mi(Mh,t)}}function Ch(e,t,a){e==="focusin"?(gu(),Pn=t,Hn=a,Pn.attachEvent("onpropertychange",yu)):e==="focusout"&&gu()}function Dh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pr(Hn)}function Oh(e,t){if(e==="click")return Pr(t)}function wh(e,t){if(e==="input"||e==="change")return Pr(t)}function Lh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var aa=typeof Object.is=="function"?Object.is:Lh;function qn(e,t){if(aa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var n=a[i];if(!Qe.call(t,n)||!aa(e[n],t[n]))return!1}return!0}function vu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bu(e,t){var a=vu(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=vu(a)}}function Su(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Su(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Eu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=it(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=it(e.document)}return t}function rl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Bh=da&&"documentMode"in document&&11>=document.documentMode,rn=null,sl=null,Yn=null,ll=!1;function Au(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ll||rn==null||rn!==it(i)||(i=rn,"selectionStart"in i&&rl(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Yn&&qn(Yn,i)||(Yn=i,i=Ms(sl,"onSelect"),0<i.length&&(t=new Vr("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=rn)))}function wi(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var sn={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionrun:wi("Transition","TransitionRun"),transitionstart:wi("Transition","TransitionStart"),transitioncancel:wi("Transition","TransitionCancel"),transitionend:wi("Transition","TransitionEnd")},ol={},xu={};da&&(xu=document.createElement("div").style,"AnimationEvent"in window||(delete sn.animationend.animation,delete sn.animationiteration.animation,delete sn.animationstart.animation),"TransitionEvent"in window||delete sn.transitionend.transition);function Li(e){if(ol[e])return ol[e];if(!sn[e])return e;var t=sn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in xu)return ol[e]=t[a];return e}var Ru=Li("animationend"),Tu=Li("animationiteration"),Mu=Li("animationstart"),kh=Li("transitionrun"),Uh=Li("transitionstart"),Nh=Li("transitioncancel"),Cu=Li("transitionend"),Du=new Map,ul="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ul.push("scrollEnd");function Sa(e,t){Du.set(e,t),j(t,[e])}var Ou=new WeakMap;function fa(e,t){if(typeof e=="object"&&e!==null){var a=Ou.get(e);return a!==void 0?a:(t={value:e,source:t,stack:je(t)},Ou.set(e,t),t)}return{value:e,source:t,stack:je(t)}}var ha=[],ln=0,cl=0;function Hr(){for(var e=ln,t=cl=ln=0;t<e;){var a=ha[t];ha[t++]=null;var i=ha[t];ha[t++]=null;var n=ha[t];ha[t++]=null;var o=ha[t];if(ha[t++]=null,i!==null&&n!==null){var _=i.pending;_===null?n.next=n:(n.next=_.next,_.next=n),i.pending=n}o!==0&&wu(a,n,o)}}function qr(e,t,a,i){ha[ln++]=e,ha[ln++]=t,ha[ln++]=a,ha[ln++]=i,cl|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function dl(e,t,a,i){return qr(e,t,a,i),Yr(e)}function on(e,t){return qr(e,null,null,t),Yr(e)}function wu(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var n=!1,o=e.return;o!==null;)o.childLanes|=a,i=o.alternate,i!==null&&(i.childLanes|=a),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(n=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,n&&t!==null&&(n=31-Qt(a),e=o.hiddenUpdates,i=e[n],i===null?e[n]=[t]:i.push(t),t.lane=a|536870912),o):null}function Yr(e){if(50<mr)throw mr=0,yo=null,Error(v(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var un={};function zh(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(e,t,a,i){return new zh(e,t,a,i)}function fl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ua(e,t){var a=e.alternate;return a===null?(a=ia(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Lu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fr(e,t,a,i,n,o){var _=0;if(i=e,typeof e=="function")fl(e)&&(_=1);else if(typeof e=="string")_=I_(e,a,Se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case E:return e=ia(31,a,t,n),e.elementType=E,e.lanes=o,e;case C:return Bi(a.children,n,o,t);case I:_=8,n|=24;break;case K:return e=ia(12,a,t,n|2),e.elementType=K,e.lanes=o,e;case te:return e=ia(13,a,t,n),e.elementType=te,e.lanes=o,e;case re:return e=ia(19,a,t,n),e.elementType=re,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:case le:_=10;break e;case F:_=9;break e;case P:_=11;break e;case Y:_=14;break e;case R:_=16,i=null;break e}_=29,a=Error(v(130,e===null?"null":typeof e,"")),i=null}return t=ia(_,a,t,n),t.elementType=e,t.type=i,t.lanes=o,t}function Bi(e,t,a,i){return e=ia(7,e,i,t),e.lanes=a,e}function hl(e,t,a){return e=ia(6,e,null,t),e.lanes=a,e}function _l(e,t,a){return t=ia(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var cn=[],dn=0,Kr=null,Xr=0,_a=[],pa=0,ki=null,Na=1,za="";function Ui(e,t){cn[dn++]=Xr,cn[dn++]=Kr,Kr=e,Xr=t}function Bu(e,t,a){_a[pa++]=Na,_a[pa++]=za,_a[pa++]=ki,ki=e;var i=Na;e=za;var n=32-Qt(i)-1;i&=~(1<<n),a+=1;var o=32-Qt(t)+n;if(30<o){var _=n-n%5;o=(i&(1<<_)-1).toString(32),i>>=_,n-=_,Na=1<<32-Qt(t)+n|a<<n|i,za=o+e}else Na=1<<o|a<<n|i,za=e}function pl(e){e.return!==null&&(Ui(e,1),Bu(e,1,0))}function ml(e){for(;e===Kr;)Kr=cn[--dn],cn[dn]=null,Xr=cn[--dn],cn[dn]=null;for(;e===ki;)ki=_a[--pa],_a[pa]=null,za=_a[--pa],_a[pa]=null,Na=_a[--pa],_a[pa]=null}var Wt=null,Et=null,st=!1,Ni=null,Ca=!1,gl=Error(v(519));function zi(e){var t=Error(v(418,""));throw Xn(fa(t,e)),gl}function ku(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[Lt]=e,t[pt]=i,a){case"dialog":et("cancel",t),et("close",t);break;case"iframe":case"object":case"embed":et("load",t);break;case"video":case"audio":for(a=0;a<yr.length;a++)et(yr[a],t);break;case"source":et("error",t);break;case"img":case"image":case"link":et("error",t),et("load",t);break;case"details":et("toggle",t);break;case"input":et("invalid",t),qt(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Ge(t);break;case"select":et("invalid",t);break;case"textarea":et("invalid",t),tt(t,i.value,i.defaultValue,i.children),Ge(t)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||Wd(t.textContent,a)?(i.popover!=null&&(et("beforetoggle",t),et("toggle",t)),i.onScroll!=null&&et("scroll",t),i.onScrollEnd!=null&&et("scrollend",t),i.onClick!=null&&(t.onclick=Cs),t=!0):t=!1,t||zi(e)}function Uu(e){for(Wt=e.return;Wt;)switch(Wt.tag){case 5:case 13:Ca=!1;return;case 27:case 3:Ca=!0;return;default:Wt=Wt.return}}function Fn(e){if(e!==Wt)return!1;if(!st)return Uu(e),st=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ko(e.type,e.memoizedProps)),a=!a),a&&Et&&zi(e),Uu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(v(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Et=Aa(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Et=null}}else t===27?(t=Et,fi(e.type)?(e=jo,jo=null,Et=e):Et=t):Et=Wt?Aa(e.stateNode.nextSibling):null;return!0}function Kn(){Et=Wt=null,st=!1}function Nu(){var e=Ni;return e!==null&&(ta===null?ta=e:ta.push.apply(ta,e),Ni=null),e}function Xn(e){Ni===null?Ni=[e]:Ni.push(e)}var yl=O(null),ji=null,ja=null;function Wa(e,t,a){_e(yl,t._currentValue),t._currentValue=a}function Ia(e){e._currentValue=yl.current,W(yl)}function vl(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function bl(e,t,a,i){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var o=n.dependencies;if(o!==null){var _=n.child;o=o.firstContext;e:for(;o!==null;){var S=o;o=n;for(var V=0;V<t.length;V++)if(S.context===t[V]){o.lanes|=a,S=o.alternate,S!==null&&(S.lanes|=a),vl(o.return,a,e),i||(_=null);break e}o=S.next}}else if(n.tag===18){if(_=n.return,_===null)throw Error(v(341));_.lanes|=a,o=_.alternate,o!==null&&(o.lanes|=a),vl(_,a,e),_=null}else _=n.child;if(_!==null)_.return=n;else for(_=n;_!==null;){if(_===e){_=null;break}if(n=_.sibling,n!==null){n.return=_.return,_=n;break}_=_.return}n=_}}function Qn(e,t,a,i){e=null;for(var n=t,o=!1;n!==null;){if(!o){if((n.flags&524288)!==0)o=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var _=n.alternate;if(_===null)throw Error(v(387));if(_=_.memoizedProps,_!==null){var S=n.type;aa(n.pendingProps.value,_.value)||(e!==null?e.push(S):e=[S])}}else if(n===me.current){if(_=n.alternate,_===null)throw Error(v(387));_.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(xr):e=[xr])}n=n.return}e!==null&&bl(t,e,a,i),t.flags|=262144}function Qr(e){for(e=e.firstContext;e!==null;){if(!aa(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ii(e){ji=e,ja=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ft(e){return zu(ji,e)}function Zr(e,t){return ji===null&&Ii(e),zu(e,t)}function zu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ja===null){if(e===null)throw Error(v(308));ja=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ja=ja.next=t;return a}var jh=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Ih=ee.unstable_scheduleCallback,Vh=ee.unstable_NormalPriority,kt={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sl(){return{controller:new jh,data:new Map,refCount:0}}function Zn(e){e.refCount--,e.refCount===0&&Ih(Vh,function(){e.controller.abort()})}var Wn=null,El=0,fn=0,hn=null;function Gh(e,t){if(Wn===null){var a=Wn=[];El=0,fn=Ro(),hn={status:"pending",value:void 0,then:function(i){a.push(i)}}}return El++,t.then(ju,ju),t}function ju(){if(--El===0&&Wn!==null){hn!==null&&(hn.status="fulfilled");var e=Wn;Wn=null,fn=0,hn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ph(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(i.status="rejected",i.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),i}var Iu=N.S;N.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Gh(e,t),Iu!==null&&Iu(e,t)};var Vi=O(null);function Al(){var e=Vi.current;return e!==null?e:ht.pooledCache}function Wr(e,t){t===null?_e(Vi,Vi.current):_e(Vi,t.pool)}function Vu(){var e=Al();return e===null?null:{parent:kt._currentValue,pool:e}}var Jn=Error(v(460)),Gu=Error(v(474)),Jr=Error(v(542)),xl={then:function(){}};function Pu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $r(){}function Hu(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then($r,$r),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yu(e),e;default:if(typeof t.status=="string")t.then($r,$r);else{if(e=ht,e!==null&&100<e.shellSuspendCounter)throw Error(v(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=i}},function(i){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yu(e),e}throw $n=t,Jn}}var $n=null;function qu(){if($n===null)throw Error(v(459));var e=$n;return $n=null,e}function Yu(e){if(e===Jn||e===Jr)throw Error(v(483))}var Ja=!1;function Rl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function $a(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ei(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(lt&2)!==0){var n=i.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),i.pending=t,t=Yr(e),wu(e,null,a),t}return qr(e,i,t,a),Yr(e)}function er(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,Ur(e,a)}}function Ml(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var n=null,o=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};o===null?n=o=_:o=o.next=_,a=a.next}while(a!==null);o===null?n=o=t:o=o.next=t}else n=o=t;a={baseState:i.baseState,firstBaseUpdate:n,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Cl=!1;function tr(){if(Cl){var e=hn;if(e!==null)throw e}}function ar(e,t,a,i){Cl=!1;var n=e.updateQueue;Ja=!1;var o=n.firstBaseUpdate,_=n.lastBaseUpdate,S=n.shared.pending;if(S!==null){n.shared.pending=null;var V=S,ne=V.next;V.next=null,_===null?o=ne:_.next=ne,_=V;var ge=e.alternate;ge!==null&&(ge=ge.updateQueue,S=ge.lastBaseUpdate,S!==_&&(S===null?ge.firstBaseUpdate=ne:S.next=ne,ge.lastBaseUpdate=V))}if(o!==null){var Ee=n.baseState;_=0,ge=ne=V=null,S=o;do{var se=S.lane&-536870913,ce=se!==S.lane;if(ce?(at&se)===se:(i&se)===se){se!==0&&se===fn&&(Cl=!0),ge!==null&&(ge=ge.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ye=e,Pe=S;se=t;var dt=a;switch(Pe.tag){case 1:if(Ye=Pe.payload,typeof Ye=="function"){Ee=Ye.call(dt,Ee,se);break e}Ee=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=Pe.payload,se=typeof Ye=="function"?Ye.call(dt,Ee,se):Ye,se==null)break e;Ee=b({},Ee,se);break e;case 2:Ja=!0}}se=S.callback,se!==null&&(e.flags|=64,ce&&(e.flags|=8192),ce=n.callbacks,ce===null?n.callbacks=[se]:ce.push(se))}else ce={lane:se,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ge===null?(ne=ge=ce,V=Ee):ge=ge.next=ce,_|=se;if(S=S.next,S===null){if(S=n.shared.pending,S===null)break;ce=S,S=ce.next,ce.next=null,n.lastBaseUpdate=ce,n.shared.pending=null}}while(!0);ge===null&&(V=Ee),n.baseState=V,n.firstBaseUpdate=ne,n.lastBaseUpdate=ge,o===null&&(n.shared.lanes=0),oi|=_,e.lanes=_,e.memoizedState=Ee}}function Fu(e,t){if(typeof e!="function")throw Error(v(191,e));e.call(t)}function Ku(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Fu(a[e],t)}var _n=O(null),es=O(0);function Xu(e,t){e=Fa,_e(es,e),_e(_n,t),Fa=e|t.baseLanes}function Dl(){_e(es,Fa),_e(_n,_n.current)}function Ol(){Fa=es.current,W(_n),W(es)}var ti=0,Ze=null,ut=null,Ot=null,ts=!1,pn=!1,Gi=!1,as=0,ir=0,mn=null,Hh=0;function Tt(){throw Error(v(321))}function wl(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!aa(e[a],t[a]))return!1;return!0}function Ll(e,t,a,i,n,o){return ti=o,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=e===null||e.memoizedState===null?wc:Lc,Gi=!1,o=a(i,n),Gi=!1,pn&&(o=Zu(t,a,i,n)),Qu(e),o}function Qu(e){N.H=os;var t=ut!==null&&ut.next!==null;if(ti=0,Ot=ut=Ze=null,ts=!1,ir=0,mn=null,t)throw Error(v(300));e===null||zt||(e=e.dependencies,e!==null&&Qr(e)&&(zt=!0))}function Zu(e,t,a,i){Ze=e;var n=0;do{if(pn&&(mn=null),ir=0,pn=!1,25<=n)throw Error(v(301));if(n+=1,Ot=ut=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}N.H=Zh,o=t(a,i)}while(pn);return o}function qh(){var e=N.H,t=e.useState()[0];return t=typeof t.then=="function"?nr(t):t,e=e.useState()[0],(ut!==null?ut.memoizedState:null)!==e&&(Ze.flags|=1024),t}function Bl(){var e=as!==0;return as=0,e}function kl(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Ul(e){if(ts){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ts=!1}ti=0,Ot=ut=Ze=null,pn=!1,ir=as=0,mn=null}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ze.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function wt(){if(ut===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=Ot===null?Ze.memoizedState:Ot.next;if(t!==null)Ot=t,ut=e;else{if(e===null)throw Ze.alternate===null?Error(v(467)):Error(v(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Ot===null?Ze.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function Nl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nr(e){var t=ir;return ir+=1,mn===null&&(mn=[]),e=Hu(mn,e,t),t=Ze,(Ot===null?t.memoizedState:Ot.next)===null&&(t=t.alternate,N.H=t===null||t.memoizedState===null?wc:Lc),e}function is(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nr(e);if(e.$$typeof===le)return Ft(e)}throw Error(v(438,String(e)))}function zl(e){var t=null,a=Ze.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=Ze.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Nl(),Ze.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=A;return t.index++,a}function Va(e,t){return typeof t=="function"?t(e):t}function ns(e){var t=wt();return jl(t,ut,e)}function jl(e,t,a){var i=e.queue;if(i===null)throw Error(v(311));i.lastRenderedReducer=a;var n=e.baseQueue,o=i.pending;if(o!==null){if(n!==null){var _=n.next;n.next=o.next,o.next=_}t.baseQueue=n=o,i.pending=null}if(o=e.baseState,n===null)e.memoizedState=o;else{t=n.next;var S=_=null,V=null,ne=t,ge=!1;do{var Ee=ne.lane&-536870913;if(Ee!==ne.lane?(at&Ee)===Ee:(ti&Ee)===Ee){var se=ne.revertLane;if(se===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),Ee===fn&&(ge=!0);else if((ti&se)===se){ne=ne.next,se===fn&&(ge=!0);continue}else Ee={lane:0,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},V===null?(S=V=Ee,_=o):V=V.next=Ee,Ze.lanes|=se,oi|=se;Ee=ne.action,Gi&&a(o,Ee),o=ne.hasEagerState?ne.eagerState:a(o,Ee)}else se={lane:Ee,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},V===null?(S=V=se,_=o):V=V.next=se,Ze.lanes|=Ee,oi|=Ee;ne=ne.next}while(ne!==null&&ne!==t);if(V===null?_=o:V.next=S,!aa(o,e.memoizedState)&&(zt=!0,ge&&(a=hn,a!==null)))throw a;e.memoizedState=o,e.baseState=_,e.baseQueue=V,i.lastRenderedState=o}return n===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Il(e){var t=wt(),a=t.queue;if(a===null)throw Error(v(311));a.lastRenderedReducer=e;var i=a.dispatch,n=a.pending,o=t.memoizedState;if(n!==null){a.pending=null;var _=n=n.next;do o=e(o,_.action),_=_.next;while(_!==n);aa(o,t.memoizedState)||(zt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),a.lastRenderedState=o}return[o,i]}function Wu(e,t,a){var i=Ze,n=wt(),o=st;if(o){if(a===void 0)throw Error(v(407));a=a()}else a=t();var _=!aa((ut||n).memoizedState,a);_&&(n.memoizedState=a,zt=!0),n=n.queue;var S=ec.bind(null,i,n,e);if(rr(2048,8,S,[e]),n.getSnapshot!==t||_||Ot!==null&&Ot.memoizedState.tag&1){if(i.flags|=2048,gn(9,rs(),$u.bind(null,i,n,a,t),null),ht===null)throw Error(v(349));o||(ti&124)!==0||Ju(i,t,a)}return a}function Ju(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ze.updateQueue,t===null?(t=Nl(),Ze.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function $u(e,t,a,i){t.value=a,t.getSnapshot=i,tc(t)&&ac(e)}function ec(e,t,a){return a(function(){tc(t)&&ac(e)})}function tc(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!aa(e,a)}catch{return!0}}function ac(e){var t=on(e,2);t!==null&&oa(t,e,2)}function Vl(e){var t=$t();if(typeof e=="function"){var a=e;if(e=a(),Gi){xa(!0);try{a()}finally{xa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:e},t}function ic(e,t,a,i){return e.baseState=a,jl(e,ut,typeof i=="function"?i:Va)}function Yh(e,t,a,i,n){if(ls(e))throw Error(v(485));if(e=t.action,e!==null){var o={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){o.listeners.push(_)}};N.T!==null?a(!0):o.isTransition=!1,i(o),a=t.pending,a===null?(o.next=t.pending=o,nc(t,o)):(o.next=a.next,t.pending=a.next=o)}}function nc(e,t){var a=t.action,i=t.payload,n=e.state;if(t.isTransition){var o=N.T,_={};N.T=_;try{var S=a(n,i),V=N.S;V!==null&&V(_,S),rc(e,t,S)}catch(ne){Gl(e,t,ne)}finally{N.T=o}}else try{o=a(n,i),rc(e,t,o)}catch(ne){Gl(e,t,ne)}}function rc(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){sc(e,t,i)},function(i){return Gl(e,t,i)}):sc(e,t,a)}function sc(e,t,a){t.status="fulfilled",t.value=a,lc(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,nc(e,a)))}function Gl(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,lc(t),t=t.next;while(t!==i)}e.action=null}function lc(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oc(e,t){return t}function uc(e,t){if(st){var a=ht.formState;if(a!==null){e:{var i=Ze;if(st){if(Et){t:{for(var n=Et,o=Ca;n.nodeType!==8;){if(!o){n=null;break t}if(n=Aa(n.nextSibling),n===null){n=null;break t}}o=n.data,n=o==="F!"||o==="F"?n:null}if(n){Et=Aa(n.nextSibling),i=n.data==="F!";break e}}zi(i)}i=!1}i&&(t=a[0])}}return a=$t(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oc,lastRenderedState:t},a.queue=i,a=Cc.bind(null,Ze,i),i.dispatch=a,i=Vl(!1),o=Fl.bind(null,Ze,!1,i.queue),i=$t(),n={state:t,dispatch:null,action:e,pending:null},i.queue=n,a=Yh.bind(null,Ze,n,o,a),n.dispatch=a,i.memoizedState=e,[t,a,!1]}function cc(e){var t=wt();return dc(t,ut,e)}function dc(e,t,a){if(t=jl(e,t,oc)[0],e=ns(Va)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=nr(t)}catch(_){throw _===Jn?Jr:_}else i=t;t=wt();var n=t.queue,o=n.dispatch;return a!==t.memoizedState&&(Ze.flags|=2048,gn(9,rs(),Fh.bind(null,n,a),null)),[i,o,e]}function Fh(e,t){e.action=t}function fc(e){var t=wt(),a=ut;if(a!==null)return dc(t,a,e);wt(),t=t.memoizedState,a=wt();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function gn(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=Ze.updateQueue,t===null&&(t=Nl(),Ze.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function rs(){return{destroy:void 0,resource:void 0}}function hc(){return wt().memoizedState}function ss(e,t,a,i){var n=$t();i=i===void 0?null:i,Ze.flags|=e,n.memoizedState=gn(1|t,rs(),a,i)}function rr(e,t,a,i){var n=wt();i=i===void 0?null:i;var o=n.memoizedState.inst;ut!==null&&i!==null&&wl(i,ut.memoizedState.deps)?n.memoizedState=gn(t,o,a,i):(Ze.flags|=e,n.memoizedState=gn(1|t,o,a,i))}function _c(e,t){ss(8390656,8,e,t)}function pc(e,t){rr(2048,8,e,t)}function mc(e,t){return rr(4,2,e,t)}function gc(e,t){return rr(4,4,e,t)}function yc(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vc(e,t,a){a=a!=null?a.concat([e]):null,rr(4,4,yc.bind(null,t,e),a)}function Pl(){}function bc(e,t){var a=wt();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&wl(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function Sc(e,t){var a=wt();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&wl(t,i[1]))return i[0];if(i=e(),Gi){xa(!0);try{e()}finally{xa(!1)}}return a.memoizedState=[i,t],i}function Hl(e,t,a){return a===void 0||(ti&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=xd(),Ze.lanes|=e,oi|=e,a)}function Ec(e,t,a,i){return aa(a,t)?a:_n.current!==null?(e=Hl(e,a,i),aa(e,t)||(zt=!0),e):(ti&42)===0?(zt=!0,e.memoizedState=a):(e=xd(),Ze.lanes|=e,oi|=e,t)}function Ac(e,t,a,i,n){var o=de.p;de.p=o!==0&&8>o?o:8;var _=N.T,S={};N.T=S,Fl(e,!1,t,a);try{var V=n(),ne=N.S;if(ne!==null&&ne(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ge=Ph(V,i);sr(e,t,ge,la(e))}else sr(e,t,i,la(e))}catch(Ee){sr(e,t,{then:function(){},status:"rejected",reason:Ee},la())}finally{de.p=o,N.T=_}}function Kh(){}function ql(e,t,a,i){if(e.tag!==5)throw Error(v(476));var n=xc(e).queue;Ac(e,n,t,he,a===null?Kh:function(){return Rc(e),a(i)})}function xc(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:he},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Rc(e){var t=xc(e).next.queue;sr(e,t,{},la())}function Yl(){return Ft(xr)}function Tc(){return wt().memoizedState}function Mc(){return wt().memoizedState}function Xh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=la();e=$a(a);var i=ei(t,e,a);i!==null&&(oa(i,t,a),er(i,t,a)),t={cache:Sl()},e.payload=t;return}t=t.return}}function Qh(e,t,a){var i=la();a={lane:i,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ls(e)?Dc(t,a):(a=dl(e,t,a,i),a!==null&&(oa(a,e,i),Oc(a,t,i)))}function Cc(e,t,a){var i=la();sr(e,t,a,i)}function sr(e,t,a,i){var n={lane:i,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ls(e))Dc(t,n);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var _=t.lastRenderedState,S=o(_,a);if(n.hasEagerState=!0,n.eagerState=S,aa(S,_))return qr(e,t,n,0),ht===null&&Hr(),!1}catch{}finally{}if(a=dl(e,t,n,i),a!==null)return oa(a,e,i),Oc(a,t,i),!0}return!1}function Fl(e,t,a,i){if(i={lane:2,revertLane:Ro(),action:i,hasEagerState:!1,eagerState:null,next:null},ls(e)){if(t)throw Error(v(479))}else t=dl(e,a,i,2),t!==null&&oa(t,e,2)}function ls(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function Dc(e,t){pn=ts=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Oc(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,Ur(e,a)}}var os={readContext:Ft,use:is,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},wc={readContext:Ft,use:is,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:Ft,useEffect:_c,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ss(4194308,4,yc.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ss(4194308,4,e,t)},useInsertionEffect:function(e,t){ss(4,2,e,t)},useMemo:function(e,t){var a=$t();t=t===void 0?null:t;var i=e();if(Gi){xa(!0);try{e()}finally{xa(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=$t();if(a!==void 0){var n=a(t);if(Gi){xa(!0);try{a(t)}finally{xa(!1)}}}else n=t;return i.memoizedState=i.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},i.queue=e,e=e.dispatch=Qh.bind(null,Ze,e),[i.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:function(e){e=Vl(e);var t=e.queue,a=Cc.bind(null,Ze,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Pl,useDeferredValue:function(e,t){var a=$t();return Hl(a,e,t)},useTransition:function(){var e=Vl(!1);return e=Ac.bind(null,Ze,e.queue,!0,!1),$t().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=Ze,n=$t();if(st){if(a===void 0)throw Error(v(407));a=a()}else{if(a=t(),ht===null)throw Error(v(349));(at&124)!==0||Ju(i,t,a)}n.memoizedState=a;var o={value:a,getSnapshot:t};return n.queue=o,_c(ec.bind(null,i,o,e),[e]),i.flags|=2048,gn(9,rs(),$u.bind(null,i,o,a,t),null),a},useId:function(){var e=$t(),t=ht.identifierPrefix;if(st){var a=za,i=Na;a=(i&~(1<<32-Qt(i)-1)).toString(32)+a,t="«"+t+"R"+a,a=as++,0<a&&(t+="H"+a.toString(32)),t+="»"}else a=Hh++,t="«"+t+"r"+a.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Yl,useFormState:uc,useActionState:uc,useOptimistic:function(e){var t=$t();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Fl.bind(null,Ze,!0,a),a.dispatch=t,[e,t]},useMemoCache:zl,useCacheRefresh:function(){return $t().memoizedState=Xh.bind(null,Ze)}},Lc={readContext:Ft,use:is,useCallback:bc,useContext:Ft,useEffect:pc,useImperativeHandle:vc,useInsertionEffect:mc,useLayoutEffect:gc,useMemo:Sc,useReducer:ns,useRef:hc,useState:function(){return ns(Va)},useDebugValue:Pl,useDeferredValue:function(e,t){var a=wt();return Ec(a,ut.memoizedState,e,t)},useTransition:function(){var e=ns(Va)[0],t=wt().memoizedState;return[typeof e=="boolean"?e:nr(e),t]},useSyncExternalStore:Wu,useId:Tc,useHostTransitionStatus:Yl,useFormState:cc,useActionState:cc,useOptimistic:function(e,t){var a=wt();return ic(a,ut,e,t)},useMemoCache:zl,useCacheRefresh:Mc},Zh={readContext:Ft,use:is,useCallback:bc,useContext:Ft,useEffect:pc,useImperativeHandle:vc,useInsertionEffect:mc,useLayoutEffect:gc,useMemo:Sc,useReducer:Il,useRef:hc,useState:function(){return Il(Va)},useDebugValue:Pl,useDeferredValue:function(e,t){var a=wt();return ut===null?Hl(a,e,t):Ec(a,ut.memoizedState,e,t)},useTransition:function(){var e=Il(Va)[0],t=wt().memoizedState;return[typeof e=="boolean"?e:nr(e),t]},useSyncExternalStore:Wu,useId:Tc,useHostTransitionStatus:Yl,useFormState:fc,useActionState:fc,useOptimistic:function(e,t){var a=wt();return ut!==null?ic(a,ut,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:zl,useCacheRefresh:Mc},yn=null,lr=0;function us(e){var t=lr;return lr+=1,yn===null&&(yn=[]),Hu(yn,e,t)}function or(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function cs(e,t){throw t.$$typeof===D?Error(v(525)):(e=Object.prototype.toString.call(t),Error(v(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Bc(e){var t=e._init;return t(e._payload)}function kc(e){function t($,X){if(e){var ae=$.deletions;ae===null?($.deletions=[X],$.flags|=16):ae.push(X)}}function a($,X){if(!e)return null;for(;X!==null;)t($,X),X=X.sibling;return null}function i($){for(var X=new Map;$!==null;)$.key!==null?X.set($.key,$):X.set($.index,$),$=$.sibling;return X}function n($,X){return $=Ua($,X),$.index=0,$.sibling=null,$}function o($,X,ae){return $.index=ae,e?(ae=$.alternate,ae!==null?(ae=ae.index,ae<X?($.flags|=67108866,X):ae):($.flags|=67108866,X)):($.flags|=1048576,X)}function _($){return e&&$.alternate===null&&($.flags|=67108866),$}function S($,X,ae,ye){return X===null||X.tag!==6?(X=hl(ae,$.mode,ye),X.return=$,X):(X=n(X,ae),X.return=$,X)}function V($,X,ae,ye){var Be=ae.type;return Be===C?ge($,X,ae.props.children,ye,ae.key):X!==null&&(X.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===R&&Bc(Be)===X.type)?(X=n(X,ae.props),or(X,ae),X.return=$,X):(X=Fr(ae.type,ae.key,ae.props,null,$.mode,ye),or(X,ae),X.return=$,X)}function ne($,X,ae,ye){return X===null||X.tag!==4||X.stateNode.containerInfo!==ae.containerInfo||X.stateNode.implementation!==ae.implementation?(X=_l(ae,$.mode,ye),X.return=$,X):(X=n(X,ae.children||[]),X.return=$,X)}function ge($,X,ae,ye,Be){return X===null||X.tag!==7?(X=Bi(ae,$.mode,ye,Be),X.return=$,X):(X=n(X,ae),X.return=$,X)}function Ee($,X,ae){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=hl(""+X,$.mode,ae),X.return=$,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case k:return ae=Fr(X.type,X.key,X.props,null,$.mode,ae),or(ae,X),ae.return=$,ae;case z:return X=_l(X,$.mode,ae),X.return=$,X;case R:var ye=X._init;return X=ye(X._payload),Ee($,X,ae)}if(be(X)||oe(X))return X=Bi(X,$.mode,ae,null),X.return=$,X;if(typeof X.then=="function")return Ee($,us(X),ae);if(X.$$typeof===le)return Ee($,Zr($,X),ae);cs($,X)}return null}function se($,X,ae,ye){var Be=X!==null?X.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Be!==null?null:S($,X,""+ae,ye);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case k:return ae.key===Be?V($,X,ae,ye):null;case z:return ae.key===Be?ne($,X,ae,ye):null;case R:return Be=ae._init,ae=Be(ae._payload),se($,X,ae,ye)}if(be(ae)||oe(ae))return Be!==null?null:ge($,X,ae,ye,null);if(typeof ae.then=="function")return se($,X,us(ae),ye);if(ae.$$typeof===le)return se($,X,Zr($,ae),ye);cs($,ae)}return null}function ce($,X,ae,ye,Be){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return $=$.get(ae)||null,S(X,$,""+ye,Be);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case k:return $=$.get(ye.key===null?ae:ye.key)||null,V(X,$,ye,Be);case z:return $=$.get(ye.key===null?ae:ye.key)||null,ne(X,$,ye,Be);case R:var We=ye._init;return ye=We(ye._payload),ce($,X,ae,ye,Be)}if(be(ye)||oe(ye))return $=$.get(ae)||null,ge(X,$,ye,Be,null);if(typeof ye.then=="function")return ce($,X,ae,us(ye),Be);if(ye.$$typeof===le)return ce($,X,ae,Zr(X,ye),Be);cs(X,ye)}return null}function Ye($,X,ae,ye){for(var Be=null,We=null,Ne=X,qe=X=0,It=null;Ne!==null&&qe<ae.length;qe++){Ne.index>qe?(It=Ne,Ne=null):It=Ne.sibling;var nt=se($,Ne,ae[qe],ye);if(nt===null){Ne===null&&(Ne=It);break}e&&Ne&&nt.alternate===null&&t($,Ne),X=o(nt,X,qe),We===null?Be=nt:We.sibling=nt,We=nt,Ne=It}if(qe===ae.length)return a($,Ne),st&&Ui($,qe),Be;if(Ne===null){for(;qe<ae.length;qe++)Ne=Ee($,ae[qe],ye),Ne!==null&&(X=o(Ne,X,qe),We===null?Be=Ne:We.sibling=Ne,We=Ne);return st&&Ui($,qe),Be}for(Ne=i(Ne);qe<ae.length;qe++)It=ce(Ne,$,qe,ae[qe],ye),It!==null&&(e&&It.alternate!==null&&Ne.delete(It.key===null?qe:It.key),X=o(It,X,qe),We===null?Be=It:We.sibling=It,We=It);return e&&Ne.forEach(function(gi){return t($,gi)}),st&&Ui($,qe),Be}function Pe($,X,ae,ye){if(ae==null)throw Error(v(151));for(var Be=null,We=null,Ne=X,qe=X=0,It=null,nt=ae.next();Ne!==null&&!nt.done;qe++,nt=ae.next()){Ne.index>qe?(It=Ne,Ne=null):It=Ne.sibling;var gi=se($,Ne,nt.value,ye);if(gi===null){Ne===null&&(Ne=It);break}e&&Ne&&gi.alternate===null&&t($,Ne),X=o(gi,X,qe),We===null?Be=gi:We.sibling=gi,We=gi,Ne=It}if(nt.done)return a($,Ne),st&&Ui($,qe),Be;if(Ne===null){for(;!nt.done;qe++,nt=ae.next())nt=Ee($,nt.value,ye),nt!==null&&(X=o(nt,X,qe),We===null?Be=nt:We.sibling=nt,We=nt);return st&&Ui($,qe),Be}for(Ne=i(Ne);!nt.done;qe++,nt=ae.next())nt=ce(Ne,$,qe,nt.value,ye),nt!==null&&(e&&nt.alternate!==null&&Ne.delete(nt.key===null?qe:nt.key),X=o(nt,X,qe),We===null?Be=nt:We.sibling=nt,We=nt);return e&&Ne.forEach(function(W_){return t($,W_)}),st&&Ui($,qe),Be}function dt($,X,ae,ye){if(typeof ae=="object"&&ae!==null&&ae.type===C&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case k:e:{for(var Be=ae.key;X!==null;){if(X.key===Be){if(Be=ae.type,Be===C){if(X.tag===7){a($,X.sibling),ye=n(X,ae.props.children),ye.return=$,$=ye;break e}}else if(X.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===R&&Bc(Be)===X.type){a($,X.sibling),ye=n(X,ae.props),or(ye,ae),ye.return=$,$=ye;break e}a($,X);break}else t($,X);X=X.sibling}ae.type===C?(ye=Bi(ae.props.children,$.mode,ye,ae.key),ye.return=$,$=ye):(ye=Fr(ae.type,ae.key,ae.props,null,$.mode,ye),or(ye,ae),ye.return=$,$=ye)}return _($);case z:e:{for(Be=ae.key;X!==null;){if(X.key===Be)if(X.tag===4&&X.stateNode.containerInfo===ae.containerInfo&&X.stateNode.implementation===ae.implementation){a($,X.sibling),ye=n(X,ae.children||[]),ye.return=$,$=ye;break e}else{a($,X);break}else t($,X);X=X.sibling}ye=_l(ae,$.mode,ye),ye.return=$,$=ye}return _($);case R:return Be=ae._init,ae=Be(ae._payload),dt($,X,ae,ye)}if(be(ae))return Ye($,X,ae,ye);if(oe(ae)){if(Be=oe(ae),typeof Be!="function")throw Error(v(150));return ae=Be.call(ae),Pe($,X,ae,ye)}if(typeof ae.then=="function")return dt($,X,us(ae),ye);if(ae.$$typeof===le)return dt($,X,Zr($,ae),ye);cs($,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,X!==null&&X.tag===6?(a($,X.sibling),ye=n(X,ae),ye.return=$,$=ye):(a($,X),ye=hl(ae,$.mode,ye),ye.return=$,$=ye),_($)):a($,X)}return function($,X,ae,ye){try{lr=0;var Be=dt($,X,ae,ye);return yn=null,Be}catch(Ne){if(Ne===Jn||Ne===Jr)throw Ne;var We=ia(29,Ne,null,$.mode);return We.lanes=ye,We.return=$,We}finally{}}}var vn=kc(!0),Uc=kc(!1),ma=O(null),Da=null;function ai(e){var t=e.alternate;_e(Ut,Ut.current&1),_e(ma,e),Da===null&&(t===null||_n.current!==null||t.memoizedState!==null)&&(Da=e)}function Nc(e){if(e.tag===22){if(_e(Ut,Ut.current),_e(ma,e),Da===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Da=e)}}else ii()}function ii(){_e(Ut,Ut.current),_e(ma,ma.current)}function Ga(e){W(ma),Da===e&&(Da=null),W(Ut)}var Ut=O(0);function ds(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||zo(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Kl(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:b({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Xl={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=la(),n=$a(i);n.payload=t,a!=null&&(n.callback=a),t=ei(e,n,i),t!==null&&(oa(t,e,i),er(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=la(),n=$a(i);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=ei(e,n,i),t!==null&&(oa(t,e,i),er(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=la(),i=$a(a);i.tag=2,t!=null&&(i.callback=t),t=ei(e,i,a),t!==null&&(oa(t,e,a),er(t,e,a))}};function zc(e,t,a,i,n,o,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,_):t.prototype&&t.prototype.isPureReactComponent?!qn(a,i)||!qn(n,o):!0}function jc(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&Xl.enqueueReplaceState(t,t.state,null)}function Pi(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=b({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}var fs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ic(e){fs(e)}function Vc(e){console.error(e)}function Gc(e){fs(e)}function hs(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Pc(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Ql(e,t,a){return a=$a(a),a.tag=3,a.payload={element:null},a.callback=function(){hs(e,t)},a}function Hc(e){return e=$a(e),e.tag=3,e}function qc(e,t,a,i){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var o=i.value;e.payload=function(){return n(o)},e.callback=function(){Pc(t,a,i)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Pc(t,a,i),typeof n!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})})}function Wh(e,t,a,i,n){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&Qn(t,a,n,!0),a=ma.current,a!==null){switch(a.tag){case 13:return Da===null?bo():a.alternate===null&&At===0&&(At=3),a.flags&=-257,a.flags|=65536,a.lanes=n,i===xl?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),Eo(e,i,n)),!1;case 22:return a.flags|=65536,i===xl?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),Eo(e,i,n)),!1}throw Error(v(435,a.tag))}return Eo(e,i,n),bo(),!1}if(st)return t=ma.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,i!==gl&&(e=Error(v(422),{cause:i}),Xn(fa(e,a)))):(i!==gl&&(t=Error(v(423),{cause:i}),Xn(fa(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,i=fa(i,a),n=Ql(e.stateNode,i,n),Ml(e,n),At!==4&&(At=2)),!1;var o=Error(v(520),{cause:i});if(o=fa(o,a),pr===null?pr=[o]:pr.push(o),At!==4&&(At=2),t===null)return!0;i=fa(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=Ql(a.stateNode,i,e),Ml(a,e),!1;case 1:if(t=a.type,o=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(ui===null||!ui.has(o))))return a.flags|=65536,n&=-n,a.lanes|=n,n=Hc(n),qc(n,e,a,i),Ml(a,n),!1}a=a.return}while(a!==null);return!1}var Yc=Error(v(461)),zt=!1;function Vt(e,t,a,i){t.child=e===null?Uc(t,null,a,i):vn(t,e.child,a,i)}function Fc(e,t,a,i,n){a=a.render;var o=t.ref;if("ref"in i){var _={};for(var S in i)S!=="ref"&&(_[S]=i[S])}else _=i;return Ii(t),i=Ll(e,t,a,_,o,n),S=Bl(),e!==null&&!zt?(kl(e,t,n),Pa(e,t,n)):(st&&S&&pl(t),t.flags|=1,Vt(e,t,i,n),t.child)}function Kc(e,t,a,i,n){if(e===null){var o=a.type;return typeof o=="function"&&!fl(o)&&o.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=o,Xc(e,t,o,i,n)):(e=Fr(a.type,null,i,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!io(e,n)){var _=o.memoizedProps;if(a=a.compare,a=a!==null?a:qn,a(_,i)&&e.ref===t.ref)return Pa(e,t,n)}return t.flags|=1,e=Ua(o,i),e.ref=t.ref,e.return=t,t.child=e}function Xc(e,t,a,i,n){if(e!==null){var o=e.memoizedProps;if(qn(o,i)&&e.ref===t.ref)if(zt=!1,t.pendingProps=i=o,io(e,n))(e.flags&131072)!==0&&(zt=!0);else return t.lanes=e.lanes,Pa(e,t,n)}return Zl(e,t,a,i,n)}function Qc(e,t,a){var i=t.pendingProps,n=i.children,o=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if((t.flags&128)!==0){if(i=o!==null?o.baseLanes|a:a,e!==null){for(n=t.child=e.child,o=0;n!==null;)o=o|n.lanes|n.childLanes,n=n.sibling;t.childLanes=o&~i}else t.childLanes=0,t.child=null;return Zc(e,t,i,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wr(t,o!==null?o.cachePool:null),o!==null?Xu(t,o):Dl(),Nc(t);else return t.lanes=t.childLanes=536870912,Zc(e,t,o!==null?o.baseLanes|a:a,a)}else o!==null?(Wr(t,o.cachePool),Xu(t,o),ii(),t.memoizedState=null):(e!==null&&Wr(t,null),Dl(),ii());return Vt(e,t,n,a),t.child}function Zc(e,t,a,i){var n=Al();return n=n===null?null:{parent:kt._currentValue,pool:n},t.memoizedState={baseLanes:a,cachePool:n},e!==null&&Wr(t,null),Dl(),Nc(t),e!==null&&Qn(e,t,i,!0),null}function _s(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(v(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Zl(e,t,a,i,n){return Ii(t),a=Ll(e,t,a,i,void 0,n),i=Bl(),e!==null&&!zt?(kl(e,t,n),Pa(e,t,n)):(st&&i&&pl(t),t.flags|=1,Vt(e,t,a,n),t.child)}function Wc(e,t,a,i,n,o){return Ii(t),t.updateQueue=null,a=Zu(t,i,a,n),Qu(e),i=Bl(),e!==null&&!zt?(kl(e,t,o),Pa(e,t,o)):(st&&i&&pl(t),t.flags|=1,Vt(e,t,a,o),t.child)}function Jc(e,t,a,i,n){if(Ii(t),t.stateNode===null){var o=un,_=a.contextType;typeof _=="object"&&_!==null&&(o=Ft(_)),o=new a(i,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Xl,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=i,o.state=t.memoizedState,o.refs={},Rl(t),_=a.contextType,o.context=typeof _=="object"&&_!==null?Ft(_):un,o.state=t.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Kl(t,a,_,i),o.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(_=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),_!==o.state&&Xl.enqueueReplaceState(o,o.state,null),ar(t,i,o,n),tr(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){o=t.stateNode;var S=t.memoizedProps,V=Pi(a,S);o.props=V;var ne=o.context,ge=a.contextType;_=un,typeof ge=="object"&&ge!==null&&(_=Ft(ge));var Ee=a.getDerivedStateFromProps;ge=typeof Ee=="function"||typeof o.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,ge||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(S||ne!==_)&&jc(t,o,i,_),Ja=!1;var se=t.memoizedState;o.state=se,ar(t,i,o,n),tr(),ne=t.memoizedState,S||se!==ne||Ja?(typeof Ee=="function"&&(Kl(t,a,Ee,i),ne=t.memoizedState),(V=Ja||zc(t,a,V,i,se,ne,_))?(ge||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=ne),o.props=i,o.state=ne,o.context=_,i=V):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Tl(e,t),_=t.memoizedProps,ge=Pi(a,_),o.props=ge,Ee=t.pendingProps,se=o.context,ne=a.contextType,V=un,typeof ne=="object"&&ne!==null&&(V=Ft(ne)),S=a.getDerivedStateFromProps,(ne=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(_!==Ee||se!==V)&&jc(t,o,i,V),Ja=!1,se=t.memoizedState,o.state=se,ar(t,i,o,n),tr();var ce=t.memoizedState;_!==Ee||se!==ce||Ja||e!==null&&e.dependencies!==null&&Qr(e.dependencies)?(typeof S=="function"&&(Kl(t,a,S,i),ce=t.memoizedState),(ge=Ja||zc(t,a,ge,i,se,ce,V)||e!==null&&e.dependencies!==null&&Qr(e.dependencies))?(ne||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,ce,V),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,ce,V)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||_===e.memoizedProps&&se===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&se===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=ce),o.props=i,o.state=ce,o.context=V,i=ge):(typeof o.componentDidUpdate!="function"||_===e.memoizedProps&&se===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&se===e.memoizedState||(t.flags|=1024),i=!1)}return o=i,_s(e,t),i=(t.flags&128)!==0,o||i?(o=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&i?(t.child=vn(t,e.child,null,n),t.child=vn(t,null,a,n)):Vt(e,t,a,n),t.memoizedState=o.state,e=t.child):e=Pa(e,t,n),e}function $c(e,t,a,i){return Kn(),t.flags|=256,Vt(e,t,a,i),t.child}var Wl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jl(e){return{baseLanes:e,cachePool:Vu()}}function $l(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ga),e}function ed(e,t,a){var i=t.pendingProps,n=!1,o=(t.flags&128)!==0,_;if((_=o)||(_=e!==null&&e.memoizedState===null?!1:(Ut.current&2)!==0),_&&(n=!0,t.flags&=-129),_=(t.flags&32)!==0,t.flags&=-33,e===null){if(st){if(n?ai(t):ii(),st){var S=Et,V;if(V=S){e:{for(V=S,S=Ca;V.nodeType!==8;){if(!S){S=null;break e}if(V=Aa(V.nextSibling),V===null){S=null;break e}}S=V}S!==null?(t.memoizedState={dehydrated:S,treeContext:ki!==null?{id:Na,overflow:za}:null,retryLane:536870912,hydrationErrors:null},V=ia(18,null,null,0),V.stateNode=S,V.return=t,t.child=V,Wt=t,Et=null,V=!0):V=!1}V||zi(t)}if(S=t.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return zo(S)?t.lanes=32:t.lanes=536870912,null;Ga(t)}return S=i.children,i=i.fallback,n?(ii(),n=t.mode,S=ps({mode:"hidden",children:S},n),i=Bi(i,n,a,null),S.return=t,i.return=t,S.sibling=i,t.child=S,n=t.child,n.memoizedState=Jl(a),n.childLanes=$l(e,_,a),t.memoizedState=Wl,i):(ai(t),eo(t,S))}if(V=e.memoizedState,V!==null&&(S=V.dehydrated,S!==null)){if(o)t.flags&256?(ai(t),t.flags&=-257,t=to(e,t,a)):t.memoizedState!==null?(ii(),t.child=e.child,t.flags|=128,t=null):(ii(),n=i.fallback,S=t.mode,i=ps({mode:"visible",children:i.children},S),n=Bi(n,S,a,null),n.flags|=2,i.return=t,n.return=t,i.sibling=n,t.child=i,vn(t,e.child,null,a),i=t.child,i.memoizedState=Jl(a),i.childLanes=$l(e,_,a),t.memoizedState=Wl,t=n);else if(ai(t),zo(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var ne=_.dgst;_=ne,i=Error(v(419)),i.stack="",i.digest=_,Xn({value:i,source:null,stack:null}),t=to(e,t,a)}else if(zt||Qn(e,t,a,!1),_=(a&e.childLanes)!==0,zt||_){if(_=ht,_!==null&&(i=a&-a,i=(i&42)!==0?1:va(i),i=(i&(_.suspendedLanes|a))!==0?0:i,i!==0&&i!==V.retryLane))throw V.retryLane=i,on(e,i),oa(_,e,i),Yc;S.data==="$?"||bo(),t=to(e,t,a)}else S.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=V.treeContext,Et=Aa(S.nextSibling),Wt=t,st=!0,Ni=null,Ca=!1,e!==null&&(_a[pa++]=Na,_a[pa++]=za,_a[pa++]=ki,Na=e.id,za=e.overflow,ki=t),t=eo(t,i.children),t.flags|=4096);return t}return n?(ii(),n=i.fallback,S=t.mode,V=e.child,ne=V.sibling,i=Ua(V,{mode:"hidden",children:i.children}),i.subtreeFlags=V.subtreeFlags&65011712,ne!==null?n=Ua(ne,n):(n=Bi(n,S,a,null),n.flags|=2),n.return=t,i.return=t,i.sibling=n,t.child=i,i=n,n=t.child,S=e.child.memoizedState,S===null?S=Jl(a):(V=S.cachePool,V!==null?(ne=kt._currentValue,V=V.parent!==ne?{parent:ne,pool:ne}:V):V=Vu(),S={baseLanes:S.baseLanes|a,cachePool:V}),n.memoizedState=S,n.childLanes=$l(e,_,a),t.memoizedState=Wl,i):(ai(t),a=e.child,e=a.sibling,a=Ua(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(_=t.deletions,_===null?(t.deletions=[e],t.flags|=16):_.push(e)),t.child=a,t.memoizedState=null,a)}function eo(e,t){return t=ps({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ps(e,t){return e=ia(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function to(e,t,a){return vn(t,e.child,null,a),e=eo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function td(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),vl(e.return,t,a)}function ao(e,t,a,i,n){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:n}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=a,o.tailMode=n)}function ad(e,t,a){var i=t.pendingProps,n=i.revealOrder,o=i.tail;if(Vt(e,t,i.children,a),i=Ut.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&td(e,a,t);else if(e.tag===19)td(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(_e(Ut,i),n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&ds(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),ao(t,!1,n,a,o);break;case"backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&ds(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}ao(t,!0,a,null,o);break;case"together":ao(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),oi|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Qn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(v(153));if(t.child!==null){for(e=t.child,a=Ua(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Ua(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function io(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Qr(e)))}function Jh(e,t,a){switch(t.tag){case 3:ve(t,t.stateNode.containerInfo),Wa(t,kt,e.memoizedState.cache),Kn();break;case 27:case 5:Ie(t);break;case 4:ve(t,t.stateNode.containerInfo);break;case 10:Wa(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(ai(t),t.flags|=128,null):(a&t.child.childLanes)!==0?ed(e,t,a):(ai(t),e=Pa(e,t,a),e!==null?e.sibling:null);ai(t);break;case 19:var n=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(Qn(e,t,a,!1),i=(a&t.childLanes)!==0),n){if(i)return ad(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),_e(Ut,Ut.current),i)break;return null;case 22:case 23:return t.lanes=0,Qc(e,t,a);case 24:Wa(t,kt,e.memoizedState.cache)}return Pa(e,t,a)}function id(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)zt=!0;else{if(!io(e,a)&&(t.flags&128)===0)return zt=!1,Jh(e,t,a);zt=(e.flags&131072)!==0}else zt=!1,st&&(t.flags&1048576)!==0&&Bu(t,Xr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,n=i._init;if(i=n(i._payload),t.type=i,typeof i=="function")fl(i)?(e=Pi(i,e),t.tag=1,t=Jc(null,t,i,e,a)):(t.tag=0,t=Zl(null,t,i,e,a));else{if(i!=null){if(n=i.$$typeof,n===P){t.tag=11,t=Fc(null,t,i,e,a);break e}else if(n===Y){t.tag=14,t=Kc(null,t,i,e,a);break e}}throw t=pe(i)||i,Error(v(306,t,""))}}return t;case 0:return Zl(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,n=Pi(i,t.pendingProps),Jc(e,t,i,n,a);case 3:e:{if(ve(t,t.stateNode.containerInfo),e===null)throw Error(v(387));i=t.pendingProps;var o=t.memoizedState;n=o.element,Tl(e,t),ar(t,i,null,a);var _=t.memoizedState;if(i=_.cache,Wa(t,kt,i),i!==o.cache&&bl(t,[kt],a,!0),tr(),i=_.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:_.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=$c(e,t,i,a);break e}else if(i!==n){n=fa(Error(v(424)),t),Xn(n),t=$c(e,t,i,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Et=Aa(e.firstChild),Wt=t,st=!0,Ni=null,Ca=!0,a=Uc(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Kn(),i===n){t=Pa(e,t,a);break e}Vt(e,t,i,a)}t=t.child}return t;case 26:return _s(e,t),e===null?(a=of(t.type,null,t.pendingProps,null))?t.memoizedState=a:st||(a=t.type,e=t.pendingProps,i=Ds(Me.current).createElement(a),i[Lt]=t,i[pt]=e,Pt(i,a,e),p(i),t.stateNode=i):t.memoizedState=of(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ie(t),e===null&&st&&(i=t.stateNode=rf(t.type,t.pendingProps,Me.current),Wt=t,Ca=!0,n=Et,fi(t.type)?(jo=n,Et=Aa(i.firstChild)):Et=n),Vt(e,t,t.pendingProps.children,a),_s(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&st&&((n=i=Et)&&(i=T_(i,t.type,t.pendingProps,Ca),i!==null?(t.stateNode=i,Wt=t,Et=Aa(i.firstChild),Ca=!1,n=!0):n=!1),n||zi(t)),Ie(t),n=t.type,o=t.pendingProps,_=e!==null?e.memoizedProps:null,i=o.children,ko(n,o)?i=null:_!==null&&ko(n,_)&&(t.flags|=32),t.memoizedState!==null&&(n=Ll(e,t,qh,null,null,a),xr._currentValue=n),_s(e,t),Vt(e,t,i,a),t.child;case 6:return e===null&&st&&((e=a=Et)&&(a=M_(a,t.pendingProps,Ca),a!==null?(t.stateNode=a,Wt=t,Et=null,e=!0):e=!1),e||zi(t)),null;case 13:return ed(e,t,a);case 4:return ve(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=vn(t,null,i,a):Vt(e,t,i,a),t.child;case 11:return Fc(e,t,t.type,t.pendingProps,a);case 7:return Vt(e,t,t.pendingProps,a),t.child;case 8:return Vt(e,t,t.pendingProps.children,a),t.child;case 12:return Vt(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,Wa(t,t.type,i.value),Vt(e,t,i.children,a),t.child;case 9:return n=t.type._context,i=t.pendingProps.children,Ii(t),n=Ft(n),i=i(n),t.flags|=1,Vt(e,t,i,a),t.child;case 14:return Kc(e,t,t.type,t.pendingProps,a);case 15:return Xc(e,t,t.type,t.pendingProps,a);case 19:return ad(e,t,a);case 31:return i=t.pendingProps,a=t.mode,i={mode:i.mode,children:i.children},e===null?(a=ps(i,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=Ua(e.child,i),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Qc(e,t,a);case 24:return Ii(t),i=Ft(kt),e===null?(n=Al(),n===null&&(n=ht,o=Sl(),n.pooledCache=o,o.refCount++,o!==null&&(n.pooledCacheLanes|=a),n=o),t.memoizedState={parent:i,cache:n},Rl(t),Wa(t,kt,n)):((e.lanes&a)!==0&&(Tl(e,t),ar(t,null,null,a),tr()),n=e.memoizedState,o=t.memoizedState,n.parent!==i?(n={parent:i,cache:i},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Wa(t,kt,i)):(i=o.cache,Wa(t,kt,i),i!==n.cache&&bl(t,[kt],a,!0))),Vt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(v(156,t.tag))}function Ha(e){e.flags|=4}function nd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!hf(t)){if(t=ma.current,t!==null&&((at&4194048)===at?Da!==null:(at&62914560)!==at&&(at&536870912)===0||t!==Da))throw $n=xl,Gu;e.flags|=8192}}function ms(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Br():536870912,e.lanes|=t,An|=t)}function ur(e,t){if(!st)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,i|=n.subtreeFlags&65011712,i|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,i|=n.subtreeFlags,i|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function $h(e,t,a){var i=t.pendingProps;switch(ml(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return vt(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ia(kt),we(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Fn(t)?Ha(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Nu())),vt(t),null;case 26:return a=t.memoizedState,e===null?(Ha(t),a!==null?(vt(t),nd(t,a)):(vt(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Ha(t),vt(t),nd(t,a)):(vt(t),t.flags&=-16777217):(e.memoizedProps!==i&&Ha(t),vt(t),t.flags&=-16777217),null;case 27:Ve(t),a=Me.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ha(t);else{if(!i){if(t.stateNode===null)throw Error(v(166));return vt(t),null}e=Se.current,Fn(t)?ku(t):(e=rf(n,i,a),t.stateNode=e,Ha(t))}return vt(t),null;case 5:if(Ve(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ha(t);else{if(!i){if(t.stateNode===null)throw Error(v(166));return vt(t),null}if(e=Se.current,Fn(t))ku(t);else{switch(n=Ds(Me.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?n.createElement("select",{is:i.is}):n.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?n.createElement(a,{is:i.is}):n.createElement(a)}}e[Lt]=t,e[pt]=i;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(Pt(e,a,i),a){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ha(t)}}return vt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Ha(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(v(166));if(e=Me.current,Fn(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,n=Wt,n!==null)switch(n.tag){case 27:case 5:i=n.memoizedProps}e[Lt]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||Wd(e.nodeValue,a)),e||zi(t)}else e=Ds(e).createTextNode(i),e[Lt]=t,t.stateNode=e}return vt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Fn(t),i!==null&&i.dehydrated!==null){if(e===null){if(!n)throw Error(v(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(v(317));n[Lt]=t}else Kn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;vt(t),n=!1}else n=Nu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Ga(t),t):(Ga(t),null)}if(Ga(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=i!==null,e=e!==null&&e.memoizedState!==null,a){i=t.child,n=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(n=i.alternate.memoizedState.cachePool.pool);var o=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==n&&(i.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),ms(t,t.updateQueue),vt(t),null;case 4:return we(),e===null&&Do(t.stateNode.containerInfo),vt(t),null;case 10:return Ia(t.type),vt(t),null;case 19:if(W(Ut),n=t.memoizedState,n===null)return vt(t),null;if(i=(t.flags&128)!==0,o=n.rendering,o===null)if(i)ur(n,!1);else{if(At!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=ds(e),o!==null){for(t.flags|=128,ur(n,!1),e=o.updateQueue,t.updateQueue=e,ms(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Lu(a,e),a=a.sibling;return _e(Ut,Ut.current&1|2),t.child}e=e.sibling}n.tail!==null&&Ht()>vs&&(t.flags|=128,i=!0,ur(n,!1),t.lanes=4194304)}else{if(!i)if(e=ds(o),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ms(t,e),ur(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!st)return vt(t),null}else 2*Ht()-n.renderingStartTime>vs&&a!==536870912&&(t.flags|=128,i=!0,ur(n,!1),t.lanes=4194304);n.isBackwards?(o.sibling=t.child,t.child=o):(e=n.last,e!==null?e.sibling=o:t.child=o,n.last=o)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=Ht(),t.sibling=null,e=Ut.current,_e(Ut,i?e&1|2:e&1),t):(vt(t),null);case 22:case 23:return Ga(t),Ol(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),a=t.updateQueue,a!==null&&ms(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&W(Vi),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ia(kt),vt(t),null;case 25:return null;case 30:return null}throw Error(v(156,t.tag))}function e_(e,t){switch(ml(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ia(kt),we(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ve(t),null;case 13:if(Ga(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(v(340));Kn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return W(Ut),null;case 4:return we(),null;case 10:return Ia(t.type),null;case 22:case 23:return Ga(t),Ol(),e!==null&&W(Vi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ia(kt),null;case 25:return null;default:return null}}function rd(e,t){switch(ml(t),t.tag){case 3:Ia(kt),we();break;case 26:case 27:case 5:Ve(t);break;case 4:we();break;case 13:Ga(t);break;case 19:W(Ut);break;case 10:Ia(t.type);break;case 22:case 23:Ga(t),Ol(),e!==null&&W(Vi);break;case 24:Ia(kt)}}function cr(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var n=i.next;a=n;do{if((a.tag&e)===e){i=void 0;var o=a.create,_=a.inst;i=o(),_.destroy=i}a=a.next}while(a!==n)}}catch(S){ft(t,t.return,S)}}function ni(e,t,a){try{var i=t.updateQueue,n=i!==null?i.lastEffect:null;if(n!==null){var o=n.next;i=o;do{if((i.tag&e)===e){var _=i.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,n=t;var V=a,ne=S;try{ne()}catch(ge){ft(n,V,ge)}}}i=i.next}while(i!==o)}}catch(ge){ft(t,t.return,ge)}}function sd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Ku(t,a)}catch(i){ft(e,e.return,i)}}}function ld(e,t,a){a.props=Pi(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){ft(e,t,i)}}function dr(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(n){ft(e,t,n)}}function Oa(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(n){ft(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){ft(e,t,n)}else a.current=null}function od(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(n){ft(e,e.return,n)}}function no(e,t,a){try{var i=e.stateNode;S_(i,e.type,a,t),i[pt]=t}catch(n){ft(e,e.return,n)}}function ud(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fi(e.type)||e.tag===4}function ro(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ud(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function so(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Cs));else if(i!==4&&(i===27&&fi(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(so(e,t,a),e=e.sibling;e!==null;)so(e,t,a),e=e.sibling}function gs(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&fi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(gs(e,t,a),e=e.sibling;e!==null;)gs(e,t,a),e=e.sibling}function cd(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Pt(t,i,a),t[Lt]=e,t[pt]=a}catch(o){ft(e,e.return,o)}}var qa=!1,Mt=!1,lo=!1,dd=typeof WeakSet=="function"?WeakSet:Set,jt=null;function t_(e,t){if(e=e.containerInfo,Lo=Us,e=Eu(e),rl(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var n=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{a.nodeType,o.nodeType}catch{a=null;break e}var _=0,S=-1,V=-1,ne=0,ge=0,Ee=e,se=null;t:for(;;){for(var ce;Ee!==a||n!==0&&Ee.nodeType!==3||(S=_+n),Ee!==o||i!==0&&Ee.nodeType!==3||(V=_+i),Ee.nodeType===3&&(_+=Ee.nodeValue.length),(ce=Ee.firstChild)!==null;)se=Ee,Ee=ce;for(;;){if(Ee===e)break t;if(se===a&&++ne===n&&(S=_),se===o&&++ge===i&&(V=_),(ce=Ee.nextSibling)!==null)break;Ee=se,se=Ee.parentNode}Ee=ce}a=S===-1||V===-1?null:{start:S,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bo={focusedElem:e,selectionRange:a},Us=!1,jt=t;jt!==null;)if(t=jt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,jt=e;else for(;jt!==null;){switch(t=jt,o=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,a=t,n=o.memoizedProps,o=o.memoizedState,i=a.stateNode;try{var Ye=Pi(a.type,n,a.elementType===a.type);e=i.getSnapshotBeforeUpdate(Ye,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(Pe){ft(a,a.return,Pe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)No(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":No(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(v(163))}if(e=t.sibling,e!==null){e.return=t.return,jt=e;break}jt=t.return}}function fd(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:ri(e,a),i&4&&cr(5,a);break;case 1:if(ri(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(_){ft(a,a.return,_)}else{var n=Pi(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(_){ft(a,a.return,_)}}i&64&&sd(a),i&512&&dr(a,a.return);break;case 3:if(ri(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ku(e,t)}catch(_){ft(a,a.return,_)}}break;case 27:t===null&&i&4&&cd(a);case 26:case 5:ri(e,a),t===null&&i&4&&od(a),i&512&&dr(a,a.return);break;case 12:ri(e,a);break;case 13:ri(e,a),i&4&&pd(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=c_.bind(null,a),C_(e,a))));break;case 22:if(i=a.memoizedState!==null||qa,!i){t=t!==null&&t.memoizedState!==null||Mt,n=qa;var o=Mt;qa=i,(Mt=t)&&!o?si(e,a,(a.subtreeFlags&8772)!==0):ri(e,a),qa=n,Mt=o}break;case 30:break;default:ri(e,a)}}function hd(e){var t=e.alternate;t!==null&&(e.alternate=null,hd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&s(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var gt=null,ea=!1;function Ya(e,t,a){for(a=a.child;a!==null;)_d(e,t,a),a=a.sibling}function _d(e,t,a){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(bi,a)}catch{}switch(a.tag){case 26:Mt||Oa(a,t),Ya(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Mt||Oa(a,t);var i=gt,n=ea;fi(a.type)&&(gt=a.stateNode,ea=!1),Ya(e,t,a),br(a.stateNode),gt=i,ea=n;break;case 5:Mt||Oa(a,t);case 6:if(i=gt,n=ea,gt=null,Ya(e,t,a),gt=i,ea=n,gt!==null)if(ea)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(a.stateNode)}catch(o){ft(a,t,o)}else try{gt.removeChild(a.stateNode)}catch(o){ft(a,t,o)}break;case 18:gt!==null&&(ea?(e=gt,af(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Cr(e)):af(gt,a.stateNode));break;case 4:i=gt,n=ea,gt=a.stateNode.containerInfo,ea=!0,Ya(e,t,a),gt=i,ea=n;break;case 0:case 11:case 14:case 15:Mt||ni(2,a,t),Mt||ni(4,a,t),Ya(e,t,a);break;case 1:Mt||(Oa(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&ld(a,t,i)),Ya(e,t,a);break;case 21:Ya(e,t,a);break;case 22:Mt=(i=Mt)||a.memoizedState!==null,Ya(e,t,a),Mt=i;break;default:Ya(e,t,a)}}function pd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Cr(e)}catch(a){ft(t,t.return,a)}}function a_(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new dd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new dd),t;default:throw Error(v(435,e.tag))}}function oo(e,t){var a=a_(e);t.forEach(function(i){var n=d_.bind(null,e,i);a.has(i)||(a.add(i),i.then(n,n))})}function na(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var n=a[i],o=e,_=t,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(fi(S.type)){gt=S.stateNode,ea=!1;break e}break;case 5:gt=S.stateNode,ea=!1;break e;case 3:case 4:gt=S.stateNode.containerInfo,ea=!0;break e}S=S.return}if(gt===null)throw Error(v(160));_d(o,_,n),gt=null,ea=!1,o=n.alternate,o!==null&&(o.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)md(t,e),t=t.sibling}var Ea=null;function md(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:na(t,e),ra(e),i&4&&(ni(3,e,e.return),cr(3,e),ni(5,e,e.return));break;case 1:na(t,e),ra(e),i&512&&(Mt||a===null||Oa(a,a.return)),i&64&&qa&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var n=Ea;if(na(t,e),ra(e),i&512&&(Mt||a===null||Oa(a,a.return)),i&4){var o=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(i){case"title":o=n.getElementsByTagName("title")[0],(!o||o[l]||o[Lt]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=n.createElement(i),n.head.insertBefore(o,n.querySelector("head > title"))),Pt(o,i,a),o[Lt]=e,p(o),i=o;break e;case"link":var _=df("link","href",n).get(i+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(o=_[S],o.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&o.getAttribute("rel")===(a.rel==null?null:a.rel)&&o.getAttribute("title")===(a.title==null?null:a.title)&&o.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}o=n.createElement(i),Pt(o,i,a),n.head.appendChild(o);break;case"meta":if(_=df("meta","content",n).get(i+(a.content||""))){for(S=0;S<_.length;S++)if(o=_[S],o.getAttribute("content")===(a.content==null?null:""+a.content)&&o.getAttribute("name")===(a.name==null?null:a.name)&&o.getAttribute("property")===(a.property==null?null:a.property)&&o.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&o.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}o=n.createElement(i),Pt(o,i,a),n.head.appendChild(o);break;default:throw Error(v(468,i))}o[Lt]=e,p(o),i=o}e.stateNode=i}else ff(n,e.type,e.stateNode);else e.stateNode=cf(n,i,e.memoizedProps);else o!==i?(o===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):o.count--,i===null?ff(n,e.type,e.stateNode):cf(n,i,e.memoizedProps)):i===null&&e.stateNode!==null&&no(e,e.memoizedProps,a.memoizedProps)}break;case 27:na(t,e),ra(e),i&512&&(Mt||a===null||Oa(a,a.return)),a!==null&&i&4&&no(e,e.memoizedProps,a.memoizedProps);break;case 5:if(na(t,e),ra(e),i&512&&(Mt||a===null||Oa(a,a.return)),e.flags&32){n=e.stateNode;try{Yt(n,"")}catch(ce){ft(e,e.return,ce)}}i&4&&e.stateNode!=null&&(n=e.memoizedProps,no(e,n,a!==null?a.memoizedProps:n)),i&1024&&(lo=!0);break;case 6:if(na(t,e),ra(e),i&4){if(e.stateNode===null)throw Error(v(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(ce){ft(e,e.return,ce)}}break;case 3:if(Ls=null,n=Ea,Ea=Os(t.containerInfo),na(t,e),Ea=n,ra(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{Cr(t.containerInfo)}catch(ce){ft(e,e.return,ce)}lo&&(lo=!1,gd(e));break;case 4:i=Ea,Ea=Os(e.stateNode.containerInfo),na(t,e),ra(e),Ea=i;break;case 12:na(t,e),ra(e);break;case 13:na(t,e),ra(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(po=Ht()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,oo(e,i)));break;case 22:n=e.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,ne=qa,ge=Mt;if(qa=ne||n,Mt=ge||V,na(t,e),Mt=ge,qa=ne,ra(e),i&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||V||qa||Mt||Hi(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){V=a=t;try{if(o=V.stateNode,n)_=o.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=V.stateNode;var Ee=V.memoizedProps.style,se=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;S.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(ce){ft(V,V.return,ce)}}}else if(t.tag===6){if(a===null){V=t;try{V.stateNode.nodeValue=n?"":V.memoizedProps}catch(ce){ft(V,V.return,ce)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,oo(e,a))));break;case 19:na(t,e),ra(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,oo(e,i)));break;case 30:break;case 21:break;default:na(t,e),ra(e)}}function ra(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(ud(i)){a=i;break}i=i.return}if(a==null)throw Error(v(160));switch(a.tag){case 27:var n=a.stateNode,o=ro(e);gs(e,o,n);break;case 5:var _=a.stateNode;a.flags&32&&(Yt(_,""),a.flags&=-33);var S=ro(e);gs(e,S,_);break;case 3:case 4:var V=a.stateNode.containerInfo,ne=ro(e);so(e,ne,V);break;default:throw Error(v(161))}}catch(ge){ft(e,e.return,ge)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;gd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ri(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)fd(e,t.alternate,t),t=t.sibling}function Hi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ni(4,t,t.return),Hi(t);break;case 1:Oa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&ld(t,t.return,a),Hi(t);break;case 27:br(t.stateNode);case 26:case 5:Oa(t,t.return),Hi(t);break;case 22:t.memoizedState===null&&Hi(t);break;case 30:Hi(t);break;default:Hi(t)}e=e.sibling}}function si(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,n=e,o=t,_=o.flags;switch(o.tag){case 0:case 11:case 15:si(n,o,a),cr(4,o);break;case 1:if(si(n,o,a),i=o,n=i.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(ne){ft(i,i.return,ne)}if(i=o,n=i.updateQueue,n!==null){var S=i.stateNode;try{var V=n.shared.hiddenCallbacks;if(V!==null)for(n.shared.hiddenCallbacks=null,n=0;n<V.length;n++)Fu(V[n],S)}catch(ne){ft(i,i.return,ne)}}a&&_&64&&sd(o),dr(o,o.return);break;case 27:cd(o);case 26:case 5:si(n,o,a),a&&i===null&&_&4&&od(o),dr(o,o.return);break;case 12:si(n,o,a);break;case 13:si(n,o,a),a&&_&4&&pd(n,o);break;case 22:o.memoizedState===null&&si(n,o,a),dr(o,o.return);break;case 30:break;default:si(n,o,a)}t=t.sibling}}function uo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Zn(a))}function co(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zn(e))}function wa(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yd(e,t,a,i),t=t.sibling}function yd(e,t,a,i){var n=t.flags;switch(t.tag){case 0:case 11:case 15:wa(e,t,a,i),n&2048&&cr(9,t);break;case 1:wa(e,t,a,i);break;case 3:wa(e,t,a,i),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zn(e)));break;case 12:if(n&2048){wa(e,t,a,i),e=t.stateNode;try{var o=t.memoizedProps,_=o.id,S=o.onPostCommit;typeof S=="function"&&S(_,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(V){ft(t,t.return,V)}}else wa(e,t,a,i);break;case 13:wa(e,t,a,i);break;case 23:break;case 22:o=t.stateNode,_=t.alternate,t.memoizedState!==null?o._visibility&2?wa(e,t,a,i):fr(e,t):o._visibility&2?wa(e,t,a,i):(o._visibility|=2,bn(e,t,a,i,(t.subtreeFlags&10256)!==0)),n&2048&&uo(_,t);break;case 24:wa(e,t,a,i),n&2048&&co(t.alternate,t);break;default:wa(e,t,a,i)}}function bn(e,t,a,i,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var o=e,_=t,S=a,V=i,ne=_.flags;switch(_.tag){case 0:case 11:case 15:bn(o,_,S,V,n),cr(8,_);break;case 23:break;case 22:var ge=_.stateNode;_.memoizedState!==null?ge._visibility&2?bn(o,_,S,V,n):fr(o,_):(ge._visibility|=2,bn(o,_,S,V,n)),n&&ne&2048&&uo(_.alternate,_);break;case 24:bn(o,_,S,V,n),n&&ne&2048&&co(_.alternate,_);break;default:bn(o,_,S,V,n)}t=t.sibling}}function fr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,n=i.flags;switch(i.tag){case 22:fr(a,i),n&2048&&uo(i.alternate,i);break;case 24:fr(a,i),n&2048&&co(i.alternate,i);break;default:fr(a,i)}t=t.sibling}}var hr=8192;function Sn(e){if(e.subtreeFlags&hr)for(e=e.child;e!==null;)vd(e),e=e.sibling}function vd(e){switch(e.tag){case 26:Sn(e),e.flags&hr&&e.memoizedState!==null&&G_(Ea,e.memoizedState,e.memoizedProps);break;case 5:Sn(e);break;case 3:case 4:var t=Ea;Ea=Os(e.stateNode.containerInfo),Sn(e),Ea=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=hr,hr=16777216,Sn(e),hr=t):Sn(e));break;default:Sn(e)}}function bd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function _r(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];jt=i,Ed(i,e)}bd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sd(e),e=e.sibling}function Sd(e){switch(e.tag){case 0:case 11:case 15:_r(e),e.flags&2048&&ni(9,e,e.return);break;case 3:_r(e);break;case 12:_r(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ys(e)):_r(e);break;default:_r(e)}}function ys(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];jt=i,Ed(i,e)}bd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ni(8,t,t.return),ys(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,ys(t));break;default:ys(t)}e=e.sibling}}function Ed(e,t){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:ni(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Zn(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,jt=i;else e:for(a=e;jt!==null;){i=jt;var n=i.sibling,o=i.return;if(hd(i),i===a){jt=null;break e}if(n!==null){n.return=o,jt=n;break e}jt=o}}}var i_={getCacheForType:function(e){var t=Ft(kt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},n_=typeof WeakMap=="function"?WeakMap:Map,lt=0,ht=null,$e=null,at=0,ot=0,sa=null,li=!1,En=!1,fo=!1,Fa=0,At=0,oi=0,qi=0,ho=0,ga=0,An=0,pr=null,ta=null,_o=!1,po=0,vs=1/0,bs=null,ui=null,Gt=0,ci=null,xn=null,Rn=0,mo=0,go=null,Ad=null,mr=0,yo=null;function la(){if((lt&2)!==0&&at!==0)return at&-at;if(N.T!==null){var e=fn;return e!==0?e:Ro()}return kn()}function xd(){ga===0&&(ga=(at&536870912)===0||st?Lr():536870912);var e=ma.current;return e!==null&&(e.flags|=32),ga}function oa(e,t,a){(e===ht&&(ot===2||ot===9)||e.cancelPendingCommit!==null)&&(Tn(e,0),di(e,at,ga,!1)),Ei(e,a),((lt&2)===0||e!==ht)&&(e===ht&&((lt&2)===0&&(qi|=a),At===4&&di(e,at,ga,!1)),La(e))}function Rd(e,t,a){if((lt&6)!==0)throw Error(v(327));var i=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Si(e,t),n=i?l_(e,t):So(e,t,!0),o=i;do{if(n===0){En&&!i&&di(e,t,0,!1);break}else{if(a=e.current.alternate,o&&!r_(a)){n=So(e,t,!1),o=!1;continue}if(n===2){if(o=t,e.errorRecoveryDisabledLanes&o)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){t=_;e:{var S=e;n=pr;var V=S.current.memoizedState.isDehydrated;if(V&&(Tn(S,_).flags|=256),_=So(S,_,!1),_!==2){if(fo&&!V){S.errorRecoveryDisabledLanes|=o,qi|=o,n=4;break e}o=ta,ta=n,o!==null&&(ta===null?ta=o:ta.push.apply(ta,o))}n=_}if(o=!1,n!==2)continue}}if(n===1){Tn(e,0),di(e,t,0,!0);break}e:{switch(i=e,o=n,o){case 0:case 1:throw Error(v(345));case 4:if((t&4194048)!==t)break;case 6:di(i,t,ga,!li);break e;case 2:ta=null;break;case 3:case 5:break;default:throw Error(v(329))}if((t&62914560)===t&&(n=po+300-Ht(),10<n)){if(di(i,t,ga,!li),Ji(i,0,!0)!==0)break e;i.timeoutHandle=ef(Td.bind(null,i,a,ta,bs,_o,t,ga,qi,An,li,o,2,-0,0),n);break e}Td(i,a,ta,bs,_o,t,ga,qi,An,li,o,0,-0,0)}}break}while(!0);La(e)}function Td(e,t,a,i,n,o,_,S,V,ne,ge,Ee,se,ce){if(e.timeoutHandle=-1,Ee=t.subtreeFlags,(Ee&8192||(Ee&16785408)===16785408)&&(Ar={stylesheets:null,count:0,unsuspend:V_},vd(t),Ee=P_(),Ee!==null)){e.cancelPendingCommit=Ee(Bd.bind(null,e,t,o,a,i,n,_,S,V,ge,1,se,ce)),di(e,o,_,!ne);return}Bd(e,t,o,a,i,n,_,S,V)}function r_(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var n=a[i],o=n.getSnapshot;n=n.value;try{if(!aa(o(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function di(e,t,a,i){t&=~ho,t&=~qi,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var n=t;0<n;){var o=31-Qt(n),_=1<<o;i[o]=-1,n&=~_}a!==0&&kr(e,a,t)}function Ss(){return(lt&6)===0?(gr(0),!1):!0}function vo(){if($e!==null){if(ot===0)var e=$e.return;else e=$e,ja=ji=null,Ul(e),yn=null,lr=0,e=$e;for(;e!==null;)rd(e.alternate,e),e=e.return;$e=null}}function Tn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,A_(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),vo(),ht=e,$e=a=Ua(e.current,null),at=t,ot=0,sa=null,li=!1,En=Si(e,t),fo=!1,An=ga=ho=qi=oi=At=0,ta=pr=null,_o=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var n=31-Qt(i),o=1<<n;t|=e[n],i&=~o}return Fa=t,Hr(),a}function Md(e,t){Ze=null,N.H=os,t===Jn||t===Jr?(t=qu(),ot=3):t===Gu?(t=qu(),ot=4):ot=t===Yc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,sa=t,$e===null&&(At=1,hs(e,fa(t,e.current)))}function Cd(){var e=N.H;return N.H=os,e===null?os:e}function Dd(){var e=N.A;return N.A=i_,e}function bo(){At=4,li||(at&4194048)!==at&&ma.current!==null||(En=!0),(oi&134217727)===0&&(qi&134217727)===0||ht===null||di(ht,at,ga,!1)}function So(e,t,a){var i=lt;lt|=2;var n=Cd(),o=Dd();(ht!==e||at!==t)&&(bs=null,Tn(e,t)),t=!1;var _=At;e:do try{if(ot!==0&&$e!==null){var S=$e,V=sa;switch(ot){case 8:vo(),_=6;break e;case 3:case 2:case 9:case 6:ma.current===null&&(t=!0);var ne=ot;if(ot=0,sa=null,Mn(e,S,V,ne),a&&En){_=0;break e}break;default:ne=ot,ot=0,sa=null,Mn(e,S,V,ne)}}s_(),_=At;break}catch(ge){Md(e,ge)}while(!0);return t&&e.shellSuspendCounter++,ja=ji=null,lt=i,N.H=n,N.A=o,$e===null&&(ht=null,at=0,Hr()),_}function s_(){for(;$e!==null;)Od($e)}function l_(e,t){var a=lt;lt|=2;var i=Cd(),n=Dd();ht!==e||at!==t?(bs=null,vs=Ht()+500,Tn(e,t)):En=Si(e,t);e:do try{if(ot!==0&&$e!==null){t=$e;var o=sa;t:switch(ot){case 1:ot=0,sa=null,Mn(e,t,o,1);break;case 2:case 9:if(Pu(o)){ot=0,sa=null,wd(t);break}t=function(){ot!==2&&ot!==9||ht!==e||(ot=7),La(e)},o.then(t,t);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:Pu(o)?(ot=0,sa=null,wd(t)):(ot=0,sa=null,Mn(e,t,o,7));break;case 5:var _=null;switch($e.tag){case 26:_=$e.memoizedState;case 5:case 27:var S=$e;if(!_||hf(_)){ot=0,sa=null;var V=S.sibling;if(V!==null)$e=V;else{var ne=S.return;ne!==null?($e=ne,Es(ne)):$e=null}break t}}ot=0,sa=null,Mn(e,t,o,5);break;case 6:ot=0,sa=null,Mn(e,t,o,6);break;case 8:vo(),At=6;break e;default:throw Error(v(462))}}o_();break}catch(ge){Md(e,ge)}while(!0);return ja=ji=null,N.H=i,N.A=n,lt=a,$e!==null?0:(ht=null,at=0,Hr(),At)}function o_(){for(;$e!==null&&!ua();)Od($e)}function Od(e){var t=id(e.alternate,e,Fa);e.memoizedProps=e.pendingProps,t===null?Es(e):$e=t}function wd(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Wc(a,t,t.pendingProps,t.type,void 0,at);break;case 11:t=Wc(a,t,t.pendingProps,t.type.render,t.ref,at);break;case 5:Ul(t);default:rd(a,t),t=$e=Lu(t,Fa),t=id(a,t,Fa)}e.memoizedProps=e.pendingProps,t===null?Es(e):$e=t}function Mn(e,t,a,i){ja=ji=null,Ul(t),yn=null,lr=0;var n=t.return;try{if(Wh(e,n,t,a,at)){At=1,hs(e,fa(a,e.current)),$e=null;return}}catch(o){if(n!==null)throw $e=n,o;At=1,hs(e,fa(a,e.current)),$e=null;return}t.flags&32768?(st||i===1?e=!0:En||(at&536870912)!==0?e=!1:(li=e=!0,(i===2||i===9||i===3||i===6)&&(i=ma.current,i!==null&&i.tag===13&&(i.flags|=16384))),Ld(t,e)):Es(t)}function Es(e){var t=e;do{if((t.flags&32768)!==0){Ld(t,li);return}e=t.return;var a=$h(t.alternate,t,Fa);if(a!==null){$e=a;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);At===0&&(At=5)}function Ld(e,t){do{var a=e_(e.alternate,e);if(a!==null){a.flags&=32767,$e=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){$e=e;return}$e=e=a}while(e!==null);At=6,$e=null}function Bd(e,t,a,i,n,o,_,S,V){e.cancelPendingCommit=null;do As();while(Gt!==0);if((lt&6)!==0)throw Error(v(327));if(t!==null){if(t===e.current)throw Error(v(177));if(o=t.lanes|t.childLanes,o|=cl,Zs(e,a,o,_,S,V),e===ht&&($e=ht=null,at=0),xn=t,ci=e,Rn=a,mo=o,go=n,Ad=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,f_(Qi,function(){return jd(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=N.T,N.T=null,n=de.p,de.p=2,_=lt,lt|=4;try{t_(e,t,a)}finally{lt=_,de.p=n,N.T=i}}Gt=1,kd(),Ud(),Nd()}}function kd(){if(Gt===1){Gt=0;var e=ci,t=xn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=N.T,N.T=null;var i=de.p;de.p=2;var n=lt;lt|=4;try{md(t,e);var o=Bo,_=Eu(e.containerInfo),S=o.focusedElem,V=o.selectionRange;if(_!==S&&S&&S.ownerDocument&&Su(S.ownerDocument.documentElement,S)){if(V!==null&&rl(S)){var ne=V.start,ge=V.end;if(ge===void 0&&(ge=ne),"selectionStart"in S)S.selectionStart=ne,S.selectionEnd=Math.min(ge,S.value.length);else{var Ee=S.ownerDocument||document,se=Ee&&Ee.defaultView||window;if(se.getSelection){var ce=se.getSelection(),Ye=S.textContent.length,Pe=Math.min(V.start,Ye),dt=V.end===void 0?Pe:Math.min(V.end,Ye);!ce.extend&&Pe>dt&&(_=dt,dt=Pe,Pe=_);var $=bu(S,Pe),X=bu(S,dt);if($&&X&&(ce.rangeCount!==1||ce.anchorNode!==$.node||ce.anchorOffset!==$.offset||ce.focusNode!==X.node||ce.focusOffset!==X.offset)){var ae=Ee.createRange();ae.setStart($.node,$.offset),ce.removeAllRanges(),Pe>dt?(ce.addRange(ae),ce.extend(X.node,X.offset)):(ae.setEnd(X.node,X.offset),ce.addRange(ae))}}}}for(Ee=[],ce=S;ce=ce.parentNode;)ce.nodeType===1&&Ee.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Ee.length;S++){var ye=Ee[S];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}Us=!!Lo,Bo=Lo=null}finally{lt=n,de.p=i,N.T=a}}e.current=t,Gt=2}}function Ud(){if(Gt===2){Gt=0;var e=ci,t=xn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=N.T,N.T=null;var i=de.p;de.p=2;var n=lt;lt|=4;try{fd(e,t.alternate,t)}finally{lt=n,de.p=i,N.T=a}}Gt=3}}function Nd(){if(Gt===4||Gt===3){Gt=0,_t();var e=ci,t=xn,a=Rn,i=Ad;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Gt=5:(Gt=0,xn=ci=null,zd(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(ui=null),$i(a),t=t.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(bi,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=N.T,n=de.p,de.p=2,N.T=null;try{for(var o=e.onRecoverableError,_=0;_<i.length;_++){var S=i[_];o(S.value,{componentStack:S.stack})}}finally{N.T=t,de.p=n}}(Rn&3)!==0&&As(),La(e),n=e.pendingLanes,(a&4194090)!==0&&(n&42)!==0?e===yo?mr++:(mr=0,yo=e):mr=0,gr(0)}}function zd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Zn(t)))}function As(e){return kd(),Ud(),Nd(),jd()}function jd(){if(Gt!==5)return!1;var e=ci,t=mo;mo=0;var a=$i(Rn),i=N.T,n=de.p;try{de.p=32>a?32:a,N.T=null,a=go,go=null;var o=ci,_=Rn;if(Gt=0,xn=ci=null,Rn=0,(lt&6)!==0)throw Error(v(331));var S=lt;if(lt|=4,Sd(o.current),yd(o,o.current,_,a),lt=S,gr(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(bi,o)}catch{}return!0}finally{de.p=n,N.T=i,zd(e,t)}}function Id(e,t,a){t=fa(a,t),t=Ql(e.stateNode,t,2),e=ei(e,t,2),e!==null&&(Ei(e,2),La(e))}function ft(e,t,a){if(e.tag===3)Id(e,e,a);else for(;t!==null;){if(t.tag===3){Id(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ui===null||!ui.has(i))){e=fa(a,e),a=Hc(2),i=ei(t,a,2),i!==null&&(qc(a,i,t,e),Ei(i,2),La(i));break}}t=t.return}}function Eo(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new n_;var n=new Set;i.set(t,n)}else n=i.get(t),n===void 0&&(n=new Set,i.set(t,n));n.has(a)||(fo=!0,n.add(a),e=u_.bind(null,e,t,a),t.then(e,e))}function u_(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ht===e&&(at&a)===a&&(At===4||At===3&&(at&62914560)===at&&300>Ht()-po?(lt&2)===0&&Tn(e,0):ho|=a,An===at&&(An=0)),La(e)}function Vd(e,t){t===0&&(t=Br()),e=on(e,t),e!==null&&(Ei(e,t),La(e))}function c_(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Vd(e,a)}function d_(e,t){var a=0;switch(e.tag){case 13:var i=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(v(314))}i!==null&&i.delete(t),Vd(e,a)}function f_(e,t){return bt(e,t)}var xs=null,Cn=null,Ao=!1,Rs=!1,xo=!1,Yi=0;function La(e){e!==Cn&&e.next===null&&(Cn===null?xs=Cn=e:Cn=Cn.next=e),Rs=!0,Ao||(Ao=!0,__())}function gr(e,t){if(!xo&&Rs){xo=!0;do for(var a=!1,i=xs;i!==null;){if(e!==0){var n=i.pendingLanes;if(n===0)var o=0;else{var _=i.suspendedLanes,S=i.pingedLanes;o=(1<<31-Qt(42|e)+1)-1,o&=n&~(_&~S),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(a=!0,qd(i,o))}else o=at,o=Ji(i,i===ht?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(o&3)===0||Si(i,o)||(a=!0,qd(i,o));i=i.next}while(a);xo=!1}}function h_(){Gd()}function Gd(){Rs=Ao=!1;var e=0;Yi!==0&&(E_()&&(e=Yi),Yi=0);for(var t=Ht(),a=null,i=xs;i!==null;){var n=i.next,o=Pd(i,t);o===0?(i.next=null,a===null?xs=n:a.next=n,n===null&&(Cn=a)):(a=i,(e!==0||(o&3)!==0)&&(Rs=!0)),i=n}gr(e)}function Pd(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,n=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var _=31-Qt(o),S=1<<_,V=n[_];V===-1?((S&a)===0||(S&i)!==0)&&(n[_]=Qs(S,t)):V<=t&&(e.expiredLanes|=S),o&=~S}if(t=ht,a=at,a=Ji(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(ot===2||ot===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&xt(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Si(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&xt(i),$i(a)){case 2:case 8:a=Xi;break;case 32:a=Qi;break;case 268435456:a=wr;break;default:a=Qi}return i=Hd.bind(null,e),a=bt(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&xt(i),e.callbackPriority=2,e.callbackNode=null,2}function Hd(e,t){if(Gt!==0&&Gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(As()&&e.callbackNode!==a)return null;var i=at;return i=Ji(e,e===ht?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Rd(e,i,t),Pd(e,Ht()),e.callbackNode!=null&&e.callbackNode===a?Hd.bind(null,e):null)}function qd(e,t){if(As())return null;Rd(e,t,!0)}function __(){x_(function(){(lt&6)!==0?bt(Ki,h_):Gd()})}function Ro(){return Yi===0&&(Yi=Lr()),Yi}function Yd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ra(""+e)}function Fd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function p_(e,t,a,i,n){if(t==="submit"&&a&&a.stateNode===n){var o=Yd((n[pt]||null).action),_=i.submitter;_&&(t=(t=_[pt]||null)?Yd(t.formAction):_.getAttribute("formAction"),t!==null&&(o=t,_=null));var S=new Vr("action","action",null,i,n);e.push({event:S,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Yi!==0){var V=_?Fd(n,_):new FormData(n);ql(a,{pending:!0,data:V,method:n.method,action:o},null,V)}}else typeof o=="function"&&(S.preventDefault(),V=_?Fd(n,_):new FormData(n),ql(a,{pending:!0,data:V,method:n.method,action:o},o,V))},currentTarget:n}]})}}for(var To=0;To<ul.length;To++){var Mo=ul[To],m_=Mo.toLowerCase(),g_=Mo[0].toUpperCase()+Mo.slice(1);Sa(m_,"on"+g_)}Sa(Ru,"onAnimationEnd"),Sa(Tu,"onAnimationIteration"),Sa(Mu,"onAnimationStart"),Sa("dblclick","onDoubleClick"),Sa("focusin","onFocus"),Sa("focusout","onBlur"),Sa(kh,"onTransitionRun"),Sa(Uh,"onTransitionStart"),Sa(Nh,"onTransitionCancel"),Sa(Cu,"onTransitionEnd"),q("onMouseEnter",["mouseout","mouseover"]),q("onMouseLeave",["mouseout","mouseover"]),q("onPointerEnter",["pointerout","pointerover"]),q("onPointerLeave",["pointerout","pointerover"]),j("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),j("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),j("onBeforeInput",["compositionend","keypress","textInput","paste"]),j("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),j("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),j("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yr));function Kd(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],n=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var _=i.length-1;0<=_;_--){var S=i[_],V=S.instance,ne=S.currentTarget;if(S=S.listener,V!==o&&n.isPropagationStopped())break e;o=S,n.currentTarget=ne;try{o(n)}catch(ge){fs(ge)}n.currentTarget=null,o=V}else for(_=0;_<i.length;_++){if(S=i[_],V=S.instance,ne=S.currentTarget,S=S.listener,V!==o&&n.isPropagationStopped())break e;o=S,n.currentTarget=ne;try{o(n)}catch(ge){fs(ge)}n.currentTarget=null,o=V}}}}function et(e,t){var a=t[Un];a===void 0&&(a=t[Un]=new Set);var i=e+"__bubble";a.has(i)||(Xd(t,e,2,!1),a.add(i))}function Co(e,t,a){var i=0;t&&(i|=4),Xd(a,e,i,t)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function Do(e){if(!e[Ts]){e[Ts]=!0,B.forEach(function(a){a!=="selectionchange"&&(y_.has(a)||Co(a,!1,e),Co(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ts]||(t[Ts]=!0,Co("selectionchange",!1,t))}}function Xd(e,t,a,i){switch(vf(t)){case 2:var n=Y_;break;case 8:n=F_;break;default:n=Ho}a=n.bind(null,t,a,e),n=void 0,!Ci||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),i?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function Oo(e,t,a,i,n){var o=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var _=i.tag;if(_===3||_===4){var S=i.stateNode.containerInfo;if(S===n)break;if(_===4)for(_=i.return;_!==null;){var V=_.tag;if((V===3||V===4)&&_.stateNode.containerInfo===n)return;_=_.return}for(;S!==null;){if(_=r(S),_===null)return;if(V=_.tag,V===5||V===6||V===26||V===27){i=o=_;continue e}S=S.parentNode}}i=i.return}Mi(function(){var ne=o,ge=Ri(a),Ee=[];e:{var se=Du.get(e);if(se!==void 0){var ce=Vr,Ye=e;switch(e){case"keypress":if(jr(a)===0)break e;case"keydown":case"keyup":ce=fh;break;case"focusin":Ye="focus",ce=el;break;case"focusout":Ye="blur",ce=el;break;case"beforeblur":case"afterblur":ce=el;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=ph;break;case Ru:case Tu:case Mu:ce=ih;break;case Cu:ce=gh;break;case"scroll":case"scrollend":ce=Jf;break;case"wheel":ce=vh;break;case"copy":case"cut":case"paste":ce=rh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=su;break;case"toggle":case"beforetoggle":ce=Sh}var Pe=(t&4)!==0,dt=!Pe&&(e==="scroll"||e==="scrollend"),$=Pe?se!==null?se+"Capture":null:se;Pe=[];for(var X=ne,ae;X!==null;){var ye=X;if(ae=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||ae===null||$===null||(ye=Qa(X,$),ye!=null&&Pe.push(vr(X,ye,ae))),dt)break;X=X.return}0<Pe.length&&(se=new ce(se,Ye,null,a,ge),Ee.push({event:se,listeners:Pe}))}}if((t&7)===0){e:{if(se=e==="mouseover"||e==="pointerover",ce=e==="mouseout"||e==="pointerout",se&&a!==en&&(Ye=a.relatedTarget||a.fromElement)&&(r(Ye)||Ye[ka]))break e;if((ce||se)&&(se=ge.window===ge?ge:(se=ge.ownerDocument)?se.defaultView||se.parentWindow:window,ce?(Ye=a.relatedTarget||a.toElement,ce=ne,Ye=Ye?r(Ye):null,Ye!==null&&(dt=G(Ye),Pe=Ye.tag,Ye!==dt||Pe!==5&&Pe!==27&&Pe!==6)&&(Ye=null)):(ce=null,Ye=ne),ce!==Ye)){if(Pe=nu,ye="onMouseLeave",$="onMouseEnter",X="mouse",(e==="pointerout"||e==="pointerover")&&(Pe=su,ye="onPointerLeave",$="onPointerEnter",X="pointer"),dt=ce==null?se:h(ce),ae=Ye==null?se:h(Ye),se=new Pe(ye,X+"leave",ce,a,ge),se.target=dt,se.relatedTarget=ae,ye=null,r(ge)===ne&&(Pe=new Pe($,X+"enter",Ye,a,ge),Pe.target=ae,Pe.relatedTarget=dt,ye=Pe),dt=ye,ce&&Ye)t:{for(Pe=ce,$=Ye,X=0,ae=Pe;ae;ae=Dn(ae))X++;for(ae=0,ye=$;ye;ye=Dn(ye))ae++;for(;0<X-ae;)Pe=Dn(Pe),X--;for(;0<ae-X;)$=Dn($),ae--;for(;X--;){if(Pe===$||$!==null&&Pe===$.alternate)break t;Pe=Dn(Pe),$=Dn($)}Pe=null}else Pe=null;ce!==null&&Qd(Ee,se,ce,Pe,!1),Ye!==null&&dt!==null&&Qd(Ee,dt,Ye,Pe,!0)}}e:{if(se=ne?h(ne):window,ce=se.nodeName&&se.nodeName.toLowerCase(),ce==="select"||ce==="input"&&se.type==="file")var Be=_u;else if(fu(se))if(pu)Be=wh;else{Be=Dh;var We=Ch}else ce=se.nodeName,!ce||ce.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ne&&zn(ne.elementType)&&(Be=_u):Be=Oh;if(Be&&(Be=Be(e,ne))){hu(Ee,Be,a,ge);break e}We&&We(e,se,ne),e==="focusout"&&ne&&se.type==="number"&&ne.memoizedProps.value!=null&&Bt(se,"number",se.value)}switch(We=ne?h(ne):window,e){case"focusin":(fu(We)||We.contentEditable==="true")&&(rn=We,sl=ne,Yn=null);break;case"focusout":Yn=sl=rn=null;break;case"mousedown":ll=!0;break;case"contextmenu":case"mouseup":case"dragend":ll=!1,Au(Ee,a,ge);break;case"selectionchange":if(Bh)break;case"keydown":case"keyup":Au(Ee,a,ge)}var Ne;if(al)e:{switch(e){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else nn?cu(e,a)&&(qe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(qe="onCompositionStart");qe&&(lu&&a.locale!=="ko"&&(nn||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&nn&&(Ne=jn()):(Ma=ge,an="value"in Ma?Ma.value:Ma.textContent,nn=!0)),We=Ms(ne,qe),0<We.length&&(qe=new ru(qe,e,null,a,ge),Ee.push({event:qe,listeners:We}),Ne?qe.data=Ne:(Ne=du(a),Ne!==null&&(qe.data=Ne)))),(Ne=Ah?xh(e,a):Rh(e,a))&&(qe=Ms(ne,"onBeforeInput"),0<qe.length&&(We=new ru("onBeforeInput","beforeinput",null,a,ge),Ee.push({event:We,listeners:qe}),We.data=Ne)),p_(Ee,e,ne,a,ge)}Kd(Ee,t)})}function vr(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ms(e,t){for(var a=t+"Capture",i=[];e!==null;){var n=e,o=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||o===null||(n=Qa(e,a),n!=null&&i.unshift(vr(e,n,o)),n=Qa(e,t),n!=null&&i.push(vr(e,n,o))),e.tag===3)return i;e=e.return}return[]}function Dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qd(e,t,a,i,n){for(var o=t._reactName,_=[];a!==null&&a!==i;){var S=a,V=S.alternate,ne=S.stateNode;if(S=S.tag,V!==null&&V===i)break;S!==5&&S!==26&&S!==27||ne===null||(V=ne,n?(ne=Qa(a,o),ne!=null&&_.unshift(vr(a,ne,V))):n||(ne=Qa(a,o),ne!=null&&_.push(vr(a,ne,V)))),a=a.return}_.length!==0&&e.push({event:t,listeners:_})}var v_=/\r\n?/g,b_=/\u0000|\uFFFD/g;function Zd(e){return(typeof e=="string"?e:""+e).replace(v_,`
`).replace(b_,"")}function Wd(e,t){return t=Zd(t),Zd(e)===t}function Cs(){}function ct(e,t,a,i,n,o){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Yt(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Yt(e,""+i);break;case"className":De(e,"class",i);break;case"tabIndex":De(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":De(e,a,i);break;case"style":Nn(e,i,o);break;case"data":if(t!=="object"){De(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=Ra(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(a==="formAction"?(t!=="input"&&ct(e,t,"name",n.name,n,null),ct(e,t,"formEncType",n.formEncType,n,null),ct(e,t,"formMethod",n.formMethod,n,null),ct(e,t,"formTarget",n.formTarget,n,null)):(ct(e,t,"encType",n.encType,n,null),ct(e,t,"method",n.method,n,null),ct(e,t,"target",n.target,n,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=Ra(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=Cs);break;case"onScroll":i!=null&&et("scroll",e);break;case"onScrollEnd":i!=null&&et("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(v(61));if(a=i.__html,a!=null){if(n.children!=null)throw Error(v(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=Ra(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":et("beforetoggle",e),et("toggle",e),fe(e,"popover",i);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":fe(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zr.get(a)||a,fe(e,a,i))}}function wo(e,t,a,i,n,o){switch(a){case"style":Nn(e,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(v(61));if(a=i.__html,a!=null){if(n.children!=null)throw Error(v(60));e.innerHTML=a}}break;case"children":typeof i=="string"?Yt(e,i):(typeof i=="number"||typeof i=="bigint")&&Yt(e,""+i);break;case"onScroll":i!=null&&et("scroll",e);break;case"onScrollEnd":i!=null&&et("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Cs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!L.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),o=e[pt]||null,o=o!=null?o[a]:null,typeof o=="function"&&e.removeEventListener(t,o,n),typeof i=="function")){typeof o!="function"&&o!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,n);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):fe(e,a,i)}}}function Pt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",e),et("load",e);var i=!1,n=!1,o;for(o in a)if(a.hasOwnProperty(o)){var _=a[o];if(_!=null)switch(o){case"src":i=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(v(137,t));default:ct(e,t,o,_,a,null)}}n&&ct(e,t,"srcSet",a.srcSet,a,null),i&&ct(e,t,"src",a.src,a,null);return;case"input":et("invalid",e);var S=o=_=n=null,V=null,ne=null;for(i in a)if(a.hasOwnProperty(i)){var ge=a[i];if(ge!=null)switch(i){case"name":n=ge;break;case"type":_=ge;break;case"checked":V=ge;break;case"defaultChecked":ne=ge;break;case"value":o=ge;break;case"defaultValue":S=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(v(137,t));break;default:ct(e,t,i,ge,a,null)}}qt(e,o,S,V,ne,_,n,!1),Ge(e);return;case"select":et("invalid",e),i=_=o=null;for(n in a)if(a.hasOwnProperty(n)&&(S=a[n],S!=null))switch(n){case"value":o=S;break;case"defaultValue":_=S;break;case"multiple":i=S;default:ct(e,t,n,S,a,null)}t=o,a=_,e.multiple=!!i,t!=null?yt(e,!!i,t,!1):a!=null&&yt(e,!!i,a,!0);return;case"textarea":et("invalid",e),o=n=i=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":i=S;break;case"defaultValue":n=S;break;case"children":o=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(v(91));break;default:ct(e,t,_,S,a,null)}tt(e,i,n,o),Ge(e);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(i=a[V],i!=null))switch(V){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ct(e,t,V,i,a,null)}return;case"dialog":et("beforetoggle",e),et("toggle",e),et("cancel",e),et("close",e);break;case"iframe":case"object":et("load",e);break;case"video":case"audio":for(i=0;i<yr.length;i++)et(yr[i],e);break;case"image":et("error",e),et("load",e);break;case"details":et("toggle",e);break;case"embed":case"source":case"link":et("error",e),et("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in a)if(a.hasOwnProperty(ne)&&(i=a[ne],i!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(v(137,t));default:ct(e,t,ne,i,a,null)}return;default:if(zn(t)){for(ge in a)a.hasOwnProperty(ge)&&(i=a[ge],i!==void 0&&wo(e,t,ge,i,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(i=a[S],i!=null&&ct(e,t,S,i,a,null))}function S_(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,o=null,_=null,S=null,V=null,ne=null,ge=null;for(ce in a){var Ee=a[ce];if(a.hasOwnProperty(ce)&&Ee!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":V=Ee;default:i.hasOwnProperty(ce)||ct(e,t,ce,null,i,Ee)}}for(var se in i){var ce=i[se];if(Ee=a[se],i.hasOwnProperty(se)&&(ce!=null||Ee!=null))switch(se){case"type":o=ce;break;case"name":n=ce;break;case"checked":ne=ce;break;case"defaultChecked":ge=ce;break;case"value":_=ce;break;case"defaultValue":S=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(v(137,t));break;default:ce!==Ee&&ct(e,t,se,ce,i,Ee)}}Dt(e,_,S,V,ne,ge,o,n);return;case"select":ce=_=S=se=null;for(o in a)if(V=a[o],a.hasOwnProperty(o)&&V!=null)switch(o){case"value":break;case"multiple":ce=V;default:i.hasOwnProperty(o)||ct(e,t,o,null,i,V)}for(n in i)if(o=i[n],V=a[n],i.hasOwnProperty(n)&&(o!=null||V!=null))switch(n){case"value":se=o;break;case"defaultValue":S=o;break;case"multiple":_=o;default:o!==V&&ct(e,t,n,o,i,V)}t=S,a=_,i=ce,se!=null?yt(e,!!a,se,!1):!!i!=!!a&&(t!=null?yt(e,!!a,t,!0):yt(e,!!a,a?[]:"",!1));return;case"textarea":ce=se=null;for(S in a)if(n=a[S],a.hasOwnProperty(S)&&n!=null&&!i.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ct(e,t,S,null,i,n)}for(_ in i)if(n=i[_],o=a[_],i.hasOwnProperty(_)&&(n!=null||o!=null))switch(_){case"value":se=n;break;case"defaultValue":ce=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(v(91));break;default:n!==o&&ct(e,t,_,n,i,o)}Nt(e,se,ce);return;case"option":for(var Ye in a)if(se=a[Ye],a.hasOwnProperty(Ye)&&se!=null&&!i.hasOwnProperty(Ye))switch(Ye){case"selected":e.selected=!1;break;default:ct(e,t,Ye,null,i,se)}for(V in i)if(se=i[V],ce=a[V],i.hasOwnProperty(V)&&se!==ce&&(se!=null||ce!=null))switch(V){case"selected":e.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:ct(e,t,V,se,i,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in a)se=a[Pe],a.hasOwnProperty(Pe)&&se!=null&&!i.hasOwnProperty(Pe)&&ct(e,t,Pe,null,i,se);for(ne in i)if(se=i[ne],ce=a[ne],i.hasOwnProperty(ne)&&se!==ce&&(se!=null||ce!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(v(137,t));break;default:ct(e,t,ne,se,i,ce)}return;default:if(zn(t)){for(var dt in a)se=a[dt],a.hasOwnProperty(dt)&&se!==void 0&&!i.hasOwnProperty(dt)&&wo(e,t,dt,void 0,i,se);for(ge in i)se=i[ge],ce=a[ge],!i.hasOwnProperty(ge)||se===ce||se===void 0&&ce===void 0||wo(e,t,ge,se,i,ce);return}}for(var $ in a)se=a[$],a.hasOwnProperty($)&&se!=null&&!i.hasOwnProperty($)&&ct(e,t,$,null,i,se);for(Ee in i)se=i[Ee],ce=a[Ee],!i.hasOwnProperty(Ee)||se===ce||se==null&&ce==null||ct(e,t,Ee,se,i,ce)}var Lo=null,Bo=null;function Ds(e){return e.nodeType===9?e:e.ownerDocument}function Jd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $d(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ko(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uo=null;function E_(){var e=window.event;return e&&e.type==="popstate"?e===Uo?!1:(Uo=e,!0):(Uo=null,!1)}var ef=typeof setTimeout=="function"?setTimeout:void 0,A_=typeof clearTimeout=="function"?clearTimeout:void 0,tf=typeof Promise=="function"?Promise:void 0,x_=typeof queueMicrotask=="function"?queueMicrotask:typeof tf<"u"?function(e){return tf.resolve(null).then(e).catch(R_)}:ef;function R_(e){setTimeout(function(){throw e})}function fi(e){return e==="head"}function af(e,t){var a=t,i=0,n=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(0<i&&8>i){a=i;var _=e.ownerDocument;if(a&1&&br(_.documentElement),a&2&&br(_.body),a&4)for(a=_.head,br(a),_=a.firstChild;_;){var S=_.nextSibling,V=_.nodeName;_[l]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=S}}if(n===0){e.removeChild(o),Cr(t);return}n--}else a==="$"||a==="$?"||a==="$!"?n++:i=a.charCodeAt(0)-48;else i=0;a=o}while(a);Cr(t)}function No(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":No(a),s(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function T_(e,t,a,i){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[l])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Aa(e.nextSibling),e===null)break}return null}function M_(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Aa(e.nextSibling),e===null))return null;return e}function zo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function C_(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Aa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var jo=null;function nf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function rf(e,t,a){switch(t=Ds(a),e){case"html":if(e=t.documentElement,!e)throw Error(v(452));return e;case"head":if(e=t.head,!e)throw Error(v(453));return e;case"body":if(e=t.body,!e)throw Error(v(454));return e;default:throw Error(v(451))}}function br(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);s(e)}var ya=new Map,sf=new Set;function Os(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ka=de.d;de.d={f:D_,r:O_,D:w_,C:L_,L:B_,m:k_,X:N_,S:U_,M:z_};function D_(){var e=Ka.f(),t=Ss();return e||t}function O_(e){var t=c(e);t!==null&&t.tag===5&&t.type==="form"?Rc(t):Ka.r(e)}var On=typeof document>"u"?null:document;function lf(e,t,a){var i=On;if(i&&typeof t=="string"&&t){var n=mt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),sf.has(n)||(sf.add(n),e={rel:e,crossOrigin:a,href:t},i.querySelector(n)===null&&(t=i.createElement("link"),Pt(t,"link",e),p(t),i.head.appendChild(t)))}}function w_(e){Ka.D(e),lf("dns-prefetch",e,null)}function L_(e,t){Ka.C(e,t),lf("preconnect",e,t)}function B_(e,t,a){Ka.L(e,t,a);var i=On;if(i&&e&&t){var n='link[rel="preload"][as="'+mt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+mt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+mt(a.imageSizes)+'"]')):n+='[href="'+mt(e)+'"]';var o=n;switch(t){case"style":o=wn(e);break;case"script":o=Ln(e)}ya.has(o)||(e=b({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ya.set(o,e),i.querySelector(n)!==null||t==="style"&&i.querySelector(Sr(o))||t==="script"&&i.querySelector(Er(o))||(t=i.createElement("link"),Pt(t,"link",e),p(t),i.head.appendChild(t)))}}function k_(e,t){Ka.m(e,t);var a=On;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+mt(i)+'"][href="'+mt(e)+'"]',o=n;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Ln(e)}if(!ya.has(o)&&(e=b({rel:"modulepreload",href:e},t),ya.set(o,e),a.querySelector(n)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Er(o)))return}i=a.createElement("link"),Pt(i,"link",e),p(i),a.head.appendChild(i)}}}function U_(e,t,a){Ka.S(e,t,a);var i=On;if(i&&e){var n=f(i).hoistableStyles,o=wn(e);t=t||"default";var _=n.get(o);if(!_){var S={loading:0,preload:null};if(_=i.querySelector(Sr(o)))S.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ya.get(o))&&Io(e,a);var V=_=i.createElement("link");p(V),Pt(V,"link",e),V._p=new Promise(function(ne,ge){V.onload=ne,V.onerror=ge}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ws(_,t,i)}_={type:"stylesheet",instance:_,count:1,state:S},n.set(o,_)}}}function N_(e,t){Ka.X(e,t);var a=On;if(a&&e){var i=f(a).hoistableScripts,n=Ln(e),o=i.get(n);o||(o=a.querySelector(Er(n)),o||(e=b({src:e,async:!0},t),(t=ya.get(n))&&Vo(e,t),o=a.createElement("script"),p(o),Pt(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(n,o))}}function z_(e,t){Ka.M(e,t);var a=On;if(a&&e){var i=f(a).hoistableScripts,n=Ln(e),o=i.get(n);o||(o=a.querySelector(Er(n)),o||(e=b({src:e,async:!0,type:"module"},t),(t=ya.get(n))&&Vo(e,t),o=a.createElement("script"),p(o),Pt(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(n,o))}}function of(e,t,a,i){var n=(n=Me.current)?Os(n):null;if(!n)throw Error(v(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=wn(a.href),a=f(n).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=wn(a.href);var o=f(n).hoistableStyles,_=o.get(e);if(_||(n=n.ownerDocument||n,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,_),(o=n.querySelector(Sr(e)))&&!o._p&&(_.instance=o,_.state.loading=5),ya.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ya.set(e,a),o||j_(n,e,a,_.state))),t&&i===null)throw Error(v(528,""));return _}if(t&&i!==null)throw Error(v(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ln(a),a=f(n).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(v(444,e))}}function wn(e){return'href="'+mt(e)+'"'}function Sr(e){return'link[rel="stylesheet"]['+e+"]"}function uf(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function j_(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Pt(t,"link",a),p(t),e.head.appendChild(t))}function Ln(e){return'[src="'+mt(e)+'"]'}function Er(e){return"script[async]"+e}function cf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+mt(a.href)+'"]');if(i)return t.instance=i,p(i),i;var n=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),p(i),Pt(i,"style",n),ws(i,a.precedence,e),t.instance=i;case"stylesheet":n=wn(a.href);var o=e.querySelector(Sr(n));if(o)return t.state.loading|=4,t.instance=o,p(o),o;i=uf(a),(n=ya.get(n))&&Io(i,n),o=(e.ownerDocument||e).createElement("link"),p(o);var _=o;return _._p=new Promise(function(S,V){_.onload=S,_.onerror=V}),Pt(o,"link",i),t.state.loading|=4,ws(o,a.precedence,e),t.instance=o;case"script":return o=Ln(a.src),(n=e.querySelector(Er(o)))?(t.instance=n,p(n),n):(i=a,(n=ya.get(o))&&(i=b({},a),Vo(i,n)),e=e.ownerDocument||e,n=e.createElement("script"),p(n),Pt(n,"link",i),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(v(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,ws(i,a.precedence,e));return t.instance}function ws(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=i.length?i[i.length-1]:null,o=n,_=0;_<i.length;_++){var S=i[_];if(S.dataset.precedence===t)o=S;else if(o!==n)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Io(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Vo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ls=null;function df(e,t,a){if(Ls===null){var i=new Map,n=Ls=new Map;n.set(a,i)}else n=Ls,i=n.get(a),i||(i=new Map,n.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var o=a[n];if(!(o[l]||o[Lt]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var _=o.getAttribute(t)||"";_=e+_;var S=i.get(_);S?S.push(o):i.set(_,[o])}}return i}function ff(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function I_(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function hf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ar=null;function V_(){}function G_(e,t,a){if(Ar===null)throw Error(v(475));var i=Ar;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var n=wn(a.href),o=e.querySelector(Sr(n));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=Bs.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=o,p(o);return}o=e.ownerDocument||e,a=uf(a),(n=ya.get(n))&&Io(a,n),o=o.createElement("link"),p(o);var _=o;_._p=new Promise(function(S,V){_.onload=S,_.onerror=V}),Pt(o,"link",a),t.instance=o}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(i.count++,t=Bs.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function P_(){if(Ar===null)throw Error(v(475));var e=Ar;return e.stylesheets&&e.count===0&&Go(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Go(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Bs(){if(this.count--,this.count===0){if(this.stylesheets)Go(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ks=null;function Go(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ks=new Map,t.forEach(H_,e),ks=null,Bs.call(e))}function H_(e,t){if(!(t.state.loading&4)){var a=ks.get(e);if(a)var i=a.get(null);else{a=new Map,ks.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<n.length;o++){var _=n[o];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),i=_)}i&&a.set(null,i)}n=t.instance,_=n.getAttribute("data-precedence"),o=a.get(_)||i,o===i&&a.set(null,n),a.set(_,n),this.count++,i=Bs.bind(this),n.addEventListener("load",i),n.addEventListener("error",i),o?o.parentNode.insertBefore(n,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var xr={$$typeof:le,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function q_(e,t,a,i,n,o,_,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bn(0),this.hiddenUpdates=Bn(null),this.identifierPrefix=i,this.onUncaughtError=n,this.onCaughtError=o,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function _f(e,t,a,i,n,o,_,S,V,ne,ge,Ee){return e=new q_(e,t,a,_,S,V,ne,Ee),t=1,o===!0&&(t|=24),o=ia(3,null,null,t),e.current=o,o.stateNode=e,t=Sl(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:i,isDehydrated:a,cache:t},Rl(o),e}function pf(e){return e?(e=un,e):un}function mf(e,t,a,i,n,o){n=pf(n),i.context===null?i.context=n:i.pendingContext=n,i=$a(t),i.payload={element:a},o=o===void 0?null:o,o!==null&&(i.callback=o),a=ei(e,i,t),a!==null&&(oa(a,e,t),er(a,e,t))}function gf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Po(e,t){gf(e,t),(e=e.alternate)&&gf(e,t)}function yf(e){if(e.tag===13){var t=on(e,67108864);t!==null&&oa(t,e,67108864),Po(e,67108864)}}var Us=!0;function Y_(e,t,a,i){var n=N.T;N.T=null;var o=de.p;try{de.p=2,Ho(e,t,a,i)}finally{de.p=o,N.T=n}}function F_(e,t,a,i){var n=N.T;N.T=null;var o=de.p;try{de.p=8,Ho(e,t,a,i)}finally{de.p=o,N.T=n}}function Ho(e,t,a,i){if(Us){var n=qo(i);if(n===null)Oo(e,t,i,Ns,a),bf(e,i);else if(X_(n,e,t,a,i))i.stopPropagation();else if(bf(e,i),t&4&&-1<K_.indexOf(e)){for(;n!==null;){var o=c(n);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var _=Ba(o.pendingLanes);if(_!==0){var S=o;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var V=1<<31-Qt(_);S.entanglements[1]|=V,_&=~V}La(o),(lt&6)===0&&(vs=Ht()+500,gr(0))}}break;case 13:S=on(o,2),S!==null&&oa(S,o,2),Ss(),Po(o,2)}if(o=qo(i),o===null&&Oo(e,t,i,Ns,a),o===n)break;n=o}n!==null&&i.stopPropagation()}else Oo(e,t,i,null,a)}}function qo(e){return e=Ri(e),Yo(e)}var Ns=null;function Yo(e){if(Ns=null,e=r(e),e!==null){var t=G(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=w(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ns=e,null}function vf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fi()){case Ki:return 2;case Xi:return 8;case Qi:case Hs:return 32;case wr:return 268435456;default:return 32}default:return 32}}var Fo=!1,hi=null,_i=null,pi=null,Rr=new Map,Tr=new Map,mi=[],K_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bf(e,t){switch(e){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":pi=null;break;case"pointerover":case"pointerout":Rr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tr.delete(t.pointerId)}}function Mr(e,t,a,i,n,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:o,targetContainers:[n]},t!==null&&(t=c(t),t!==null&&yf(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function X_(e,t,a,i,n){switch(t){case"focusin":return hi=Mr(hi,e,t,a,i,n),!0;case"dragenter":return _i=Mr(_i,e,t,a,i,n),!0;case"mouseover":return pi=Mr(pi,e,t,a,i,n),!0;case"pointerover":var o=n.pointerId;return Rr.set(o,Mr(Rr.get(o)||null,e,t,a,i,n)),!0;case"gotpointercapture":return o=n.pointerId,Tr.set(o,Mr(Tr.get(o)||null,e,t,a,i,n)),!0}return!1}function Sf(e){var t=r(e.target);if(t!==null){var a=G(t);if(a!==null){if(t=a.tag,t===13){if(t=w(a),t!==null){e.blockedOn=t,Nr(e.priority,function(){if(a.tag===13){var i=la();i=va(i);var n=on(a,i);n!==null&&oa(n,a,i),Po(a,i)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=qo(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);en=i,a.target.dispatchEvent(i),en=null}else return t=c(a),t!==null&&yf(t),e.blockedOn=a,!1;t.shift()}return!0}function Ef(e,t,a){zs(e)&&a.delete(t)}function Q_(){Fo=!1,hi!==null&&zs(hi)&&(hi=null),_i!==null&&zs(_i)&&(_i=null),pi!==null&&zs(pi)&&(pi=null),Rr.forEach(Ef),Tr.forEach(Ef)}function js(e,t){e.blockedOn===t&&(e.blockedOn=null,Fo||(Fo=!0,ee.unstable_scheduleCallback(ee.unstable_NormalPriority,Q_)))}var Is=null;function Af(e){Is!==e&&(Is=e,ee.unstable_scheduleCallback(ee.unstable_NormalPriority,function(){Is===e&&(Is=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],n=e[t+2];if(typeof i!="function"){if(Yo(i||a)===null)continue;break}var o=c(a);o!==null&&(e.splice(t,3),t-=3,ql(o,{pending:!0,data:n,method:a.method,action:i},i,n))}}))}function Cr(e){function t(V){return js(V,e)}hi!==null&&js(hi,e),_i!==null&&js(_i,e),pi!==null&&js(pi,e),Rr.forEach(t),Tr.forEach(t);for(var a=0;a<mi.length;a++){var i=mi[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<mi.length&&(a=mi[0],a.blockedOn===null);)Sf(a),a.blockedOn===null&&mi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var n=a[i],o=a[i+1],_=n[pt]||null;if(typeof o=="function")_||Af(a);else if(_){var S=null;if(o&&o.hasAttribute("formAction")){if(n=o,_=o[pt]||null)S=_.formAction;else if(Yo(n)!==null)continue}else S=_.action;typeof S=="function"?a[i+1]=S:(a.splice(i,3),i-=3),Af(a)}}}function Ko(e){this._internalRoot=e}Vs.prototype.render=Ko.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(v(409));var a=t.current,i=la();mf(a,i,e,t,null,null)},Vs.prototype.unmount=Ko.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mf(e.current,2,null,e,null,null),Ss(),t[ka]=null}};function Vs(e){this._internalRoot=e}Vs.prototype.unstable_scheduleHydration=function(e){if(e){var t=kn();e={blockedOn:null,target:e,priority:t};for(var a=0;a<mi.length&&t!==0&&t<mi[a].priority;a++);mi.splice(a,0,e),a===0&&Sf(e)}};var xf=ie.version;if(xf!=="19.1.1")throw Error(v(527,xf,"19.1.1"));de.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(v(188)):(e=Object.keys(e).join(","),Error(v(268,e)));return e=g(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var Z_={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gs.isDisabled&&Gs.supportsFiber)try{bi=Gs.inject(Z_),Xt=Gs}catch{}}return Or.createRoot=function(e,t){if(!x(e))throw Error(v(299));var a=!1,i="",n=Ic,o=Vc,_=Gc,S=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(_=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(S=t.unstable_transitionCallbacks)),t=_f(e,1,!1,null,null,a,i,n,o,_,S,null),e[ka]=t.current,Do(e),new Ko(t)},Or.hydrateRoot=function(e,t,a){if(!x(e))throw Error(v(299));var i=!1,n="",o=Ic,_=Vc,S=Gc,V=null,ne=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(o=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(V=a.unstable_transitionCallbacks),a.formState!==void 0&&(ne=a.formState)),t=_f(e,1,!0,t,a??null,i,n,o,_,S,V,ne),t.context=pf(null),a=t.current,i=la(),i=va(i),n=$a(i),n.callback=null,ei(a,n,i),a=i,t.current.lanes=a,Ei(t,a),La(t),e[ka]=t.current,Do(e),new Vs(t)},Or.version="19.1.1",Or}var kf;function sp(){if(kf)return Zo.exports;kf=1;function ee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ee)}catch(ie){console.error(ie)}}return ee(),Zo.exports=rp(),Zo.exports}var lp=sp(),eu={exports:{}},Uf;function op(){return Uf||(Uf=1,(function(ee,ie){(function(Z,v){ee.exports=v()})(window,(function(){return(function(Z){var v={};function x(G){if(v[G])return v[G].exports;var w=v[G]={i:G,l:!1,exports:{}};return Z[G].call(w.exports,w,w.exports,x),w.l=!0,w.exports}return x.m=Z,x.c=v,x.d=function(G,w,y){x.o(G,w)||Object.defineProperty(G,w,{enumerable:!0,get:y})},x.r=function(G){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})},x.t=function(G,w){if(1&w&&(G=x(G)),8&w||4&w&&typeof G=="object"&&G&&G.__esModule)return G;var y=Object.create(null);if(x.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:G}),2&w&&typeof G!="string")for(var g in G)x.d(y,g,(function(m){return G[m]}).bind(null,g));return y},x.n=function(G){var w=G&&G.__esModule?function(){return G.default}:function(){return G};return x.d(w,"a",w),w},x.o=function(G,w){return Object.prototype.hasOwnProperty.call(G,w)},x.p="",x(x.s=20)})([function(Z,v,x){var G=x(9),w=x.n(G),y=(function(){function g(){}return g.e=function(m,b){m&&!g.FORCE_GLOBAL_TAG||(m=g.GLOBAL_TAG);var D="[".concat(m,"] > ").concat(b);g.ENABLE_CALLBACK&&g.emitter.emit("log","error",D),g.ENABLE_ERROR&&(console.error?console.error(D):console.warn?console.warn(D):console.log(D))},g.i=function(m,b){m&&!g.FORCE_GLOBAL_TAG||(m=g.GLOBAL_TAG);var D="[".concat(m,"] > ").concat(b);g.ENABLE_CALLBACK&&g.emitter.emit("log","info",D),g.ENABLE_INFO&&(console.info?console.info(D):console.log(D))},g.w=function(m,b){m&&!g.FORCE_GLOBAL_TAG||(m=g.GLOBAL_TAG);var D="[".concat(m,"] > ").concat(b);g.ENABLE_CALLBACK&&g.emitter.emit("log","warn",D),g.ENABLE_WARN&&(console.warn?console.warn(D):console.log(D))},g.d=function(m,b){m&&!g.FORCE_GLOBAL_TAG||(m=g.GLOBAL_TAG);var D="[".concat(m,"] > ").concat(b);g.ENABLE_CALLBACK&&g.emitter.emit("log","debug",D),g.ENABLE_DEBUG&&(console.debug?console.debug(D):console.log(D))},g.v=function(m,b){m&&!g.FORCE_GLOBAL_TAG||(m=g.GLOBAL_TAG);var D="[".concat(m,"] > ").concat(b);g.ENABLE_CALLBACK&&g.emitter.emit("log","verbose",D),g.ENABLE_VERBOSE&&console.log(D)},g})();y.GLOBAL_TAG="mpegts.js",y.FORCE_GLOBAL_TAG=!1,y.ENABLE_ERROR=!0,y.ENABLE_INFO=!0,y.ENABLE_WARN=!0,y.ENABLE_DEBUG=!0,y.ENABLE_VERBOSE=!0,y.ENABLE_CALLBACK=!1,y.emitter=new w.a,v.a=y},function(Z,v,x){var G;(function(w){w.IO_ERROR="io_error",w.DEMUX_ERROR="demux_error",w.INIT_SEGMENT="init_segment",w.MEDIA_SEGMENT="media_segment",w.LOADING_COMPLETE="loading_complete",w.RECOVERED_EARLY_EOF="recovered_early_eof",w.MEDIA_INFO="media_info",w.METADATA_ARRIVED="metadata_arrived",w.SCRIPTDATA_ARRIVED="scriptdata_arrived",w.TIMED_ID3_METADATA_ARRIVED="timed_id3_metadata_arrived",w.SYNCHRONOUS_KLV_METADATA_ARRIVED="synchronous_klv_metadata_arrived",w.ASYNCHRONOUS_KLV_METADATA_ARRIVED="asynchronous_klv_metadata_arrived",w.SMPTE2038_METADATA_ARRIVED="smpte2038_metadata_arrived",w.SCTE35_METADATA_ARRIVED="scte35_metadata_arrived",w.PES_PRIVATE_DATA_DESCRIPTOR="pes_private_data_descriptor",w.PES_PRIVATE_DATA_ARRIVED="pes_private_data_arrived",w.STATISTICS_INFO="statistics_info",w.RECOMMEND_SEEKPOINT="recommend_seekpoint"})(G||(G={})),v.a=G},function(Z,v,x){x.d(v,"c",(function(){return w})),x.d(v,"b",(function(){return y})),x.d(v,"a",(function(){return g}));var G=x(3),w={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},y={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},g=(function(){function m(b){this._type=b||"undefined",this._status=w.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return m.prototype.destroy=function(){this._status=w.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},m.prototype.isWorking=function(){return this._status===w.kConnecting||this._status===w.kBuffering},Object.defineProperty(m.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(b){this._onContentLengthKnown=b},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(b){this._onURLRedirect=b},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(b){this._onDataArrival=b},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onError",{get:function(){return this._onError},set:function(b){this._onError=b},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onComplete",{get:function(){return this._onComplete},set:function(b){this._onComplete=b},enumerable:!1,configurable:!0}),m.prototype.open=function(b,D){throw new G.c("Unimplemented abstract function!")},m.prototype.abort=function(){throw new G.c("Unimplemented abstract function!")},m})()},function(Z,v,x){x.d(v,"d",(function(){return y})),x.d(v,"a",(function(){return g})),x.d(v,"b",(function(){return m})),x.d(v,"c",(function(){return b}));var G,w=(G=function(D,k){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,C){z.__proto__=C}||function(z,C){for(var I in C)Object.prototype.hasOwnProperty.call(C,I)&&(z[I]=C[I])})(D,k)},function(D,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function z(){this.constructor=D}G(D,k),D.prototype=k===null?Object.create(k):(z.prototype=k.prototype,new z)}),y=(function(){function D(k){this._message=k}return Object.defineProperty(D.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),D.prototype.toString=function(){return this.name+": "+this.message},D})(),g=(function(D){function k(z){return D.call(this,z)||this}return w(k,D),Object.defineProperty(k.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),k})(y),m=(function(D){function k(z){return D.call(this,z)||this}return w(k,D),Object.defineProperty(k.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),k})(y),b=(function(D){function k(z){return D.call(this,z)||this}return w(k,D),Object.defineProperty(k.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),k})(y)},function(Z,v,x){var G;(function(w){w.ERROR="error",w.LOADING_COMPLETE="loading_complete",w.RECOVERED_EARLY_EOF="recovered_early_eof",w.MEDIA_INFO="media_info",w.METADATA_ARRIVED="metadata_arrived",w.SCRIPTDATA_ARRIVED="scriptdata_arrived",w.TIMED_ID3_METADATA_ARRIVED="timed_id3_metadata_arrived",w.SYNCHRONOUS_KLV_METADATA_ARRIVED="synchronous_klv_metadata_arrived",w.ASYNCHRONOUS_KLV_METADATA_ARRIVED="asynchronous_klv_metadata_arrived",w.SMPTE2038_METADATA_ARRIVED="smpte2038_metadata_arrived",w.SCTE35_METADATA_ARRIVED="scte35_metadata_arrived",w.PES_PRIVATE_DATA_DESCRIPTOR="pes_private_data_descriptor",w.PES_PRIVATE_DATA_ARRIVED="pes_private_data_arrived",w.STATISTICS_INFO="statistics_info",w.DESTROYING="destroying"})(G||(G={})),v.a=G},function(Z,v,x){var G={};(function(){var w=self.navigator.userAgent.toLowerCase(),y=/(edge)\/([\w.]+)/.exec(w)||/(opr)[\/]([\w.]+)/.exec(w)||/(chrome)[ \/]([\w.]+)/.exec(w)||/(iemobile)[\/]([\w.]+)/.exec(w)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(w)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(w)||/(webkit)[ \/]([\w.]+)/.exec(w)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(w)||/(msie) ([\w.]+)/.exec(w)||w.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(w)||w.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(w)||[],g=/(ipad)/.exec(w)||/(ipod)/.exec(w)||/(windows phone)/.exec(w)||/(iphone)/.exec(w)||/(kindle)/.exec(w)||/(android)/.exec(w)||/(windows)/.exec(w)||/(mac)/.exec(w)||/(linux)/.exec(w)||/(cros)/.exec(w)||[],m={browser:y[5]||y[3]||y[1]||"",version:y[2]||y[4]||"0",majorVersion:y[4]||y[2]||"0",platform:g[0]||""},b={};if(m.browser){b[m.browser]=!0;var D=m.majorVersion.split(".");b.version={major:parseInt(m.majorVersion,10),string:m.version},D.length>1&&(b.version.minor=parseInt(D[1],10)),D.length>2&&(b.version.build=parseInt(D[2],10))}m.platform&&(b[m.platform]=!0),(b.chrome||b.opr||b.safari)&&(b.webkit=!0),(b.rv||b.iemobile)&&(b.rv&&delete b.rv,m.browser="msie",b.msie=!0),b.edge&&(delete b.edge,m.browser="msedge",b.msedge=!0),b.opr&&(m.browser="opera",b.opera=!0),b.safari&&b.android&&(m.browser="android",b.android=!0);for(var k in b.name=m.browser,b.platform=m.platform,G)G.hasOwnProperty(k)&&delete G[k];Object.assign(G,b)})(),v.a=G},function(Z,v,x){v.a={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"}},function(Z,v,x){var G;(function(w){w.ERROR="error",w.SOURCE_OPEN="source_open",w.UPDATE_END="update_end",w.BUFFER_FULL="buffer_full",w.START_STREAMING="start_streaming",w.END_STREAMING="end_streaming"})(G||(G={})),v.a=G},function(Z,v,x){var G=x(9),w=x.n(G),y=x(0),g=(function(){function m(){}return Object.defineProperty(m,"forceGlobalTag",{get:function(){return y.a.FORCE_GLOBAL_TAG},set:function(b){y.a.FORCE_GLOBAL_TAG=b,m._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(m,"globalTag",{get:function(){return y.a.GLOBAL_TAG},set:function(b){y.a.GLOBAL_TAG=b,m._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(m,"enableAll",{get:function(){return y.a.ENABLE_VERBOSE&&y.a.ENABLE_DEBUG&&y.a.ENABLE_INFO&&y.a.ENABLE_WARN&&y.a.ENABLE_ERROR},set:function(b){y.a.ENABLE_VERBOSE=b,y.a.ENABLE_DEBUG=b,y.a.ENABLE_INFO=b,y.a.ENABLE_WARN=b,y.a.ENABLE_ERROR=b,m._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(m,"enableDebug",{get:function(){return y.a.ENABLE_DEBUG},set:function(b){y.a.ENABLE_DEBUG=b,m._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(m,"enableVerbose",{get:function(){return y.a.ENABLE_VERBOSE},set:function(b){y.a.ENABLE_VERBOSE=b,m._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(m,"enableInfo",{get:function(){return y.a.ENABLE_INFO},set:function(b){y.a.ENABLE_INFO=b,m._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(m,"enableWarn",{get:function(){return y.a.ENABLE_WARN},set:function(b){y.a.ENABLE_WARN=b,m._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(m,"enableError",{get:function(){return y.a.ENABLE_ERROR},set:function(b){y.a.ENABLE_ERROR=b,m._notifyChange()},enumerable:!1,configurable:!0}),m.getConfig=function(){return{globalTag:y.a.GLOBAL_TAG,forceGlobalTag:y.a.FORCE_GLOBAL_TAG,enableVerbose:y.a.ENABLE_VERBOSE,enableDebug:y.a.ENABLE_DEBUG,enableInfo:y.a.ENABLE_INFO,enableWarn:y.a.ENABLE_WARN,enableError:y.a.ENABLE_ERROR,enableCallback:y.a.ENABLE_CALLBACK}},m.applyConfig=function(b){y.a.GLOBAL_TAG=b.globalTag,y.a.FORCE_GLOBAL_TAG=b.forceGlobalTag,y.a.ENABLE_VERBOSE=b.enableVerbose,y.a.ENABLE_DEBUG=b.enableDebug,y.a.ENABLE_INFO=b.enableInfo,y.a.ENABLE_WARN=b.enableWarn,y.a.ENABLE_ERROR=b.enableError,y.a.ENABLE_CALLBACK=b.enableCallback},m._notifyChange=function(){var b=m.emitter;if(b.listenerCount("change")>0){var D=m.getConfig();b.emit("change",D)}},m.registerListener=function(b){m.emitter.addListener("change",b)},m.removeListener=function(b){m.emitter.removeListener("change",b)},m.addLogListener=function(b){y.a.emitter.addListener("log",b),y.a.emitter.listenerCount("log")>0&&(y.a.ENABLE_CALLBACK=!0,m._notifyChange())},m.removeLogListener=function(b){y.a.emitter.removeListener("log",b),y.a.emitter.listenerCount("log")===0&&(y.a.ENABLE_CALLBACK=!1,m._notifyChange())},m})();g.emitter=new w.a,v.a=g},function(Z,v,x){var G,w=typeof Reflect=="object"?Reflect:null,y=w&&typeof w.apply=="function"?w.apply:function(P,te,re){return Function.prototype.apply.call(P,te,re)};G=w&&typeof w.ownKeys=="function"?w.ownKeys:Object.getOwnPropertySymbols?function(P){return Object.getOwnPropertyNames(P).concat(Object.getOwnPropertySymbols(P))}:function(P){return Object.getOwnPropertyNames(P)};var g=Number.isNaN||function(P){return P!=P};function m(){m.init.call(this)}Z.exports=m,Z.exports.once=function(P,te){return new Promise((function(re,Y){function R(A){P.removeListener(te,E),Y(A)}function E(){typeof P.removeListener=="function"&&P.removeListener("error",R),re([].slice.call(arguments))}le(P,te,E,{once:!0}),te!=="error"&&(function(A,U,oe){typeof A.on=="function"&&le(A,"error",U,oe)})(P,R,{once:!0})}))},m.EventEmitter=m,m.prototype._events=void 0,m.prototype._eventsCount=0,m.prototype._maxListeners=void 0;var b=10;function D(P){if(typeof P!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof P)}function k(P){return P._maxListeners===void 0?m.defaultMaxListeners:P._maxListeners}function z(P,te,re,Y){var R,E,A,U;if(D(re),(E=P._events)===void 0?(E=P._events=Object.create(null),P._eventsCount=0):(E.newListener!==void 0&&(P.emit("newListener",te,re.listener?re.listener:re),E=P._events),A=E[te]),A===void 0)A=E[te]=re,++P._eventsCount;else if(typeof A=="function"?A=E[te]=Y?[re,A]:[A,re]:Y?A.unshift(re):A.push(re),(R=k(P))>0&&A.length>R&&!A.warned){A.warned=!0;var oe=new Error("Possible EventEmitter memory leak detected. "+A.length+" "+String(te)+" listeners added. Use emitter.setMaxListeners() to increase limit");oe.name="MaxListenersExceededWarning",oe.emitter=P,oe.type=te,oe.count=A.length,U=oe,console&&console.warn&&console.warn(U)}return P}function C(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function I(P,te,re){var Y={fired:!1,wrapFn:void 0,target:P,type:te,listener:re},R=C.bind(Y);return R.listener=re,Y.wrapFn=R,R}function K(P,te,re){var Y=P._events;if(Y===void 0)return[];var R=Y[te];return R===void 0?[]:typeof R=="function"?re?[R.listener||R]:[R]:re?(function(E){for(var A=new Array(E.length),U=0;U<A.length;++U)A[U]=E[U].listener||E[U];return A})(R):F(R,R.length)}function J(P){var te=this._events;if(te!==void 0){var re=te[P];if(typeof re=="function")return 1;if(re!==void 0)return re.length}return 0}function F(P,te){for(var re=new Array(te),Y=0;Y<te;++Y)re[Y]=P[Y];return re}function le(P,te,re,Y){if(typeof P.on=="function")Y.once?P.once(te,re):P.on(te,re);else{if(typeof P.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof P);P.addEventListener(te,(function R(E){Y.once&&P.removeEventListener(te,R),re(E)}))}}Object.defineProperty(m,"defaultMaxListeners",{enumerable:!0,get:function(){return b},set:function(P){if(typeof P!="number"||P<0||g(P))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+P+".");b=P}}),m.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},m.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||g(P))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+P+".");return this._maxListeners=P,this},m.prototype.getMaxListeners=function(){return k(this)},m.prototype.emit=function(P){for(var te=[],re=1;re<arguments.length;re++)te.push(arguments[re]);var Y=P==="error",R=this._events;if(R!==void 0)Y=Y&&R.error===void 0;else if(!Y)return!1;if(Y){var E;if(te.length>0&&(E=te[0]),E instanceof Error)throw E;var A=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw A.context=E,A}var U=R[P];if(U===void 0)return!1;if(typeof U=="function")y(U,this,te);else{var oe=U.length,xe=F(U,oe);for(re=0;re<oe;++re)y(xe[re],this,te)}return!0},m.prototype.addListener=function(P,te){return z(this,P,te,!1)},m.prototype.on=m.prototype.addListener,m.prototype.prependListener=function(P,te){return z(this,P,te,!0)},m.prototype.once=function(P,te){return D(te),this.on(P,I(this,P,te)),this},m.prototype.prependOnceListener=function(P,te){return D(te),this.prependListener(P,I(this,P,te)),this},m.prototype.removeListener=function(P,te){var re,Y,R,E,A;if(D(te),(Y=this._events)===void 0)return this;if((re=Y[P])===void 0)return this;if(re===te||re.listener===te)--this._eventsCount==0?this._events=Object.create(null):(delete Y[P],Y.removeListener&&this.emit("removeListener",P,re.listener||te));else if(typeof re!="function"){for(R=-1,E=re.length-1;E>=0;E--)if(re[E]===te||re[E].listener===te){A=re[E].listener,R=E;break}if(R<0)return this;R===0?re.shift():(function(U,oe){for(;oe+1<U.length;oe++)U[oe]=U[oe+1];U.pop()})(re,R),re.length===1&&(Y[P]=re[0]),Y.removeListener!==void 0&&this.emit("removeListener",P,A||te)}return this},m.prototype.off=m.prototype.removeListener,m.prototype.removeAllListeners=function(P){var te,re,Y;if((re=this._events)===void 0)return this;if(re.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):re[P]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete re[P]),this;if(arguments.length===0){var R,E=Object.keys(re);for(Y=0;Y<E.length;++Y)(R=E[Y])!=="removeListener"&&this.removeAllListeners(R);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(te=re[P])=="function")this.removeListener(P,te);else if(te!==void 0)for(Y=te.length-1;Y>=0;Y--)this.removeListener(P,te[Y]);return this},m.prototype.listeners=function(P){return K(this,P,!0)},m.prototype.rawListeners=function(P){return K(this,P,!1)},m.listenerCount=function(P,te){return typeof P.listenerCount=="function"?P.listenerCount(te):J.call(P,te)},m.prototype.listenerCount=J,m.prototype.eventNames=function(){return this._eventsCount>0?G(this._events):[]}},function(Z,v,x){x.d(v,"b",(function(){return y})),x.d(v,"a",(function(){return g}));var G=x(2),w=x(6),y={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},g={NETWORK_EXCEPTION:G.b.EXCEPTION,NETWORK_STATUS_CODE_INVALID:G.b.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:G.b.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:G.b.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:w.a.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:w.a.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:w.a.CODEC_UNSUPPORTED}},function(Z,v,x){x.d(v,"d",(function(){return G})),x.d(v,"b",(function(){return w})),x.d(v,"a",(function(){return y})),x.d(v,"c",(function(){return g}));var G=function(m,b,D,k,z){this.dts=m,this.pts=b,this.duration=D,this.originalDts=k,this.isSyncPoint=z,this.fileposition=null},w=(function(){function m(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return m.prototype.appendSyncPoint=function(b){b.isSyncPoint=!0,this.syncPoints.push(b)},m})(),y=(function(){function m(){this._list=[]}return m.prototype.clear=function(){this._list=[]},m.prototype.appendArray=function(b){var D=this._list;b.length!==0&&(D.length>0&&b[0].originalDts<D[D.length-1].originalDts&&this.clear(),Array.prototype.push.apply(D,b))},m.prototype.getLastSyncPointBeforeDts=function(b){if(this._list.length==0)return null;var D=this._list,k=0,z=D.length-1,C=0,I=0,K=z;for(b<D[0].dts&&(k=0,I=K+1);I<=K;){if((C=I+Math.floor((K-I)/2))===z||b>=D[C].dts&&b<D[C+1].dts){k=C;break}D[C].dts<b?I=C+1:K=C-1}return this._list[k]},m})(),g=(function(){function m(b){this._type=b,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(m.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),m.prototype.isEmpty=function(){return this._list.length===0},m.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},m.prototype._searchNearestSegmentBefore=function(b){var D=this._list;if(D.length===0)return-2;var k=D.length-1,z=0,C=0,I=k,K=0;if(b<D[0].originalBeginDts)return K=-1;for(;C<=I;){if((z=C+Math.floor((I-C)/2))===k||b>D[z].lastSample.originalDts&&b<D[z+1].originalBeginDts){K=z;break}D[z].originalBeginDts<b?C=z+1:I=z-1}return K},m.prototype._searchNearestSegmentAfter=function(b){return this._searchNearestSegmentBefore(b)+1},m.prototype.append=function(b){var D=this._list,k=b,z=this._lastAppendLocation,C=0;z!==-1&&z<D.length&&k.originalBeginDts>=D[z].lastSample.originalDts&&(z===D.length-1||z<D.length-1&&k.originalBeginDts<D[z+1].originalBeginDts)?C=z+1:D.length>0&&(C=this._searchNearestSegmentBefore(k.originalBeginDts)+1),this._lastAppendLocation=C,this._list.splice(C,0,k)},m.prototype.getLastSegmentBefore=function(b){var D=this._searchNearestSegmentBefore(b);return D>=0?this._list[D]:null},m.prototype.getLastSampleBefore=function(b){var D=this.getLastSegmentBefore(b);return D!=null?D.lastSample:null},m.prototype.getLastSyncPointBefore=function(b){for(var D=this._searchNearestSegmentBefore(b),k=this._list[D].syncPoints;k.length===0&&D>0;)D--,k=this._list[D].syncPoints;return k.length>0?k[k.length-1]:null},m})()},function(Z,v,x){var G=(function(){function w(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return w.prototype.isComplete=function(){var y=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,g=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&y&&g},w.prototype.isSeekable=function(){return this.hasKeyframesIndex===!0},w.prototype.getNearestKeyframe=function(y){if(this.keyframesIndex==null)return null;var g=this.keyframesIndex,m=this._search(g.times,y);return{index:m,milliseconds:g.times[m],fileposition:g.filepositions[m]}},w.prototype._search=function(y,g){var m=0,b=y.length-1,D=0,k=0,z=b;for(g<y[0]&&(m=0,k=z+1);k<=z;){if((D=k+Math.floor((z-k)/2))===b||g>=y[D]&&g<y[D+1]){m=D;break}y[D]<g?k=D+1:z=D-1}return m},w})();v.a=G},function(Z,v,x){var G=x(9),w=x.n(G),y=x(0),g=x(5),m=x(12);function b(u,l,s){var r=u;if(l+s<r.length){for(;s--;)if((192&r[++l])!=128)return!1;return!0}return!1}var D,k=function(u){for(var l=[],s=u,r=0,c=u.length;r<c;)if(s[r]<128)l.push(String.fromCharCode(s[r])),++r;else{if(!(s[r]<192)){if(s[r]<224){if(b(s,r,1)&&(h=(31&s[r])<<6|63&s[r+1])>=128){l.push(String.fromCharCode(65535&h)),r+=2;continue}}else if(s[r]<240){if(b(s,r,2)&&(h=(15&s[r])<<12|(63&s[r+1])<<6|63&s[r+2])>=2048&&(63488&h)!=55296){l.push(String.fromCharCode(65535&h)),r+=3;continue}}else if(s[r]<248){var h;if(b(s,r,3)&&(h=(7&s[r])<<18|(63&s[r+1])<<12|(63&s[r+2])<<6|63&s[r+3])>65536&&h<1114112){h-=65536,l.push(String.fromCharCode(h>>>10|55296)),l.push(String.fromCharCode(1023&h|56320)),r+=4;continue}}}l.push("�"),++r}return l.join("")},z=x(3),C=(D=new ArrayBuffer(2),new DataView(D).setInt16(0,256,!0),new Int16Array(D)[0]===256),I=(function(){function u(){}return u.parseScriptData=function(l,s,r){var c={};try{var h=u.parseValue(l,s,r),f=u.parseValue(l,s+h.size,r-h.size);c[h.data]=f.data}catch(p){y.a.e("AMF",p.toString())}return c},u.parseObject=function(l,s,r){if(r<3)throw new z.a("Data not enough when parse ScriptDataObject");var c=u.parseString(l,s,r),h=u.parseValue(l,s+c.size,r-c.size),f=h.objectEnd;return{data:{name:c.data,value:h.data},size:c.size+h.size,objectEnd:f}},u.parseVariable=function(l,s,r){return u.parseObject(l,s,r)},u.parseString=function(l,s,r){if(r<2)throw new z.a("Data not enough when parse String");var c=new DataView(l,s,r).getUint16(0,!C);return{data:c>0?k(new Uint8Array(l,s+2,c)):"",size:2+c}},u.parseLongString=function(l,s,r){if(r<4)throw new z.a("Data not enough when parse LongString");var c=new DataView(l,s,r).getUint32(0,!C);return{data:c>0?k(new Uint8Array(l,s+4,c)):"",size:4+c}},u.parseDate=function(l,s,r){if(r<10)throw new z.a("Data size invalid when parse Date");var c=new DataView(l,s,r),h=c.getFloat64(0,!C),f=c.getInt16(8,!C);return{data:new Date(h+=60*f*1e3),size:10}},u.parseValue=function(l,s,r){if(r<1)throw new z.a("Data not enough when parse Value");var c,h=new DataView(l,s,r),f=1,p=h.getUint8(0),B=!1;try{switch(p){case 0:c=h.getFloat64(1,!C),f+=8;break;case 1:c=!!h.getUint8(1),f+=1;break;case 2:var L=u.parseString(l,s+1,r-1);c=L.data,f+=L.size;break;case 3:c={};var j=0;for((16777215&h.getUint32(r-4,!C))==9&&(j=3);f<r-4;){var q=u.parseObject(l,s+f,r-f-j);if(q.objectEnd)break;c[q.data.name]=q.data.value,f+=q.size}f<=r-3&&(16777215&h.getUint32(f-1,!C))===9&&(f+=3);break;case 8:for(c={},f+=4,j=0,(16777215&h.getUint32(r-4,!C))==9&&(j=3);f<r-8;){var H=u.parseVariable(l,s+f,r-f-j);if(H.objectEnd)break;c[H.data.name]=H.data.value,f+=H.size}f<=r-3&&(16777215&h.getUint32(f-1,!C))===9&&(f+=3);break;case 9:c=void 0,f=1,B=!0;break;case 10:c=[];var Q=h.getUint32(1,!C);f+=4;for(var ue=0;ue<Q;ue++){var Ae=u.parseValue(l,s+f,r-f);c.push(Ae.data),f+=Ae.size}break;case 11:var fe=u.parseDate(l,s+1,r-1);c=fe.data,f+=fe.size;break;case 12:var De=u.parseString(l,s+1,r-1);c=De.data,f+=De.size;break;default:f=r,y.a.w("AMF","Unsupported AMF value type "+p)}}catch(Te){y.a.e("AMF",Te.toString())}return{data:c,size:f,objectEnd:B}},u})(),K=(function(){function u(l){this.TAG="ExpGolomb",this._buffer=l,this._buffer_index=0,this._total_bytes=l.byteLength,this._total_bits=8*l.byteLength,this._current_word=0,this._current_word_bits_left=0}return u.prototype.destroy=function(){this._buffer=null},u.prototype._fillCurrentWord=function(){var l=this._total_bytes-this._buffer_index;if(l<=0)throw new z.a("ExpGolomb: _fillCurrentWord() but no bytes available");var s=Math.min(4,l),r=new Uint8Array(4);r.set(this._buffer.subarray(this._buffer_index,this._buffer_index+s)),this._current_word=new DataView(r.buffer).getUint32(0,!1),this._buffer_index+=s,this._current_word_bits_left=8*s},u.prototype.readBits=function(l){if(l>32)throw new z.b("ExpGolomb: readBits() bits exceeded max 32bits!");if(l<=this._current_word_bits_left){var s=this._current_word>>>32-l;return this._current_word<<=l,this._current_word_bits_left-=l,s}var r=this._current_word_bits_left?this._current_word:0;r>>>=32-this._current_word_bits_left;var c=l-this._current_word_bits_left;this._fillCurrentWord();var h=Math.min(c,this._current_word_bits_left),f=this._current_word>>>32-h;return this._current_word<<=h,this._current_word_bits_left-=h,r=r<<h|f},u.prototype.readBool=function(){return this.readBits(1)===1},u.prototype.readByte=function(){return this.readBits(8)},u.prototype._skipLeadingZero=function(){var l;for(l=0;l<this._current_word_bits_left;l++)if((this._current_word&2147483648>>>l)!=0)return this._current_word<<=l,this._current_word_bits_left-=l,l;return this._fillCurrentWord(),l+this._skipLeadingZero()},u.prototype.readUEG=function(){var l=this._skipLeadingZero();return this.readBits(l+1)-1},u.prototype.readSEG=function(){var l=this.readUEG();return 1&l?l+1>>>1:-1*(l>>>1)},u})(),J=(function(){function u(){}return u._ebsp2rbsp=function(l){for(var s=l,r=s.byteLength,c=new Uint8Array(r),h=0,f=0;f<r;f++)f>=2&&s[f]===3&&s[f-1]===0&&s[f-2]===0||(c[h]=s[f],h++);return new Uint8Array(c.buffer,0,h)},u.parseSPS=function(l){for(var s=l.subarray(1,4),r="avc1.",c=0;c<3;c++){var h=s[c].toString(16);h.length<2&&(h="0"+h),r+=h}var f=u._ebsp2rbsp(l),p=new K(f);p.readByte();var B=p.readByte();p.readByte();var L=p.readByte();p.readUEG();var j=u.getProfileString(B),q=u.getLevelString(L),H=1,Q=420,ue=8,Ae=8;if((B===100||B===110||B===122||B===244||B===44||B===83||B===86||B===118||B===128||B===138||B===144)&&((H=p.readUEG())===3&&p.readBits(1),H<=3&&(Q=[0,420,422,444][H]),ue=p.readUEG()+8,Ae=p.readUEG()+8,p.readBits(1),p.readBool()))for(var fe=H!==3?8:12,De=0;De<fe;De++)p.readBool()&&(De<6?u._skipScalingList(p,16):u._skipScalingList(p,64));p.readUEG();var Te=p.readUEG();if(Te===0)p.readUEG();else if(Te===1){p.readBits(1),p.readSEG(),p.readSEG();var Re=p.readUEG();for(De=0;De<Re;De++)p.readSEG()}var ze=p.readUEG();p.readBits(1);var He=p.readUEG(),Ce=p.readUEG(),ke=p.readBits(1);ke===0&&p.readBits(1),p.readBits(1);var Fe=0,je=0,Ue=0,Je=0;p.readBool()&&(Fe=p.readUEG(),je=p.readUEG(),Ue=p.readUEG(),Je=p.readUEG());var rt=1,Ge=1,Ke=0,it=!0,St=0,mt=0;if(p.readBool()){if(p.readBool()){var Dt=p.readByte();Dt>0&&Dt<16?(rt=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][Dt-1],Ge=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][Dt-1]):Dt===255&&(rt=p.readByte()<<8|p.readByte(),Ge=p.readByte()<<8|p.readByte())}if(p.readBool()&&p.readBool(),p.readBool()&&(p.readBits(4),p.readBool()&&p.readBits(24)),p.readBool()&&(p.readUEG(),p.readUEG()),p.readBool()){var qt=p.readBits(32),Bt=p.readBits(32);it=p.readBool(),Ke=(St=Bt)/(mt=2*qt)}}var yt=1;rt===1&&Ge===1||(yt=rt/Ge);var Nt=0,tt=0;H===0?(Nt=1,tt=2-ke):(Nt=H===3?1:2,tt=(H===1?2:1)*(2-ke));var Yt=16*(He+1),ba=16*(Ce+1)*(2-ke);Yt-=(Fe+je)*Nt,ba-=(Ue+Je)*tt;var Ai=Math.ceil(Yt*yt);return p.destroy(),p=null,{codec_mimetype:r,profile_idc:B,level_idc:L,profile_string:j,level_string:q,chroma_format_idc:H,bit_depth:ue,bit_depth_luma:ue,bit_depth_chroma:Ae,ref_frames:ze,chroma_format:Q,chroma_format_string:u.getChromaFormatString(Q),frame_rate:{fixed:it,fps:Ke,fps_den:mt,fps_num:St},sar_ratio:{width:rt,height:Ge},codec_size:{width:Yt,height:ba},present_size:{width:Ai,height:ba}}},u._skipScalingList=function(l,s){for(var r=8,c=8,h=0;h<s;h++)c!==0&&(c=(r+l.readSEG()+256)%256),r=c===0?r:c},u.getProfileString=function(l){switch(l){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},u.getLevelString=function(l){return(l/10).toFixed(1)},u.getChromaFormatString=function(l){switch(l){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},u})(),F=x(6),le=(function(){function u(){}return u._ebsp2rbsp=function(l){for(var s=l,r=s.byteLength,c=new Uint8Array(r),h=0,f=0;f<r;f++)f>=2&&s[f]===3&&s[f-1]===0&&s[f-2]===0||(c[h]=s[f],h++);return new Uint8Array(c.buffer,0,h)},u.parseVPS=function(l){var s=u._ebsp2rbsp(l),r=new K(s);return r.readByte(),r.readByte(),r.readBits(4),r.readBits(2),r.readBits(6),{num_temporal_layers:r.readBits(3)+1,temporal_id_nested:r.readBool()}},u.parseSPS=function(l){var s=u._ebsp2rbsp(l),r=new K(s);r.readByte(),r.readByte();for(var c=0,h=0,f=0,p=0,B=(r.readBits(4),r.readBits(3)),L=(r.readBool(),r.readBits(2)),j=r.readBool(),q=r.readBits(5),H=r.readByte(),Q=r.readByte(),ue=r.readByte(),Ae=r.readByte(),fe=r.readByte(),De=r.readByte(),Te=r.readByte(),Re=r.readByte(),ze=r.readByte(),He=r.readByte(),Ce=r.readByte(),ke=[],Fe=[],je=0;je<B;je++)ke.push(r.readBool()),Fe.push(r.readBool());if(B>0)for(je=B;je<8;je++)r.readBits(2);for(je=0;je<B;je++)ke[je]&&(r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte(),r.readByte()),Fe[je]&&r.readByte();r.readUEG();var Ue=r.readUEG();Ue==3&&r.readBits(1);var Je=r.readUEG(),rt=r.readUEG();r.readBool()&&(c+=r.readUEG(),h+=r.readUEG(),f+=r.readUEG(),p+=r.readUEG());var Ge=r.readUEG(),Ke=r.readUEG(),it=r.readUEG();for(je=r.readBool()?0:B;je<=B;je++)r.readUEG(),r.readUEG(),r.readUEG();if(r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG(),r.readBool()&&r.readBool())for(var St=0;St<4;St++)for(var mt=0;mt<(St===3?2:6);mt++)if(r.readBool()){var Dt=Math.min(64,1<<4+(St<<1));for(St>1&&r.readSEG(),je=0;je<Dt;je++)r.readSEG()}else r.readUEG();r.readBool(),r.readBool(),r.readBool()&&(r.readByte(),r.readUEG(),r.readUEG(),r.readBool());var qt=r.readUEG(),Bt=0;for(je=0;je<qt;je++){var yt=!1;if(je!==0&&(yt=r.readBool()),yt){je===qt&&r.readUEG(),r.readBool(),r.readUEG();for(var Nt=0,tt=0;tt<=Bt;tt++){var Yt=r.readBool(),ba=!1;Yt||(ba=r.readBool()),(Yt||ba)&&Nt++}Bt=Nt}else{var Ai=r.readUEG(),Nn=r.readUEG();for(Bt=Ai+Nn,tt=0;tt<Ai;tt++)r.readUEG(),r.readBool();for(tt=0;tt<Nn;tt++)r.readUEG(),r.readBool()}}if(r.readBool()){var zn=r.readUEG();for(je=0;je<zn;je++){for(tt=0;tt<it+4;tt++)r.readBits(1);r.readBits(1)}}var zr=0,xi=1,Ra=1,en=!1,Ri=1,Ta=1;if(r.readBool(),r.readBool(),r.readBool()){if(r.readBool()){var ca=r.readByte();ca>0&&ca<=16?(xi=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][ca-1],Ra=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][ca-1]):ca===255&&(xi=r.readBits(16),Ra=r.readBits(16))}if(r.readBool()&&r.readBool(),r.readBool()&&(r.readBits(3),r.readBool(),r.readBool()&&(r.readByte(),r.readByte(),r.readByte())),r.readBool()&&(r.readUEG(),r.readUEG()),r.readBool(),r.readBool(),r.readBool(),r.readBool()&&(r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG()),r.readBool()&&(Ri=r.readBits(32),Ta=r.readBits(32),r.readBool()&&r.readUEG(),r.readBool())){var tn=!1,Ti=!1,Mi=!1;for(tn=r.readBool(),Ti=r.readBool(),(tn||Ti)&&((Mi=r.readBool())&&(r.readByte(),r.readBits(5),r.readBool(),r.readBits(5)),r.readBits(4),r.readBits(4),Mi&&r.readBits(4),r.readBits(5),r.readBits(5),r.readBits(5)),je=0;je<=B;je++){var Qa=r.readBool();en=Qa;var da=!0,Ci=1;Qa||(da=r.readBool());var Za=!1;if(da?r.readUEG():Za=r.readBool(),Za||(Ci=r.readUEG()+1),tn){for(tt=0;tt<Ci;tt++)r.readUEG(),r.readUEG(),Mi&&(r.readUEG(),r.readUEG());r.readBool()}if(Ti){for(tt=0;tt<Ci;tt++)r.readUEG(),r.readUEG(),Mi&&(r.readUEG(),r.readUEG());r.readBool()}}}r.readBool()&&(r.readBool(),r.readBool(),r.readBool(),zr=r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG(),r.readUEG())}r.readBool();var Ma="hvc1.".concat(q,".1.L").concat(Ce,".B0"),an=Je-(c+h)*(Ue===1||Ue===2?2:1),Di=rt-(f+p)*(Ue===1?2:1),jn=1;return xi!==1&&Ra!==1&&(jn=xi/Ra),r.destroy(),r=null,{codec_mimetype:Ma,profile_string:u.getProfileString(q),level_string:u.getLevelString(Ce),profile_idc:q,bit_depth:Ge+8,ref_frames:1,chroma_format:Ue,chroma_format_string:u.getChromaFormatString(Ue),general_level_idc:Ce,general_profile_space:L,general_tier_flag:j,general_profile_idc:q,general_profile_compatibility_flags_1:H,general_profile_compatibility_flags_2:Q,general_profile_compatibility_flags_3:ue,general_profile_compatibility_flags_4:Ae,general_constraint_indicator_flags_1:fe,general_constraint_indicator_flags_2:De,general_constraint_indicator_flags_3:Te,general_constraint_indicator_flags_4:Re,general_constraint_indicator_flags_5:ze,general_constraint_indicator_flags_6:He,min_spatial_segmentation_idc:zr,constant_frame_rate:0,chroma_format_idc:Ue,bit_depth_luma_minus8:Ge,bit_depth_chroma_minus8:Ke,frame_rate:{fixed:en,fps:Ta/Ri,fps_den:Ri,fps_num:Ta},sar_ratio:{width:xi,height:Ra},codec_size:{width:an,height:Di},present_size:{width:an*jn,height:Di}}},u.parsePPS=function(l){var s=u._ebsp2rbsp(l),r=new K(s);r.readByte(),r.readByte(),r.readUEG(),r.readUEG(),r.readBool(),r.readBool(),r.readBits(3),r.readBool(),r.readBool(),r.readUEG(),r.readUEG(),r.readSEG(),r.readBool(),r.readBool(),r.readBool()&&r.readUEG(),r.readSEG(),r.readSEG(),r.readBool(),r.readBool(),r.readBool(),r.readBool();var c=r.readBool(),h=r.readBool(),f=1;return h&&c?f=0:h?f=3:c&&(f=2),{parallelismType:f}},u.getChromaFormatString=function(l){switch(l){case 0:return"4:0:0";case 1:return"4:2:0";case 2:return"4:2:2";case 3:return"4:4:4";default:return"Unknown"}},u.getProfileString=function(l){switch(l){case 1:return"Main";case 2:return"Main10";case 3:return"MainSP";case 4:return"Rext";case 9:return"SCC";default:return"Unknown"}},u.getLevelString=function(l){return(l/30).toFixed(1)},u})();function P(u){return u.byteOffset%2==0&&u.byteLength%2==0}function te(u){return u.byteOffset%4==0&&u.byteLength%4==0}function re(u,l){for(var s=0;s<u.length;s++)if(u[s]!==l[s])return!1;return!0}var Y=function(u,l){return u.byteLength===l.byteLength&&(te(u)&&te(l)?(function(s,r){return re(new Uint32Array(s.buffer,s.byteOffset,s.byteLength/4),new Uint32Array(r.buffer,r.byteOffset,r.byteLength/4))})(u,l):P(u)&&P(l)?(function(s,r){return re(new Uint16Array(s.buffer,s.byteOffset,s.byteLength/2),new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2))})(u,l):(function(s,r){return re(s,r)})(u,l))},R=function(){return(R=Object.assign||function(u){for(var l,s=1,r=arguments.length;s<r;s++)for(var c in l=arguments[s])Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c]);return u}).apply(this,arguments)},E=(function(){function u(){}return u.parseOBUs=function(l,s){for(var r=0;r<l.byteLength;){var c=r,h=(l[r],(120&l[r])>>3),f=(4&l[r])!=0,p=(2&l[r])!=0;l[r],r+=1,f&&(r+=1);var B=Number.POSITIVE_INFINITY;if(p){B=0;for(var L=0;;L++){var j=l[r++];if(B|=(127&j)<<7*L,(128&j)==0)break}}console.log(h),h===1?s=R(R({},u.parseSeuqneceHeader(l.subarray(r,r+B))),{sequence_header_data:l.subarray(c,r+B)}):(h==3&&s||h==6&&s)&&(s=u.parseOBUFrameHeader(l.subarray(r,r+B),0,0,s)),r+=B}return s},u.parseSeuqneceHeader=function(l){var s=new K(l),r=s.readBits(3),c=(s.readBool(),s.readBool()),h=!0,f=0,p=1,B=void 0,L=[];if(c)L.push({operating_point_idc:0,level:s.readBits(5),tier:0});else{if(s.readBool()){var j=s.readBits(32),q=s.readBits(32),H=s.readBool();if(H){for(var Q=0;s.readBits(1)===0;)Q+=1;Q>=32||(1<<Q)-1+s.readBits(Q)}(f=q)/(p=j),h=H,s.readBool()&&(s.readBits(5),s.readBits(32),B=s.readBits(5),s.readBits(5))}for(var ue=s.readBool(),Ae=s.readBits(5),fe=0;fe<=Ae;fe++){var De=s.readBits(12),Te=s.readBits(5),Re=Te>7?s.readBits(1):0;L.push({operating_point_idc:De,level:Te,tier:Re}),ue&&s.readBool()&&s.readBits(4)}}var ze=L[0],He=ze.level,Ce=ze.tier,ke=s.readBits(4),Fe=s.readBits(4),je=s.readBits(ke+1)+1,Ue=s.readBits(Fe+1)+1,Je=!1;c||(Je=s.readBool()),Je&&(s.readBits(4),s.readBits(4)),s.readBool(),s.readBool(),s.readBool();var rt=!1,Ge=2,Ke=2,it=0;c||(s.readBool(),s.readBool(),s.readBool(),s.readBool(),(rt=s.readBool())&&(s.readBool(),s.readBool()),(Ge=s.readBool()?2:s.readBits(1))?Ke=s.readBool()?2:s.readBits(1):Ke=2,rt?it=s.readBits(3)+1:it=0);var St=s.readBool(),mt=(s.readBool(),s.readBool(),s.readBool()),Dt=8;r===2&&mt?Dt=s.readBool()?12:10:Dt=mt?10:8;var qt=!1;r!==1&&(qt=s.readBool()),s.readBool()&&(s.readBits(8),s.readBits(8),s.readBits(8));var Bt=1,yt=1;return qt?(s.readBits(1),Bt=1,yt=1):(s.readBits(1),r==0?(Bt=1,yt=1):r==1?(Bt=0,yt=0):Dt==12?s.readBits(1)&&s.readBits(1):(Bt=1,yt=0),Bt&&yt&&s.readBits(2),s.readBits(1)),s.readBool(),s.destroy(),s=null,{codec_mimetype:"av01.".concat(r,".").concat(u.getLevelString(He,Ce),".").concat(Dt.toString(10).padStart(2,"0")),level:He,tier:Ce,level_string:u.getLevelString(He,Ce),profile_idc:r,profile_string:"".concat(r),bit_depth:Dt,ref_frames:1,chroma_format:u.getChromaFormat(qt,Bt,yt),chroma_format_string:u.getChromaFormatString(qt,Bt,yt),sequence_header:{frame_id_numbers_present_flag:Je,additional_frame_id_length_minus_1:void 0,delta_frame_id_length_minus_2:void 0,reduced_still_picture_header:c,decoder_model_info_present_flag:!1,operating_points:L,buffer_removal_time_length_minus_1:B,equal_picture_interval:h,seq_force_screen_content_tools:Ge,seq_force_integer_mv:Ke,enable_order_hint:rt,order_hint_bits:it,enable_superres:St,frame_width_bit:ke+1,frame_height_bit:Fe+1,max_frame_width:je,max_frame_height:Ue},keyframe:void 0,frame_rate:{fixed:h,fps:f/p,fps_den:p,fps_num:f}}},u.parseOBUFrameHeader=function(l,s,r,c){var h=c.sequence_header,f=new K(l),p=(h.max_frame_width,h.max_frame_height,0);h.frame_id_numbers_present_flag&&(p=h.additional_frame_id_length_minus_1+h.delta_frame_id_length_minus_2+3);var B=0,L=!0,j=!0,q=!1;if(!h.reduced_still_picture_header){if(f.readBool())return c;L=(B=f.readBits(2))===2||B===0,(j=f.readBool())&&h.decoder_model_info_present_flag&&h.equal_picture_interval,j&&f.readBool(),q=!!(B===3||B===0&&j)||f.readBool()}c.keyframe=L,f.readBool();var H=h.seq_force_screen_content_tools;h.seq_force_screen_content_tools===2&&(H=f.readBits(1)),H&&(h.seq_force_integer_mv,h.seq_force_integer_mv==2&&f.readBits(1)),h.frame_id_numbers_present_flag&&f.readBits(p);var Q=!1;if(Q=B==3||!h.reduced_still_picture_header&&f.readBool(),f.readBits(h.order_hint_bits),L||q||f.readBits(3),h.decoder_model_info_present_flag&&f.readBool()){for(var ue=0;ue<=h.operating_points_cnt_minus_1;ue++)if(h.operating_points[ue].decoder_model_present_for_this_op[ue]){var Ae=h.operating_points[ue].operating_point_idc;(Ae===0||Ae>>s&1&&Ae>>r+8&1)&&f.readBits(h.buffer_removal_time_length_minus_1+1)}}var fe=255;if(B===3||B==0&&j||(fe=f.readBits(8)),(L||fe!==255)&&q&&h.enable_order_hint)for(var De=0;De<8;De++)f.readBits(h.order_hint_bits);if(L){var Te=u.frameSizeAndRenderSize(f,Q,h);c.codec_size={width:Te.FrameWidth,height:Te.FrameHeight},c.present_size={width:Te.RenderWidth,height:Te.RenderHeight},c.sar_ratio={width:Te.RenderWidth/Te.FrameWidth,height:Te.RenderHeight/Te.FrameHeight}}return f.destroy(),f=null,c},u.frameSizeAndRenderSize=function(l,s,r){var c=r.max_frame_width,h=r.max_frame_height;s&&(c=l.readBits(r.frame_width_bit)+1,h=l.readBits(r.frame_height_bit)+1);var f=!1;r.enable_superres&&(f=l.readBool());var p=8;f&&(p=l.readBits(3)+9);var B=c;c=Math.floor((8*B+p/2)/p);var L=B,j=h;if(l.readBool()){var q=l.readBits(16)+1,H=l.readBits(16)+1;L=l.readBits(q)+1,j=l.readBits(H)+1}return{UpscaledWidth:B,FrameWidth:c,FrameHeight:h,RenderWidth:L,RenderHeight:j}},u.getLevelString=function(l,s){return"".concat(l.toString(10).padStart(2,"0")).concat(s===0?"M":"H")},u.getChromaFormat=function(l,s,r){return l?0:s===0&&r===0?3:s===1&&r===0?2:s===1&&r===1?1:Number.NaN},u.getChromaFormatString=function(l,s,r){return l?"4:0:0":s===0&&r===0?"4:4:4":s===1&&r===0?"4:2:2":s===1&&r===1?"4:2:0":"Unknown"},u})(),A,U=(function(){function u(l,s){this.TAG="FLVDemuxer",this._config=s,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=l.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=l.hasAudioTrack,this._hasVideo=l.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new m.a,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=(function(){var r=new ArrayBuffer(2);return new DataView(r).setInt16(0,256,!0),new Int16Array(r)[0]===256})()}return u.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},u.probe=function(l){var s=new Uint8Array(l);if(s.byteLength<9)return{needMoreData:!0};var r={match:!1};if(s[0]!==70||s[1]!==76||s[2]!==86||s[3]!==1)return r;var c,h,f=(4&s[4])>>>2!=0,p=(1&s[4])!=0,B=(c=s)[h=5]<<24|c[h+1]<<16|c[h+2]<<8|c[h+3];return B<9?r:{match:!0,consumed:B,dataOffset:B,hasAudioTrack:f,hasVideoTrack:p}},u.prototype.bindDataSource=function(l){return l.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(u.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(l){this._onTrackMetadata=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(l){this._onMediaInfo=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(l){this._onMetaDataArrived=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(l){this._onScriptDataArrived=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"onError",{get:function(){return this._onError},set:function(l){this._onError=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(l){this._onDataAvailable=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(l){this._timestampBase=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"overridedDuration",{get:function(){return this._duration},set:function(l){this._durationOverrided=!0,this._duration=l,this._mediaInfo.duration=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"overridedHasAudio",{set:function(l){this._hasAudioFlagOverrided=!0,this._hasAudio=l,this._mediaInfo.hasAudio=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"overridedHasVideo",{set:function(l){this._hasVideoFlagOverrided=!0,this._hasVideo=l,this._mediaInfo.hasVideo=l},enumerable:!1,configurable:!0}),u.prototype.resetMediaInfo=function(){this._mediaInfo=new m.a},u.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched},u.prototype.parseChunks=function(l,s){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new z.a("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var r=0,c=this._littleEndian;if(s===0){if(!(l.byteLength>13))return 0;r=u.probe(l).dataOffset}for(this._firstParse&&(this._firstParse=!1,s+r!==this._dataOffset&&y.a.w(this.TAG,"First time parsing but chunk byteStart invalid!"),(h=new DataView(l,r)).getUint32(0,!c)!==0&&y.a.w(this.TAG,"PrevTagSize0 !== 0 !!!"),r+=4);r<l.byteLength;){this._dispatch=!0;var h=new DataView(l,r);if(r+11+4>l.byteLength)break;var f=h.getUint8(0),p=16777215&h.getUint32(0,!c);if(r+11+p+4>l.byteLength)break;if(f===8||f===9||f===18){var B=h.getUint8(4),L=h.getUint8(5),j=h.getUint8(6)|L<<8|B<<16|h.getUint8(7)<<24;(16777215&h.getUint32(7,!c))!==0&&y.a.w(this.TAG,"Meet tag which has StreamID != 0!");var q=r+11;switch(f){case 8:this._parseAudioData(l,q,p,j);break;case 9:this._parseVideoData(l,q,p,j,s+r);break;case 18:this._parseScriptData(l,q,p)}var H=h.getUint32(11+p,!c);H!==11+p&&y.a.w(this.TAG,"Invalid PrevTagSize ".concat(H)),r+=11+p+4}else y.a.w(this.TAG,"Unsupported tag type ".concat(f,", skipped")),r+=11+p+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),r},u.prototype._parseScriptData=function(l,s,r){var c=I.parseScriptData(l,s,r);if(c.hasOwnProperty("onMetaData")){if(c.onMetaData==null||typeof c.onMetaData!="object")return void y.a.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&y.a.w(this.TAG,"Found another onMetaData tag!"),this._metadata=c;var h=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},h)),typeof h.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=h.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof h.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=h.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof h.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=h.audiodatarate),typeof h.videodatarate=="number"&&(this._mediaInfo.videoDataRate=h.videodatarate),typeof h.width=="number"&&(this._mediaInfo.width=h.width),typeof h.height=="number"&&(this._mediaInfo.height=h.height),typeof h.duration=="number"){if(!this._durationOverrided){var f=Math.floor(h.duration*this._timescale);this._duration=f,this._mediaInfo.duration=f}}else this._mediaInfo.duration=0;if(typeof h.framerate=="number"){var p=Math.floor(1e3*h.framerate);if(p>0){var B=p/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=B,this._referenceFrameRate.fps_num=p,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=B}}if(typeof h.keyframes=="object"){this._mediaInfo.hasKeyframesIndex=!0;var L=h.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(L),h.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=h,y.a.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(c).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},c))},u.prototype._parseKeyframesIndex=function(l){for(var s=[],r=[],c=1;c<l.times.length;c++){var h=this._timestampBase+Math.floor(1e3*l.times[c]);s.push(h),r.push(l.filepositions[c])}return{times:s,filepositions:r}},u.prototype._parseAudioData=function(l,s,r,c){if(r<=1)y.a.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");else if(this._hasAudioFlagOverrided!==!0||this._hasAudio!==!1){this._littleEndian;var h=new DataView(l,s,r).getUint8(0),f=h>>>4;if(f!==9)if(f===2||f===10){var p=0,B=(12&h)>>>2;if(B>=0&&B<=4){p=this._flvSoundRateTable[B];var L=1&h,j=this._audioMetadata,q=this._audioTrack;if(j||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(j=this._audioMetadata={}).type="audio",j.id=q.id,j.timescale=this._timescale,j.duration=this._duration,j.audioSampleRate=p,j.channelCount=L===0?1:2),f===10){var H=this._parseAACAudioData(l,s+1,r-1);if(H==null)return;if(H.packetType===0){if(j.config){if(Y(H.data.config,j.config))return;y.a.w(this.TAG,"AudioSpecificConfig has been changed, re-generate initialization segment")}var Q=H.data;j.audioSampleRate=Q.samplingRate,j.channelCount=Q.channelCount,j.codec=Q.codec,j.originalCodec=Q.originalCodec,j.config=Q.config,j.refSampleDuration=1024/j.audioSampleRate*j.timescale,y.a.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",j),(fe=this._mediaInfo).audioCodec=j.originalCodec,fe.audioSampleRate=j.audioSampleRate,fe.audioChannelCount=j.channelCount,fe.hasVideo?fe.videoCodec!=null&&(fe.mimeType='video/x-flv; codecs="'+fe.videoCodec+","+fe.audioCodec+'"'):fe.mimeType='video/x-flv; codecs="'+fe.audioCodec+'"',fe.isComplete()&&this._onMediaInfo(fe)}else if(H.packetType===1){var ue=this._timestampBase+c,Ae={unit:H.data,length:H.data.byteLength,dts:ue,pts:ue};q.samples.push(Ae),q.length+=H.data.length}else y.a.e(this.TAG,"Flv: Unsupported AAC data type ".concat(H.packetType))}else if(f===2){if(!j.codec){var fe;if((Q=this._parseMP3AudioData(l,s+1,r-1,!0))==null)return;j.audioSampleRate=Q.samplingRate,j.channelCount=Q.channelCount,j.codec=Q.codec,j.originalCodec=Q.originalCodec,j.refSampleDuration=1152/j.audioSampleRate*j.timescale,y.a.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",j),(fe=this._mediaInfo).audioCodec=j.codec,fe.audioSampleRate=j.audioSampleRate,fe.audioChannelCount=j.channelCount,fe.audioDataRate=Q.bitRate,fe.hasVideo?fe.videoCodec!=null&&(fe.mimeType='video/x-flv; codecs="'+fe.videoCodec+","+fe.audioCodec+'"'):fe.mimeType='video/x-flv; codecs="'+fe.audioCodec+'"',fe.isComplete()&&this._onMediaInfo(fe)}var De=this._parseMP3AudioData(l,s+1,r-1,!1);if(De==null)return;ue=this._timestampBase+c;var Te={unit:De,length:De.byteLength,dts:ue,pts:ue};q.samples.push(Te),q.length+=De.length}}else this._onError(F.a.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+B)}else this._onError(F.a.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+f);else{if(r<=5)return void y.a.w(this.TAG,"Flv: Invalid audio packet, missing AudioFourCC in Ehnanced FLV payload!");var Re=15&h,ze=String.fromCharCode.apply(String,new Uint8Array(l,s,r).slice(1,5));switch(ze){case"Opus":this._parseOpusAudioPacket(l,s+5,r-5,c,Re);break;case"fLaC":this._parseFlacAudioPacket(l,s+5,r-5,c,Re);break;default:this._onError(F.a.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec: "+ze)}}}},u.prototype._parseAACAudioData=function(l,s,r){if(!(r<=1)){var c={},h=new Uint8Array(l,s,r);return c.packetType=h[0],h[0]===0?c.data=this._parseAACAudioSpecificConfig(l,s+1,r-1):c.data=h.subarray(1),c}y.a.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!")},u.prototype._parseAACAudioSpecificConfig=function(l,s,r){var c,h,f=new Uint8Array(l,s,r),p=null,B=0,L=null;if(B=c=f[0]>>>3,(h=(7&f[0])<<1|f[1]>>>7)<0||h>=this._mpegSamplingRates.length)this._onError(F.a.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");else{var j=this._mpegSamplingRates[h],q=(120&f[1])>>>3;if(!(q<0||q>=8)){B===5&&(L=(7&f[1])<<1|f[2]>>>7,(124&f[2])>>>2);var H=self.navigator.userAgent.toLowerCase();return H.indexOf("firefox")!==-1?h>=6?(B=5,p=new Array(4),L=h-3):(B=2,p=new Array(2),L=h):H.indexOf("android")!==-1?(B=2,p=new Array(2),L=h):(B=5,L=h,p=new Array(4),h>=6?L=h-3:q===1&&(B=2,p=new Array(2),L=h)),p[0]=B<<3,p[0]|=(15&h)>>>1,p[1]=(15&h)<<7,p[1]|=(15&q)<<3,B===5&&(p[1]|=(15&L)>>>1,p[2]=(1&L)<<7,p[2]|=8,p[3]=0),{config:p,samplingRate:j,channelCount:q,codec:"mp4a.40."+B,originalCodec:"mp4a.40."+c}}this._onError(F.a.FORMAT_ERROR,"Flv: AAC invalid channel configuration")}},u.prototype._parseMP3AudioData=function(l,s,r,c){if(!(r<4)){this._littleEndian;var h=new Uint8Array(l,s,r),f=null;if(c){if(h[0]!==255)return;var p=h[1]>>>3&3,B=(6&h[1])>>1,L=(240&h[2])>>>4,j=(12&h[2])>>>2,q=(h[3]>>>6&3)!==3?2:1,H=0,Q=0;switch(p){case 0:H=this._mpegAudioV25SampleRateTable[j];break;case 2:H=this._mpegAudioV20SampleRateTable[j];break;case 3:H=this._mpegAudioV10SampleRateTable[j]}switch(B){case 1:L<this._mpegAudioL3BitRateTable.length&&(Q=this._mpegAudioL3BitRateTable[L]);break;case 2:L<this._mpegAudioL2BitRateTable.length&&(Q=this._mpegAudioL2BitRateTable[L]);break;case 3:L<this._mpegAudioL1BitRateTable.length&&(Q=this._mpegAudioL1BitRateTable[L])}f={bitRate:Q,samplingRate:H,channelCount:q,codec:"mp3",originalCodec:"mp3"}}else f=h;return f}y.a.w(this.TAG,"Flv: Invalid MP3 packet, header missing!")},u.prototype._parseOpusAudioPacket=function(l,s,r,c,h){if(h===0)this._parseOpusSequenceHeader(l,s,r);else if(h===1)this._parseOpusAudioData(l,s,r,c);else if(h!==2)return void this._onError(F.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(h))},u.prototype._parseOpusSequenceHeader=function(l,s,r){if(r<=16)y.a.w(this.TAG,"Flv: Invalid OpusSequenceHeader, lack of data!");else{var c=this._audioMetadata,h=this._audioTrack;c||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(c=this._audioMetadata={}).type="audio",c.id=h.id,c.timescale=this._timescale,c.duration=this._duration);var f=new DataView(l,s,r);f.setUint8(8,0);var p=f.getUint8(9);f.setUint16(10,f.getUint16(10,!0),!1);var B=f.getUint32(12,!0);f.setUint32(12,f.getUint32(12,!0),!1);var L={config:new Uint8Array(l,s+8,r-8),channelCount:p,samplingFrequence:B,codec:"opus",originalCodec:"opus"};if(c.config){if(Y(L.config,c.config))return;y.a.w(this.TAG,"OpusSequenceHeader has been changed, re-generate initialization segment")}c.audioSampleRate=L.samplingFrequence,c.channelCount=L.channelCount,c.codec=L.codec,c.originalCodec=L.originalCodec,c.config=L.config,c.refSampleDuration=20,y.a.v(this.TAG,"Parsed OpusSequenceHeader"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",c);var j=this._mediaInfo;j.audioCodec=c.originalCodec,j.audioSampleRate=c.audioSampleRate,j.audioChannelCount=c.channelCount,j.hasVideo?j.videoCodec!=null&&(j.mimeType='video/x-flv; codecs="'+j.videoCodec+","+j.audioCodec+'"'):j.mimeType='video/x-flv; codecs="'+j.audioCodec+'"',j.isComplete()&&this._onMediaInfo(j)}},u.prototype._parseOpusAudioData=function(l,s,r,c){var h=this._audioTrack,f=new Uint8Array(l,s,r),p=this._timestampBase+c,B={unit:f,length:f.byteLength,dts:p,pts:p};h.samples.push(B),h.length+=f.length},u.prototype._parseFlacAudioPacket=function(l,s,r,c,h){if(h===0)this._parseFlacSequenceHeader(l,s,r);else if(h===1)this._parseFlacAudioData(l,s,r,c);else if(h!==2)return void this._onError(F.a.FORMAT_ERROR,"Flv: Invalid Flac audio packet type ".concat(h))},u.prototype._parseFlacSequenceHeader=function(l,s,r){var c=this._audioMetadata,h=this._audioTrack;c||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(c=this._audioMetadata={}).type="audio",c.id=h.id,c.timescale=this._timescale,c.duration=this._duration);var f=new Uint8Array(l,s+4,r-4),p=new K(f),B=p.readBits(16),L=p.readBits(16),j=L===B?L:null;p.readBits(24),p.readBits(24);var q=p.readBits(20),H=p.readBits(3)+1,Q=p.readBits(5)+1;p.destroy();var ue=new Uint8Array(f.byteLength+4);ue.set(f,4),ue[0]=128,ue[1]=f.byteLength>>>16&255,ue[2]=f.byteLength>>>8&255,ue[3]=f.byteLength>>>0&255;var Ae={config:ue,channelCount:H,samplingFrequence:q,sampleSize:Q,codec:"flac",originalCodec:"flac"};if(c.config){if(Y(Ae.config,c.config))return;y.a.w(this.TAG,"FlacSequenceHeader has been changed, re-generate initialization segment")}c.audioSampleRate=Ae.samplingFrequence,c.channelCount=Ae.channelCount,c.sampleSize=Ae.sampleSize,c.codec=Ae.codec,c.originalCodec=Ae.originalCodec,c.config=Ae.config,c.refSampleDuration=j!=null?1e3*j/Ae.samplingFrequence:null,y.a.v(this.TAG,"Parsed FlacSequenceHeader"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",c);var fe=this._mediaInfo;fe.audioCodec=c.originalCodec,fe.audioSampleRate=c.audioSampleRate,fe.audioChannelCount=c.channelCount,fe.hasVideo?fe.videoCodec!=null&&(fe.mimeType='video/x-flv; codecs="'+fe.videoCodec+","+fe.audioCodec+'"'):fe.mimeType='video/x-flv; codecs="'+fe.audioCodec+'"',fe.isComplete()&&this._onMediaInfo(fe)},u.prototype._parseFlacAudioData=function(l,s,r,c){var h=this._audioTrack,f=new Uint8Array(l,s,r),p=this._timestampBase+c,B={unit:f,length:f.byteLength,dts:p,pts:p};h.samples.push(B),h.length+=f.length},u.prototype._parseVideoData=function(l,s,r,c,h){if(r<=1)y.a.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");else if(this._hasVideoFlagOverrided!==!0||this._hasVideo!==!1){var f=new Uint8Array(l,s,r)[0],p=(112&f)>>>4;if((128&f)!=0){var B=15&f,L=String.fromCharCode.apply(String,new Uint8Array(l,s,r).slice(1,5));if(L==="hvc1")this._parseEnhancedHEVCVideoPacket(l,s+5,r-5,c,h,p,B);else{if(L!=="av01")return void this._onError(F.a.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: ".concat(L));this._parseEnhancedAV1VideoPacket(l,s+5,r-5,c,h,p,B)}}else{var j=15&f;if(j===7)this._parseAVCVideoPacket(l,s+1,r-1,c,h,p);else{if(j!==12)return void this._onError(F.a.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: ".concat(j));this._parseHEVCVideoPacket(l,s+1,r-1,c,h,p)}}}},u.prototype._parseAVCVideoPacket=function(l,s,r,c,h,f){if(r<4)y.a.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");else{var p=this._littleEndian,B=new DataView(l,s,r),L=B.getUint8(0),j=(16777215&B.getUint32(0,!p))<<8>>8;if(L===0)this._parseAVCDecoderConfigurationRecord(l,s+4,r-4);else if(L===1)this._parseAVCVideoData(l,s+4,r-4,c,h,f,j);else if(L!==2)return void this._onError(F.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(L))}},u.prototype._parseHEVCVideoPacket=function(l,s,r,c,h,f){if(r<4)y.a.w(this.TAG,"Flv: Invalid HEVC packet, missing HEVCPacketType or/and CompositionTime");else{var p=this._littleEndian,B=new DataView(l,s,r),L=B.getUint8(0),j=(16777215&B.getUint32(0,!p))<<8>>8;if(L===0)this._parseHEVCDecoderConfigurationRecord(l,s+4,r-4);else if(L===1)this._parseHEVCVideoData(l,s+4,r-4,c,h,f,j);else if(L!==2)return void this._onError(F.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(L))}},u.prototype._parseEnhancedHEVCVideoPacket=function(l,s,r,c,h,f,p){var B=this._littleEndian,L=new DataView(l,s,r);if(p===0)this._parseHEVCDecoderConfigurationRecord(l,s,r);else if(p===1){var j=(4294967040&L.getUint32(0,!B))>>8;this._parseHEVCVideoData(l,s+3,r-3,c,h,f,j)}else if(p===3)this._parseHEVCVideoData(l,s,r,c,h,f,0);else if(p!==2)return void this._onError(F.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(p))},u.prototype._parseEnhancedAV1VideoPacket=function(l,s,r,c,h,f,p){if(this._littleEndian,p===0)this._parseAV1CodecConfigurationRecord(l,s,r);else if(p===1)this._parseAV1VideoData(l,s,r,c,h,f,0);else{if(p===5)return void this._onError(F.a.FORMAT_ERROR,"Flv: Not Supported MP2T AV1 video packet type ".concat(p));if(p!==2)return void this._onError(F.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(p))}},u.prototype._parseAVCDecoderConfigurationRecord=function(l,s,r){if(r<7)y.a.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var c=this._videoMetadata,h=this._videoTrack,f=this._littleEndian,p=new DataView(l,s,r);if(c){if(c.avcc!==void 0){var B=new Uint8Array(l,s,r);if(Y(B,c.avcc))return;y.a.w(this.TAG,"AVCDecoderConfigurationRecord has been changed, re-generate initialization segment")}}else this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(c=this._videoMetadata={}).type="video",c.id=h.id,c.timescale=this._timescale,c.duration=this._duration;var L=p.getUint8(0),j=p.getUint8(1);if(p.getUint8(2),p.getUint8(3),L===1&&j!==0)if(this._naluLengthSize=1+(3&p.getUint8(4)),this._naluLengthSize===3||this._naluLengthSize===4){var q=31&p.getUint8(5);if(q!==0){q>1&&y.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = ".concat(q));for(var H=6,Q=0;Q<q;Q++){var ue=p.getUint16(H,!f);if(H+=2,ue!==0){var Ae=new Uint8Array(l,s+H,ue);H+=ue;var fe=J.parseSPS(Ae);if(Q===0){c.codecWidth=fe.codec_size.width,c.codecHeight=fe.codec_size.height,c.presentWidth=fe.present_size.width,c.presentHeight=fe.present_size.height,c.profile=fe.profile_string,c.level=fe.level_string,c.bitDepth=fe.bit_depth,c.chromaFormat=fe.chroma_format,c.sarRatio=fe.sar_ratio,c.frameRate=fe.frame_rate,fe.frame_rate.fixed!==!1&&fe.frame_rate.fps_num!==0&&fe.frame_rate.fps_den!==0||(c.frameRate=this._referenceFrameRate);var De=c.frameRate.fps_den,Te=c.frameRate.fps_num;c.refSampleDuration=c.timescale*(De/Te);for(var Re=Ae.subarray(1,4),ze="avc1.",He=0;He<3;He++){var Ce=Re[He].toString(16);Ce.length<2&&(Ce="0"+Ce),ze+=Ce}c.codec=ze;var ke=this._mediaInfo;ke.width=c.codecWidth,ke.height=c.codecHeight,ke.fps=c.frameRate.fps,ke.profile=c.profile,ke.level=c.level,ke.refFrames=fe.ref_frames,ke.chromaFormat=fe.chroma_format_string,ke.sarNum=c.sarRatio.width,ke.sarDen=c.sarRatio.height,ke.videoCodec=ze,ke.hasAudio?ke.audioCodec!=null&&(ke.mimeType='video/x-flv; codecs="'+ke.videoCodec+","+ke.audioCodec+'"'):ke.mimeType='video/x-flv; codecs="'+ke.videoCodec+'"',ke.isComplete()&&this._onMediaInfo(ke)}}}var Fe=p.getUint8(H);if(Fe!==0){for(Fe>1&&y.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = ".concat(Fe)),H++,Q=0;Q<Fe;Q++)ue=p.getUint16(H,!f),H+=2,ue!==0&&(H+=ue);c.avcc=new Uint8Array(r),c.avcc.set(new Uint8Array(l,s,r),0),y.a.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",c)}else this._onError(F.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}else this._onError(F.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS")}else this._onError(F.a.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: ".concat(this._naluLengthSize-1));else this._onError(F.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord")}},u.prototype._parseHEVCDecoderConfigurationRecord=function(l,s,r){if(r<22)y.a.w(this.TAG,"Flv: Invalid HEVCDecoderConfigurationRecord, lack of data!");else{var c=this._videoMetadata,h=this._videoTrack,f=this._littleEndian,p=new DataView(l,s,r);if(c){if(c.hvcc!==void 0){var B=new Uint8Array(l,s,r);if(Y(B,c.hvcc))return;y.a.w(this.TAG,"HEVCDecoderConfigurationRecord has been changed, re-generate initialization segment")}}else this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(c=this._videoMetadata={}).type="video",c.id=h.id,c.timescale=this._timescale,c.duration=this._duration;var L=p.getUint8(0),j=31&p.getUint8(1);if(L!==0&&L!==1||j===0)this._onError(F.a.FORMAT_ERROR,"Flv: Invalid HEVCDecoderConfigurationRecord");else if(this._naluLengthSize=1+(3&p.getUint8(21)),this._naluLengthSize===3||this._naluLengthSize===4){for(var q=p.getUint8(22),H=0,Q=23;H<q;H++){var ue=63&p.getUint8(Q+0),Ae=p.getUint16(Q+1,!f);Q+=3;for(var fe=0;fe<Ae;fe++){var De=p.getUint16(Q+0,!f);if(fe===0)if(ue===33){Q+=2;var Te=new Uint8Array(l,s+Q,De),Re=le.parseSPS(Te);c.codecWidth=Re.codec_size.width,c.codecHeight=Re.codec_size.height,c.presentWidth=Re.present_size.width,c.presentHeight=Re.present_size.height,c.profile=Re.profile_string,c.level=Re.level_string,c.bitDepth=Re.bit_depth,c.chromaFormat=Re.chroma_format,c.sarRatio=Re.sar_ratio,c.frameRate=Re.frame_rate,Re.frame_rate.fixed!==!1&&Re.frame_rate.fps_num!==0&&Re.frame_rate.fps_den!==0||(c.frameRate=this._referenceFrameRate);var ze=c.frameRate.fps_den,He=c.frameRate.fps_num;c.refSampleDuration=c.timescale*(ze/He),c.codec=Re.codec_mimetype;var Ce=this._mediaInfo;Ce.width=c.codecWidth,Ce.height=c.codecHeight,Ce.fps=c.frameRate.fps,Ce.profile=c.profile,Ce.level=c.level,Ce.refFrames=Re.ref_frames,Ce.chromaFormat=Re.chroma_format_string,Ce.sarNum=c.sarRatio.width,Ce.sarDen=c.sarRatio.height,Ce.videoCodec=Re.codec_mimetype,Ce.hasAudio?Ce.audioCodec!=null&&(Ce.mimeType='video/x-flv; codecs="'+Ce.videoCodec+","+Ce.audioCodec+'"'):Ce.mimeType='video/x-flv; codecs="'+Ce.videoCodec+'"',Ce.isComplete()&&this._onMediaInfo(Ce),Q+=De}else Q+=2+De;else Q+=2+De}}c.hvcc=new Uint8Array(r),c.hvcc.set(new Uint8Array(l,s,r),0),y.a.v(this.TAG,"Parsed HEVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",c)}else this._onError(F.a.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: ".concat(this._naluLengthSize-1))}},u.prototype._parseAV1CodecConfigurationRecord=function(l,s,r){if(r<4)y.a.w(this.TAG,"Flv: Invalid AV1CodecConfigurationRecord, lack of data!");else{var c=this._videoMetadata,h=this._videoTrack,f=(this._littleEndian,new DataView(l,s,r));c?c.av1c!==void 0&&y.a.w(this.TAG,"Found another AV1CodecConfigurationRecord!"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(c=this._videoMetadata={}).type="video",c.id=h.id,c.timescale=this._timescale,c.duration=this._duration);var p=127&f.getUint8(0);if(f.getUint8(1),f.getUint8(1),f.getUint8(2),p===1){var B=E.parseOBUs(new Uint8Array(l,s+4,r-4));if(B!=null){c.profile=B.profile_string,c.level=B.level_string,c.bitDepth=B.bit_depth,c.chromaFormat=B.chroma_format,c.frameRate=B.frame_rate,B.frame_rate.fixed!==!1&&B.frame_rate.fps_num!==0&&B.frame_rate.fps_den!==0||(c.frameRate=this._referenceFrameRate);var L=c.frameRate.fps_den,j=c.frameRate.fps_num;c.refSampleDuration=c.timescale*(L/j),c.codec=B.codec_mimetype,c.extra=B;var q=this._mediaInfo;q.fps=c.frameRate.fps,q.profile=c.profile,q.level=c.level,q.refFrames=B.ref_frames,q.chromaFormat=B.chroma_format_string,q.videoCodec=B.codec_mimetype,q.hasAudio?q.audioCodec!=null&&(q.mimeType='video/x-flv; codecs="'+q.videoCodec+","+q.audioCodec+'"'):q.mimeType='video/x-flv; codecs="'+q.videoCodec+'"',q.isComplete()&&this._onMediaInfo(q),c.av1c=new Uint8Array(r),c.av1c.set(new Uint8Array(l,s,r),0),y.a.v(this.TAG,"Preparing AV1CodecConfigurationRecord")}else this._onError(F.a.FORMAT_ERROR,"Flv: Invalid AV1CodecConfigurationRecord")}else this._onError(F.a.FORMAT_ERROR,"Flv: Invalid AV1CodecConfigurationRecord")}},u.prototype._parseAVCVideoData=function(l,s,r,c,h,f,p){for(var B=this._littleEndian,L=new DataView(l,s,r),j=[],q=0,H=0,Q=this._naluLengthSize,ue=this._timestampBase+c,Ae=f===1;H<r;){if(H+4>=r){y.a.w(this.TAG,"Malformed Nalu near timestamp ".concat(ue,", offset = ").concat(H,", dataSize = ").concat(r));break}var fe=L.getUint32(H,!B);if(Q===3&&(fe>>>=8),fe>r-Q)return void y.a.w(this.TAG,"Malformed Nalus near timestamp ".concat(ue,", NaluSize > DataSize!"));var De=31&L.getUint8(H+Q);De===5&&(Ae=!0);var Te=new Uint8Array(l,s+H,Q+fe),Re={type:De,data:Te};j.push(Re),q+=Te.byteLength,H+=Q+fe}if(j.length){var ze=this._videoTrack,He={units:j,length:q,isKeyframe:Ae,dts:ue,cts:p,pts:ue+p};Ae&&(He.fileposition=h),ze.samples.push(He),ze.length+=q}},u.prototype._parseHEVCVideoData=function(l,s,r,c,h,f,p){for(var B=this._littleEndian,L=new DataView(l,s,r),j=[],q=0,H=0,Q=this._naluLengthSize,ue=this._timestampBase+c,Ae=f===1;H<r;){if(H+4>=r){y.a.w(this.TAG,"Malformed Nalu near timestamp ".concat(ue,", offset = ").concat(H,", dataSize = ").concat(r));break}var fe=L.getUint32(H,!B);if(Q===3&&(fe>>>=8),fe>r-Q)return void y.a.w(this.TAG,"Malformed Nalus near timestamp ".concat(ue,", NaluSize > DataSize!"));var De=L.getUint8(H+Q)>>1&63;De!==19&&De!==20&&De!==21||(Ae=!0);var Te=new Uint8Array(l,s+H,Q+fe),Re={type:De,data:Te};j.push(Re),q+=Te.byteLength,H+=Q+fe}if(j.length){var ze=this._videoTrack,He={units:j,length:q,isKeyframe:Ae,dts:ue,cts:p,pts:ue+p};Ae&&(He.fileposition=h),ze.samples.push(He),ze.length+=q}},u.prototype._parseAV1VideoData=function(l,s,r,c,h,f,p){this._littleEndian;var B,L=[],j=this._timestampBase+c,q=f===1;if(q){var H=this._videoMetadata,Q=E.parseOBUs(new Uint8Array(l,s,r),H.extra);if(Q==null)return void this._onError(F.a.FORMAT_ERROR,"Flv: Invalid AV1 VideoData");console.log(Q),H.codecWidth=Q.codec_size.width,H.codecHeight=Q.codec_size.height,H.presentWidth=Q.present_size.width,H.presentHeight=Q.present_size.height,H.sarRatio=Q.sar_ratio;var ue=this._mediaInfo;ue.width=H.codecWidth,ue.height=H.codecHeight,ue.sarNum=H.sarRatio.width,ue.sarDen=H.sarRatio.height,y.a.v(this.TAG,"Parsed AV1DecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",H)}if(B=r,L.push({unitType:0,data:new Uint8Array(l,s+0,r)}),L.length){var Ae=this._videoTrack,fe={units:L,length:B,isKeyframe:q,dts:j,cts:p,pts:j+p};q&&(fe.fileposition=h),Ae.samples.push(fe),Ae.length+=B}},u})(),oe=(function(){function u(){}return u.prototype.destroy=function(){this.onError=null,this.onMediaInfo=null,this.onMetaDataArrived=null,this.onTrackMetadata=null,this.onDataAvailable=null,this.onTimedID3Metadata=null,this.onSynchronousKLVMetadata=null,this.onAsynchronousKLVMetadata=null,this.onSMPTE2038Metadata=null,this.onSCTE35Metadata=null,this.onPESPrivateData=null,this.onPESPrivateDataDescriptor=null},u})(),xe=function(){this.program_pmt_pid={}};(function(u){u[u.kMPEG1Audio=3]="kMPEG1Audio",u[u.kMPEG2Audio=4]="kMPEG2Audio",u[u.kPESPrivateData=6]="kPESPrivateData",u[u.kADTSAAC=15]="kADTSAAC",u[u.kLOASAAC=17]="kLOASAAC",u[u.kAC3=129]="kAC3",u[u.kEAC3=135]="kEAC3",u[u.kMetadata=21]="kMetadata",u[u.kSCTE35=134]="kSCTE35",u[u.kH264=27]="kH264",u[u.kH265=36]="kH265"})(A||(A={}));var pe,be=function(){this.pid_stream_type={},this.common_pids={h264:void 0,h265:void 0,av1:void 0,adts_aac:void 0,loas_aac:void 0,opus:void 0,ac3:void 0,eac3:void 0,mp3:void 0},this.pes_private_data_pids={},this.timed_id3_pids={},this.synchronous_klv_pids={},this.asynchronous_klv_pids={},this.scte_35_pids={},this.smpte2038_pids={}},N=function(){},de=function(){},he=function(){this.slices=[],this.total_length=0,this.expected_length=0,this.file_position=0};(function(u){u[u.kUnspecified=0]="kUnspecified",u[u.kSliceNonIDR=1]="kSliceNonIDR",u[u.kSliceDPA=2]="kSliceDPA",u[u.kSliceDPB=3]="kSliceDPB",u[u.kSliceDPC=4]="kSliceDPC",u[u.kSliceIDR=5]="kSliceIDR",u[u.kSliceSEI=6]="kSliceSEI",u[u.kSliceSPS=7]="kSliceSPS",u[u.kSlicePPS=8]="kSlicePPS",u[u.kSliceAUD=9]="kSliceAUD",u[u.kEndOfSequence=10]="kEndOfSequence",u[u.kEndOfStream=11]="kEndOfStream",u[u.kFiller=12]="kFiller",u[u.kSPSExt=13]="kSPSExt",u[u.kReserved0=14]="kReserved0"})(pe||(pe={}));var M,d,O=function(){},W=function(u){var l=u.data.byteLength;this.type=u.type,this.data=new Uint8Array(4+l),new DataView(this.data.buffer).setUint32(0,l),this.data.set(u.data,4)},_e=(function(){function u(l){this.TAG="H264AnnexBParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=l,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&y.a.e(this.TAG,"Could not find H264 startcode until payload end!")}return u.prototype.findNextStartCodeOffset=function(l){for(var s=l,r=this.data_;;){if(s+3>=r.byteLength)return this.eof_flag_=!0,r.byteLength;var c=r[s+0]<<24|r[s+1]<<16|r[s+2]<<8|r[s+3],h=r[s+0]<<16|r[s+1]<<8|r[s+2];if(c===1||h===1)return s;s++}},u.prototype.readNextNaluPayload=function(){for(var l=this.data_,s=null;s==null&&!this.eof_flag_;){var r=this.current_startcode_offset_,c=31&l[r+=(l[r]<<24|l[r+1]<<16|l[r+2]<<8|l[r+3])===1?4:3],h=(128&l[r])>>>7,f=this.findNextStartCodeOffset(r);if(this.current_startcode_offset_=f,!(c>=pe.kReserved0)&&h===0){var p=l.subarray(r,f);(s=new O).type=c,s.data=p}}return s},u})(),Se=(function(){function u(l,s,r){var c=8+l.byteLength+1+2+s.byteLength,h=!1;l[3]!==66&&l[3]!==77&&l[3]!==88&&(h=!0,c+=4);var f=this.data=new Uint8Array(c);f[0]=1,f[1]=l[1],f[2]=l[2],f[3]=l[3],f[4]=255,f[5]=225;var p=l.byteLength;f[6]=p>>>8,f[7]=255&p;var B=8;f.set(l,8),f[B+=p]=1;var L=s.byteLength;f[B+1]=L>>>8,f[B+2]=255&L,f.set(s,B+3),B+=3+L,h&&(f[B]=252|r.chroma_format_idc,f[B+1]=248|r.bit_depth_luma-8,f[B+2]=248|r.bit_depth_chroma-8,f[B+3]=0,B+=4)}return u.prototype.getData=function(){return this.data},u})();(function(u){u[u.kNull=0]="kNull",u[u.kAACMain=1]="kAACMain",u[u.kAAC_LC=2]="kAAC_LC",u[u.kAAC_SSR=3]="kAAC_SSR",u[u.kAAC_LTP=4]="kAAC_LTP",u[u.kAAC_SBR=5]="kAAC_SBR",u[u.kAAC_Scalable=6]="kAAC_Scalable",u[u.kLayer1=32]="kLayer1",u[u.kLayer2=33]="kLayer2",u[u.kLayer3=34]="kLayer3"})(M||(M={})),(function(u){u[u.k96000Hz=0]="k96000Hz",u[u.k88200Hz=1]="k88200Hz",u[u.k64000Hz=2]="k64000Hz",u[u.k48000Hz=3]="k48000Hz",u[u.k44100Hz=4]="k44100Hz",u[u.k32000Hz=5]="k32000Hz",u[u.k24000Hz=6]="k24000Hz",u[u.k22050Hz=7]="k22050Hz",u[u.k16000Hz=8]="k16000Hz",u[u.k12000Hz=9]="k12000Hz",u[u.k11025Hz=10]="k11025Hz",u[u.k8000Hz=11]="k8000Hz",u[u.k7350Hz=12]="k7350Hz"})(d||(d={}));var Le,Me,me=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],ve=(Le=function(u,l){return(Le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(s[c]=r[c])})(u,l)},function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function s(){this.constructor=u}Le(u,l),u.prototype=l===null?Object.create(l):(s.prototype=l.prototype,new s)}),we=function(){},Ie=(function(u){function l(){return u!==null&&u.apply(this,arguments)||this}return ve(l,u),l})(we),Ve=(function(){function u(l){this.TAG="AACADTSParser",this.data_=l,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&y.a.e(this.TAG,"Could not found ADTS syncword until payload end")}return u.prototype.findNextSyncwordOffset=function(l){for(var s=l,r=this.data_;;){if(s+7>=r.byteLength)return this.eof_flag_=!0,r.byteLength;if((r[s+0]<<8|r[s+1])>>>4===4095)return s;s++}},u.prototype.readNextAACFrame=function(){for(var l=this.data_,s=null;s==null&&!this.eof_flag_;){var r=this.current_syncword_offset_,c=(8&l[r+1])>>>3,h=(6&l[r+1])>>>1,f=1&l[r+1],p=(192&l[r+2])>>>6,B=(60&l[r+2])>>>2,L=(1&l[r+2])<<2|(192&l[r+3])>>>6,j=(3&l[r+3])<<11|l[r+4]<<3|(224&l[r+5])>>>5;if(l[r+6],r+j>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var q=f===1?7:9,H=j-q;r+=q;var Q=this.findNextSyncwordOffset(r+H);if(this.current_syncword_offset_=Q,(c===0||c===1)&&h===0){var ue=l.subarray(r,r+H);(s=new we).audio_object_type=p+1,s.sampling_freq_index=B,s.sampling_frequency=me[B],s.channel_config=L,s.data=ue}}return s},u.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},u.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},u})(),Qe=(function(){function u(l){this.TAG="AACLOASParser",this.data_=l,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&y.a.e(this.TAG,"Could not found LOAS syncword until payload end")}return u.prototype.findNextSyncwordOffset=function(l){for(var s=l,r=this.data_;;){if(s+1>=r.byteLength)return this.eof_flag_=!0,r.byteLength;if((r[s+0]<<3|r[s+1]>>>5)===695)return s;s++}},u.prototype.getLATMValue=function(l){for(var s=l.readBits(2),r=0,c=0;c<=s;c++)r<<=8,r|=l.readByte();return r},u.prototype.readNextAACFrame=function(l){for(var s=this.data_,r=null;r==null&&!this.eof_flag_;){var c=this.current_syncword_offset_,h=(31&s[c+1])<<8|s[c+2];if(c+3+h>=this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var f=new K(s.subarray(c+3,c+3+h)),p=null;if(f.readBool()){if(l==null){y.a.w(this.TAG,"StreamMuxConfig Missing"),this.current_syncword_offset_=this.findNextSyncwordOffset(c+3+h),f.destroy();continue}p=l}else{var B=f.readBool();if(B&&f.readBool()){y.a.e(this.TAG,"audioMuxVersionA is Not Supported"),f.destroy();break}if(B&&this.getLATMValue(f),!f.readBool()){y.a.e(this.TAG,"allStreamsSameTimeFraming zero is Not Supported"),f.destroy();break}if(f.readBits(6)!==0){y.a.e(this.TAG,"more than 2 numSubFrames Not Supported"),f.destroy();break}if(f.readBits(4)!==0){y.a.e(this.TAG,"more than 2 numProgram Not Supported"),f.destroy();break}if(f.readBits(3)!==0){y.a.e(this.TAG,"more than 2 numLayer Not Supported"),f.destroy();break}var L=B?this.getLATMValue(f):0,j=f.readBits(5);L-=5;var q=f.readBits(4);L-=4;var H=f.readBits(4);L-=4,f.readBits(3),(L-=3)>0&&f.readBits(L);var Q=f.readBits(3);if(Q!==0){y.a.e(this.TAG,"frameLengthType = ".concat(Q,". Only frameLengthType = 0 Supported")),f.destroy();break}f.readByte();var ue=f.readBool();if(ue)if(B)this.getLATMValue(f);else{for(var Ae=0;;){Ae<<=8;var fe=f.readBool();if(Ae+=f.readByte(),!fe)break}console.log(Ae)}f.readBool()&&f.readByte(),(p=new Ie).audio_object_type=j,p.sampling_freq_index=q,p.sampling_frequency=me[p.sampling_freq_index],p.channel_config=H,p.other_data_present=ue}for(var De=0;;){var Te=f.readByte();if(De+=Te,Te!==255)break}for(var Re=new Uint8Array(De),ze=0;ze<De;ze++)Re[ze]=f.readByte();(r=new Ie).audio_object_type=p.audio_object_type,r.sampling_freq_index=p.sampling_freq_index,r.sampling_frequency=me[p.sampling_freq_index],r.channel_config=p.channel_config,r.other_data_present=p.other_data_present,r.data=Re,this.current_syncword_offset_=this.findNextSyncwordOffset(c+3+h)}return r},u.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},u.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},u})(),bt=function(u){var l=null,s=u.audio_object_type,r=u.audio_object_type,c=u.sampling_freq_index,h=u.channel_config,f=0,p=navigator.userAgent.toLowerCase();p.indexOf("firefox")!==-1?c>=6?(r=5,l=new Array(4),f=c-3):(r=2,l=new Array(2),f=c):p.indexOf("android")!==-1?(r=2,l=new Array(2),f=c):(r=5,f=c,l=new Array(4),c>=6?f=c-3:h===1&&(r=2,l=new Array(2),f=c)),l[0]=r<<3,l[0]|=(15&c)>>>1,l[1]=(15&c)<<7,l[1]|=(15&h)<<3,r===5&&(l[1]|=(15&f)>>>1,l[2]=(1&f)<<7,l[2]|=8,l[3]=0),this.config=l,this.sampling_rate=me[c],this.channel_count=h,this.codec_mimetype="mp4a.40."+r,this.original_codec_mimetype="mp4a.40."+s},xt=function(){},ua=function(){};(function(u){u[u.kSpliceNull=0]="kSpliceNull",u[u.kSpliceSchedule=4]="kSpliceSchedule",u[u.kSpliceInsert=5]="kSpliceInsert",u[u.kTimeSignal=6]="kTimeSignal",u[u.kBandwidthReservation=7]="kBandwidthReservation",u[u.kPrivateCommand=255]="kPrivateCommand"})(Me||(Me={}));var _t,Ht=function(u){var l=u.readBool();return l?(u.readBits(6),{time_specified_flag:l,pts_time:4*u.readBits(31)+u.readBits(2)}):(u.readBits(7),{time_specified_flag:l})},Fi=function(u){var l=u.readBool();return u.readBits(6),{auto_return:l,duration:4*u.readBits(31)+u.readBits(2)}},Ki=function(u,l){var s=l.readBits(8);return u?{component_tag:s}:{component_tag:s,splice_time:Ht(l)}},Xi=function(u){return{component_tag:u.readBits(8),utc_splice_time:u.readBits(32)}},Qi=function(u){var l=u.readBits(32),s=u.readBool();u.readBits(7);var r={splice_event_id:l,splice_event_cancel_indicator:s};if(s)return r;if(r.out_of_network_indicator=u.readBool(),r.program_splice_flag=u.readBool(),r.duration_flag=u.readBool(),u.readBits(5),r.program_splice_flag)r.utc_splice_time=u.readBits(32);else{r.component_count=u.readBits(8),r.components=[];for(var c=0;c<r.component_count;c++)r.components.push(Xi(u))}return r.duration_flag&&(r.break_duration=Fi(u)),r.unique_program_id=u.readBits(16),r.avail_num=u.readBits(8),r.avails_expected=u.readBits(8),r},Hs=function(u,l,s,r){return{descriptor_tag:u,descriptor_length:l,identifier:s,provider_avail_id:r.readBits(32)}},wr=function(u,l,s,r){var c=r.readBits(8),h=r.readBits(3);r.readBits(5);for(var f="",p=0;p<h;p++)f+=String.fromCharCode(r.readBits(8));return{descriptor_tag:u,descriptor_length:l,identifier:s,preroll:c,dtmf_count:h,DTMF_char:f}},qs=function(u){var l=u.readBits(8);return u.readBits(7),{component_tag:l,pts_offset:4*u.readBits(31)+u.readBits(2)}},Ys=function(u,l,s,r){var c=r.readBits(32),h=r.readBool();r.readBits(7);var f={descriptor_tag:u,descriptor_length:l,identifier:s,segmentation_event_id:c,segmentation_event_cancel_indicator:h};if(h)return f;if(f.program_segmentation_flag=r.readBool(),f.segmentation_duration_flag=r.readBool(),f.delivery_not_restricted_flag=r.readBool(),f.delivery_not_restricted_flag?r.readBits(5):(f.web_delivery_allowed_flag=r.readBool(),f.no_regional_blackout_flag=r.readBool(),f.archive_allowed_flag=r.readBool(),f.device_restrictions=r.readBits(2)),!f.program_segmentation_flag){f.component_count=r.readBits(8),f.components=[];for(var p=0;p<f.component_count;p++)f.components.push(qs(r))}f.segmentation_duration_flag&&(f.segmentation_duration=r.readBits(40)),f.segmentation_upid_type=r.readBits(8),f.segmentation_upid_length=r.readBits(8);var B=new Uint8Array(f.segmentation_upid_length);for(p=0;p<f.segmentation_upid_length;p++)B[p]=r.readBits(8);return f.segmentation_upid=B.buffer,f.segmentation_type_id=r.readBits(8),f.segment_num=r.readBits(8),f.segments_expected=r.readBits(8),f.segmentation_type_id!==52&&f.segmentation_type_id!==54&&f.segmentation_type_id!==56&&f.segmentation_type_id!==58||(f.sub_segment_num=r.readBits(8),f.sub_segments_expected=r.readBits(8)),f},bi=function(u,l,s,r){return{descriptor_tag:u,descriptor_length:l,identifier:s,TAI_seconds:r.readBits(48),TAI_ns:r.readBits(32),UTC_offset:r.readBits(16)}},Xt=function(u){return{component_tag:u.readBits(8),ISO_code:String.fromCharCode(u.readBits(8),u.readBits(8),u.readBits(8)),Bit_Stream_Mode:u.readBits(3),Num_Channels:u.readBits(4),Full_Srvc_Audio:u.readBool()}},xa=function(u,l,s,r){for(var c=r.readBits(4),h=[],f=0;f<c;f++)h.push(Xt(r));return{descriptor_tag:u,descriptor_length:l,identifier:s,audio_count:c,components:h}},Qt=function(u){var l=new K(u),s=l.readBits(8),r=l.readBool(),c=l.readBool();l.readBits(2);var h=l.readBits(12),f=l.readBits(8),p=l.readBool(),B=l.readBits(6),L=4*l.readBits(31)+l.readBits(2),j=l.readBits(8),q=l.readBits(12),H=l.readBits(12),Q=l.readBits(8),ue=null;Q===Me.kSpliceNull?ue={}:Q===Me.kSpliceSchedule?ue=(function(Ue){for(var Je=Ue.readBits(8),rt=[],Ge=0;Ge<Je;Ge++)rt.push(Qi(Ue));return{splice_count:Je,events:rt}})(l):Q===Me.kSpliceInsert?ue=(function(Ue){var Je=Ue.readBits(32),rt=Ue.readBool();Ue.readBits(7);var Ge={splice_event_id:Je,splice_event_cancel_indicator:rt};if(rt)return Ge;if(Ge.out_of_network_indicator=Ue.readBool(),Ge.program_splice_flag=Ue.readBool(),Ge.duration_flag=Ue.readBool(),Ge.splice_immediate_flag=Ue.readBool(),Ue.readBits(4),Ge.program_splice_flag&&!Ge.splice_immediate_flag&&(Ge.splice_time=Ht(Ue)),!Ge.program_splice_flag){Ge.component_count=Ue.readBits(8),Ge.components=[];for(var Ke=0;Ke<Ge.component_count;Ke++)Ge.components.push(Ki(Ge.splice_immediate_flag,Ue))}return Ge.duration_flag&&(Ge.break_duration=Fi(Ue)),Ge.unique_program_id=Ue.readBits(16),Ge.avail_num=Ue.readBits(8),Ge.avails_expected=Ue.readBits(8),Ge})(l):Q===Me.kTimeSignal?ue=(function(Ue){return{splice_time:Ht(Ue)}})(l):Q===Me.kBandwidthReservation?ue={}:Q===Me.kPrivateCommand?ue=(function(Ue,Je){for(var rt=String.fromCharCode(Je.readBits(8),Je.readBits(8),Je.readBits(8),Je.readBits(8)),Ge=new Uint8Array(Ue-4),Ke=0;Ke<Ue-4;Ke++)Ge[Ke]=Je.readBits(8);return{identifier:rt,private_data:Ge.buffer}})(H,l):l.readBits(8*H);for(var Ae=[],fe=l.readBits(16),De=0;De<fe;){var Te=l.readBits(8),Re=l.readBits(8),ze=String.fromCharCode(l.readBits(8),l.readBits(8),l.readBits(8),l.readBits(8));Te===0?Ae.push(Hs(Te,Re,ze,l)):Te===1?Ae.push(wr(Te,Re,ze,l)):Te===2?Ae.push(Ys(Te,Re,ze,l)):Te===3?Ae.push(bi(Te,Re,ze,l)):Te===4?Ae.push(xa(Te,Re,ze,l)):l.readBits(8*(Re-4)),De+=2+Re}var He={table_id:s,section_syntax_indicator:r,private_indicator:c,section_length:h,protocol_version:f,encrypted_packet:p,encryption_algorithm:B,pts_adjustment:L,cw_index:j,tier:q,splice_command_length:H,splice_command_type:Q,splice_command:ue,descriptor_loop_length:fe,splice_descriptors:Ae,E_CRC32:p?l.readBits(32):void 0,CRC32:l.readBits(32)};if(Q===Me.kSpliceInsert){var Ce=ue;if(Ce.splice_event_cancel_indicator)return{splice_command_type:Q,detail:He,data:u};if(Ce.program_splice_flag&&!Ce.splice_immediate_flag){var ke=Ce.duration_flag?Ce.break_duration.auto_return:void 0,Fe=Ce.duration_flag?Ce.break_duration.duration/90:void 0;return Ce.splice_time.time_specified_flag?{splice_command_type:Q,pts:(L+Ce.splice_time.pts_time)%Math.pow(2,33),auto_return:ke,duraiton:Fe,detail:He,data:u}:{splice_command_type:Q,auto_return:ke,duraiton:Fe,detail:He,data:u}}return{splice_command_type:Q,auto_return:ke=Ce.duration_flag?Ce.break_duration.auto_return:void 0,duraiton:Fe=Ce.duration_flag?Ce.break_duration.duration/90:void 0,detail:He,data:u}}if(Q===Me.kTimeSignal){var je=ue;return je.splice_time.time_specified_flag?{splice_command_type:Q,pts:(L+je.splice_time.pts_time)%Math.pow(2,33),detail:He,data:u}:{splice_command_type:Q,detail:He,data:u}}return{splice_command_type:Q,detail:He,data:u}};(function(u){u[u.kSliceIDR_W_RADL=19]="kSliceIDR_W_RADL",u[u.kSliceIDR_N_LP=20]="kSliceIDR_N_LP",u[u.kSliceCRA_NUT=21]="kSliceCRA_NUT",u[u.kSliceVPS=32]="kSliceVPS",u[u.kSliceSPS=33]="kSliceSPS",u[u.kSlicePPS=34]="kSlicePPS",u[u.kSliceAUD=35]="kSliceAUD"})(_t||(_t={}));var Fs=function(){},Ks=function(u){var l=u.data.byteLength;this.type=u.type,this.data=new Uint8Array(4+l),new DataView(this.data.buffer).setUint32(0,l),this.data.set(u.data,4)},Xs=(function(){function u(l){this.TAG="H265AnnexBParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=l,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&y.a.e(this.TAG,"Could not find H265 startcode until payload end!")}return u.prototype.findNextStartCodeOffset=function(l){for(var s=l,r=this.data_;;){if(s+3>=r.byteLength)return this.eof_flag_=!0,r.byteLength;var c=r[s+0]<<24|r[s+1]<<16|r[s+2]<<8|r[s+3],h=r[s+0]<<16|r[s+1]<<8|r[s+2];if(c===1||h===1)return s;s++}},u.prototype.readNextNaluPayload=function(){for(var l=this.data_,s=null;s==null&&!this.eof_flag_;){var r=this.current_startcode_offset_,c=l[r+=(l[r]<<24|l[r+1]<<16|l[r+2]<<8|l[r+3])===1?4:3]>>1&63,h=(128&l[r])>>>7,f=this.findNextStartCodeOffset(r);if(this.current_startcode_offset_=f,h===0){var p=l.subarray(r,f);(s=new Fs).type=c,s.data=p}}return s},u})(),Zi=(function(){function u(l,s,r,c){var h=23+(5+l.byteLength)+(5+s.byteLength)+(5+r.byteLength),f=this.data=new Uint8Array(h);f[0]=1,f[1]=(3&c.general_profile_space)<<6|(c.general_tier_flag?1:0)<<5|31&c.general_profile_idc,f[2]=c.general_profile_compatibility_flags_1,f[3]=c.general_profile_compatibility_flags_2,f[4]=c.general_profile_compatibility_flags_3,f[5]=c.general_profile_compatibility_flags_4,f[6]=c.general_constraint_indicator_flags_1,f[7]=c.general_constraint_indicator_flags_2,f[8]=c.general_constraint_indicator_flags_3,f[9]=c.general_constraint_indicator_flags_4,f[10]=c.general_constraint_indicator_flags_5,f[11]=c.general_constraint_indicator_flags_6,f[12]=c.general_level_idc,f[13]=240|(3840&c.min_spatial_segmentation_idc)>>8,f[14]=255&c.min_spatial_segmentation_idc,f[15]=252|3&c.parallelismType,f[16]=252|3&c.chroma_format_idc,f[17]=248|7&c.bit_depth_luma_minus8,f[18]=248|7&c.bit_depth_chroma_minus8,f[19]=0,f[20]=0,f[21]=(3&c.constant_frame_rate)<<6|(7&c.num_temporal_layers)<<3|(c.temporal_id_nested?1:0)<<2|3,f[22]=3,f[23]=128|_t.kSliceVPS,f[24]=0,f[25]=1,f[26]=(65280&l.byteLength)>>8,f[27]=(255&l.byteLength)>>0,f.set(l,28),f[23+(5+l.byteLength)+0]=128|_t.kSliceSPS,f[23+(5+l.byteLength)+1]=0,f[23+(5+l.byteLength)+2]=1,f[23+(5+l.byteLength)+3]=(65280&s.byteLength)>>8,f[23+(5+l.byteLength)+4]=(255&s.byteLength)>>0,f.set(s,23+(5+l.byteLength)+5),f[23+(5+l.byteLength+5+s.byteLength)+0]=128|_t.kSlicePPS,f[23+(5+l.byteLength+5+s.byteLength)+1]=0,f[23+(5+l.byteLength+5+s.byteLength)+2]=1,f[23+(5+l.byteLength+5+s.byteLength)+3]=(65280&r.byteLength)>>8,f[23+(5+l.byteLength+5+s.byteLength)+4]=(255&r.byteLength)>>0,f.set(r,23+(5+l.byteLength+5+s.byteLength)+5)}return u.prototype.getData=function(){return this.data},u})(),Wi=function(){},Ba=function(){},Ji=function(){},Si=[[64,64,80,80,96,96,112,112,128,128,160,160,192,192,224,224,256,256,320,320,384,384,448,448,512,512,640,640,768,768,896,896,1024,1024,1152,1152,1280,1280],[69,70,87,88,104,105,121,122,139,140,174,175,208,209,243,244,278,279,348,349,417,418,487,488,557,558,696,697,835,836,975,976,1114,1115,1253,1254,1393,1394],[96,96,120,120,144,144,168,168,192,192,240,240,288,288,336,336,384,384,480,480,576,576,672,672,768,768,960,960,1152,1152,1344,1344,1536,1536,1728,1728,1920,1920]],Qs=(function(){function u(l){this.TAG="AC3Parser",this.data_=l,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&y.a.e(this.TAG,"Could not found AC3 syncword until payload end")}return u.prototype.findNextSyncwordOffset=function(l){for(var s=l,r=this.data_;;){if(s+7>=r.byteLength)return this.eof_flag_=!0,r.byteLength;if((r[s+0]<<8|r[s+1]<<0)===2935)return s;s++}},u.prototype.readNextAC3Frame=function(){for(var l=this.data_,s=null;s==null&&!this.eof_flag_;){var r=this.current_syncword_offset_,c=l[r+4]>>6,h=[48e3,44200,33e3][c],f=63&l[r+4],p=2*Si[c][f];if(isNaN(p)||r+p>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var B=this.findNextSyncwordOffset(r+p);this.current_syncword_offset_=B;var L=l[r+5]>>3,j=7&l[r+5],q=l[r+6]>>5,H=0;(1&q)!=0&&q!==1&&(H+=2),(4&q)!=0&&(H+=2),q===2&&(H+=2);var Q=(l[r+6]<<8|l[r+7]<<0)>>12-H&1,ue=[2,1,2,3,3,4,4,5][q]+Q;(s=new Ji).sampling_frequency=h,s.channel_count=ue,s.channel_mode=q,s.bit_stream_identification=L,s.low_frequency_effects_channel_on=Q,s.bit_stream_mode=j,s.frame_size_code=f,s.data=l.subarray(r,r+p)}return s},u.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},u.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},u})(),Lr=function(u){var l;l=[u.sampling_rate_code<<6|u.bit_stream_identification<<1|u.bit_stream_mode>>2,(3&u.bit_stream_mode)<<6|u.channel_mode<<3|u.low_frequency_effects_channel_on<<2|u.frame_size_code>>4,u.frame_size_code<<4&224],this.config=l,this.sampling_rate=u.sampling_frequency,this.bit_stream_identification=u.bit_stream_identification,this.bit_stream_mode=u.bit_stream_mode,this.low_frequency_effects_channel_on=u.low_frequency_effects_channel_on,this.channel_count=u.channel_count,this.channel_mode=u.channel_mode,this.codec_mimetype="ac-3",this.original_codec_mimetype="ac-3"},Br=function(){},Bn=(function(){function u(l){this.TAG="EAC3Parser",this.data_=l,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&y.a.e(this.TAG,"Could not found AC3 syncword until payload end")}return u.prototype.findNextSyncwordOffset=function(l){for(var s=l,r=this.data_;;){if(s+7>=r.byteLength)return this.eof_flag_=!0,r.byteLength;if((r[s+0]<<8|r[s+1]<<0)===2935)return s;s++}},u.prototype.readNextEAC3Frame=function(){for(var l=this.data_,s=null;s==null&&!this.eof_flag_;){var r=this.current_syncword_offset_,c=new K(l.subarray(r+2)),h=(c.readBits(2),c.readBits(3),c.readBits(11)+1<<1),f=c.readBits(2),p=null,B=null;f===3?(p=[24e3,22060,16e3][f=c.readBits(2)],B=3):(p=[48e3,44100,32e3][f],B=c.readBits(2));var L=c.readBits(3),j=c.readBits(1),q=c.readBits(5);if(r+h>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var H=this.findNextSyncwordOffset(r+h);this.current_syncword_offset_=H;var Q=[2,1,2,3,3,4,4,5][L]+j;c.destroy(),(s=new Br).sampling_frequency=p,s.channel_count=Q,s.channel_mode=L,s.bit_stream_identification=q,s.low_frequency_effects_channel_on=j,s.frame_size=h,s.num_blks=[1,2,3,6][B],s.data=l.subarray(r,r+h)}return s},u.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},u.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},u})(),Ei=function(u){var l,s=Math.floor(u.frame_size*u.sampling_frequency/(16*u.num_blks));l=[255&s,248&s,u.sampling_rate_code<<6|u.bit_stream_identification<<1|0,0|u.channel_mode<<1|u.low_frequency_effects_channel_on<<0,0],this.config=l,this.sampling_rate=u.sampling_frequency,this.bit_stream_identification=u.bit_stream_identification,this.num_blks=u.num_blks,this.low_frequency_effects_channel_on=u.low_frequency_effects_channel_on,this.channel_count=u.channel_count,this.channel_mode=u.channel_mode,this.codec_mimetype="ec-3",this.original_codec_mimetype="ec-3"},Zs=function(){},kr=(function(){function u(l){this.TAG="AV1OBUInMpegTsParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=l,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&y.a.e(this.TAG,"Could not find AV1 startcode until payload end!")}return u._ebsp2rbsp=function(l){for(var s=l,r=s.byteLength,c=new Uint8Array(r),h=0,f=0;f<r;f++)f>=2&&s[f]===3&&s[f-1]===0&&s[f-2]===0||(c[h]=s[f],h++);return new Uint8Array(c.buffer,0,h)},u.prototype.findNextStartCodeOffset=function(l){for(var s=l,r=this.data_;;){if(s+2>=r.byteLength)return this.eof_flag_=!0,r.byteLength;if((r[s+0]<<16|r[s+1]<<8|r[s+2])===1)return s;s++}},u.prototype.readNextOBUPayload=function(){for(var l=this.data_,s=null;s==null&&!this.eof_flag_;){var r=this.current_startcode_offset_+3,c=this.findNextStartCodeOffset(r);this.current_startcode_offset_=c,s=u._ebsp2rbsp(l.subarray(r,c))}return s},u})(),Ur=(function(){var u=function(l,s){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,c){r.__proto__=c}||function(r,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(r[h]=c[h])})(l,s)};return function(l,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function r(){this.constructor=l}u(l,s),l.prototype=s===null?Object.create(s):(r.prototype=s.prototype,new r)}})(),va=function(){return(va=Object.assign||function(u){for(var l,s=1,r=arguments.length;s<r;s++)for(var c in l=arguments[s])Object.prototype.hasOwnProperty.call(l,c)&&(u[c]=l[c]);return u}).apply(this,arguments)},$i=(function(u){function l(s,r){var c=u.call(this)||this;return c.TAG="TSDemuxer",c.first_parse_=!0,c.media_info_=new m.a,c.timescale_=90,c.duration_=0,c.current_pmt_pid_=-1,c.program_pmt_map_={},c.pes_slice_queues_={},c.section_slice_queues_={},c.video_metadata_={vps:void 0,sps:void 0,pps:void 0,av1c:void 0,details:void 0},c.audio_metadata_={codec:void 0,audio_object_type:void 0,sampling_freq_index:void 0,sampling_frequency:void 0,channel_config:void 0},c.last_pcr_base_=NaN,c.timestamp_offset_=0,c.audio_last_sample_pts_=void 0,c.aac_last_incomplete_data_=null,c.has_video_=!1,c.has_audio_=!1,c.video_init_segment_dispatched_=!1,c.audio_init_segment_dispatched_=!1,c.video_metadata_changed_=!1,c.audio_metadata_changed_=!1,c.loas_previous_frame=null,c.video_track_={type:"video",id:1,sequenceNumber:0,samples:[],length:0},c.audio_track_={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},c.ts_packet_size_=s.ts_packet_size,c.sync_offset_=s.sync_offset,c.config_=r,c}return Ur(l,u),l.prototype.destroy=function(){this.media_info_=null,this.pes_slice_queues_=null,this.section_slice_queues_=null,this.video_metadata_=null,this.audio_metadata_=null,this.aac_last_incomplete_data_=null,this.video_track_=null,this.audio_track_=null,u.prototype.destroy.call(this)},l.probe=function(s){var r=new Uint8Array(s),c=-1,h=188;if(r.byteLength<=3*h)return{needMoreData:!0};for(;c===-1;){for(var f=Math.min(1e3,r.byteLength-3*h),p=0;p<f;){if(r[p]===71&&r[p+h]===71&&r[p+2*h]===71){c=p;break}p++}if(c===-1)if(h===188)h=192;else{if(h!==192)break;h=204}}return c===-1?{match:!1}:(h===192&&c>=4?(y.a.v("TSDemuxer","ts_packet_size = 192, m2ts mode"),c-=4):h===204&&y.a.v("TSDemuxer","ts_packet_size = 204, RS encoded MPEG2-TS stream"),{match:!0,consumed:0,ts_packet_size:h,sync_offset:c})},l.prototype.bindDataSource=function(s){return s.onDataArrival=this.parseChunks.bind(this),this},l.prototype.resetMediaInfo=function(){this.media_info_=new m.a},l.prototype.parseChunks=function(s,r){if(!(this.onError&&this.onMediaInfo&&this.onTrackMetadata&&this.onDataAvailable))throw new z.a("onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var c=0;for(this.first_parse_&&(this.first_parse_=!1,c=this.sync_offset_);c+this.ts_packet_size_<=s.byteLength;){var h=r+c;this.ts_packet_size_===192&&(c+=4);var f=new Uint8Array(s,c,188),p=f[0];if(p!==71){y.a.e(this.TAG,"sync_byte = ".concat(p,", not 0x47"));break}var B=(64&f[1])>>>6,L=(f[1],(31&f[1])<<8|f[2]),j=(48&f[3])>>>4,q=15&f[3],H=!(!this.pmt_||this.pmt_.pcr_pid!==L),Q={},ue=4;if(j==2||j==3){var Ae=f[4];if(Ae>0&&(H||j==3)&&(Q.discontinuity_indicator=(128&f[5])>>>7,Q.random_access_indicator=(64&f[5])>>>6,Q.elementary_stream_priority_indicator=(32&f[5])>>>5,(16&f[5])>>>4)){var fe=300*this.getPcrBase(f)+((1&f[10])<<8|f[11]);this.last_pcr_=fe}if(j==2||5+Ae===188){c+=188,this.ts_packet_size_===204&&(c+=16);continue}ue=5+Ae}if(j==1||j==3){if(L===0||L===this.current_pmt_pid_||this.pmt_!=null&&this.pmt_.pid_stream_type[L]===A.kSCTE35){var De=188-ue;this.handleSectionSlice(s,c+ue,De,{pid:L,file_position:h,payload_unit_start_indicator:B,continuity_conunter:q,random_access_indicator:Q.random_access_indicator})}else if(this.pmt_!=null&&this.pmt_.pid_stream_type[L]!=null){De=188-ue;var Te=this.pmt_.pid_stream_type[L];L!==this.pmt_.common_pids.h264&&L!==this.pmt_.common_pids.h265&&L!==this.pmt_.common_pids.av1&&L!==this.pmt_.common_pids.adts_aac&&L!==this.pmt_.common_pids.loas_aac&&L!==this.pmt_.common_pids.ac3&&L!==this.pmt_.common_pids.eac3&&L!==this.pmt_.common_pids.opus&&L!==this.pmt_.common_pids.mp3&&this.pmt_.pes_private_data_pids[L]!==!0&&this.pmt_.timed_id3_pids[L]!==!0&&this.pmt_.synchronous_klv_pids[L]!==!0&&this.pmt_.asynchronous_klv_pids[L]!==!0||this.handlePESSlice(s,c+ue,De,{pid:L,stream_type:Te,file_position:h,payload_unit_start_indicator:B,continuity_conunter:q,random_access_indicator:Q.random_access_indicator})}}c+=188,this.ts_packet_size_===204&&(c+=16)}return this.dispatchAudioVideoMediaSegment(),c},l.prototype.handleSectionSlice=function(s,r,c,h){var f=new Uint8Array(s,r,c),p=this.section_slice_queues_[h.pid];if(h.payload_unit_start_indicator){var B=f[0];if(p!=null&&p.total_length!==0){var L=new Uint8Array(s,r+1,Math.min(c,B));p.slices.push(L),p.total_length+=L.byteLength,p.total_length===p.expected_length?this.emitSectionSlices(p,h):this.clearSlices(p,h)}for(var j=1+B;j<f.byteLength&&f[j+0]!==255;){var q=(15&f[j+1])<<8|f[j+2];this.section_slice_queues_[h.pid]=new he,(p=this.section_slice_queues_[h.pid]).expected_length=q+3,p.file_position=h.file_position,p.random_access_indicator=h.random_access_indicator,L=new Uint8Array(s,r+j,Math.min(c-j,p.expected_length-p.total_length)),p.slices.push(L),p.total_length+=L.byteLength,p.total_length===p.expected_length?this.emitSectionSlices(p,h):p.total_length>=p.expected_length&&this.clearSlices(p,h),j+=L.byteLength}}else p!=null&&p.total_length!==0&&(L=new Uint8Array(s,r,Math.min(c,p.expected_length-p.total_length)),p.slices.push(L),p.total_length+=L.byteLength,p.total_length===p.expected_length?this.emitSectionSlices(p,h):p.total_length>=p.expected_length&&this.clearSlices(p,h))},l.prototype.handlePESSlice=function(s,r,c,h){var f=new Uint8Array(s,r,c),p=f[0]<<16|f[1]<<8|f[2],B=(f[3],f[4]<<8|f[5]);if(h.payload_unit_start_indicator){if(p!==1)return void y.a.e(this.TAG,"handlePESSlice: packet_start_code_prefix should be 1 but with value ".concat(p));var L=this.pes_slice_queues_[h.pid];L&&(L.expected_length===0||L.expected_length===L.total_length?this.emitPESSlices(L,h):this.clearSlices(L,h)),this.pes_slice_queues_[h.pid]=new he,this.pes_slice_queues_[h.pid].file_position=h.file_position,this.pes_slice_queues_[h.pid].random_access_indicator=h.random_access_indicator}if(this.pes_slice_queues_[h.pid]!=null){var j=this.pes_slice_queues_[h.pid];j.slices.push(f),h.payload_unit_start_indicator&&(j.expected_length=B===0?0:B+6),j.total_length+=f.byteLength,j.expected_length>0&&j.expected_length===j.total_length?this.emitPESSlices(j,h):j.expected_length>0&&j.expected_length<j.total_length&&this.clearSlices(j,h)}},l.prototype.emitSectionSlices=function(s,r){for(var c=new Uint8Array(s.total_length),h=0,f=0;h<s.slices.length;h++){var p=s.slices[h];c.set(p,f),f+=p.byteLength}s.slices=[],s.expected_length=-1,s.total_length=0;var B=new de;B.pid=r.pid,B.data=c,B.file_position=s.file_position,B.random_access_indicator=s.random_access_indicator,this.parseSection(B)},l.prototype.emitPESSlices=function(s,r){for(var c=new Uint8Array(s.total_length),h=0,f=0;h<s.slices.length;h++){var p=s.slices[h];c.set(p,f),f+=p.byteLength}s.slices=[],s.expected_length=-1,s.total_length=0;var B=new N;B.pid=r.pid,B.data=c,B.stream_type=r.stream_type,B.file_position=s.file_position,B.random_access_indicator=s.random_access_indicator,this.parsePES(B)},l.prototype.clearSlices=function(s,r){s.slices=[],s.expected_length=-1,s.total_length=0},l.prototype.parseSection=function(s){var r=s.data,c=s.pid;c===0?this.parsePAT(r):c===this.current_pmt_pid_?this.parsePMT(r):this.pmt_!=null&&this.pmt_.scte_35_pids[c]&&this.parseSCTE35(r)},l.prototype.parsePES=function(s){var r=s.data,c=r[0]<<16|r[1]<<8|r[2],h=r[3],f=r[4]<<8|r[5];if(c===1)if(h!==188&&h!==190&&h!==191&&h!==240&&h!==241&&h!==255&&h!==242&&h!==248){r[6];var p=(192&r[7])>>>6,B=r[8],L=void 0,j=void 0;p!==2&&p!==3||(L=this.getTimestamp(r,9),j=p===3?this.getTimestamp(r,14):L);var q=9+B,H=void 0;if(f!==0){if(f<3+B)return void y.a.v(this.TAG,"Malformed PES: PES_packet_length < 3 + PES_header_data_length");H=f-3-B}else H=r.byteLength-q;var Q=r.subarray(q,q+H);switch(s.stream_type){case A.kMPEG1Audio:case A.kMPEG2Audio:this.parseMP3Payload(Q,L);break;case A.kPESPrivateData:this.pmt_.common_pids.av1===s.pid?this.parseAV1Payload(Q,L,j,s.file_position,s.random_access_indicator):this.pmt_.common_pids.opus===s.pid?this.parseOpusPayload(Q,L):this.pmt_.common_pids.ac3===s.pid?this.parseAC3Payload(Q,L):this.pmt_.common_pids.eac3===s.pid?this.parseEAC3Payload(Q,L):this.pmt_.asynchronous_klv_pids[s.pid]?this.parseAsynchronousKLVMetadataPayload(Q,s.pid,h):this.pmt_.smpte2038_pids[s.pid]?this.parseSMPTE2038MetadataPayload(Q,L,j,s.pid,h):this.parsePESPrivateDataPayload(Q,L,j,s.pid,h);break;case A.kADTSAAC:this.parseADTSAACPayload(Q,L);break;case A.kLOASAAC:this.parseLOASAACPayload(Q,L);break;case A.kAC3:this.parseAC3Payload(Q,L);break;case A.kEAC3:this.parseEAC3Payload(Q,L);break;case A.kMetadata:this.pmt_.timed_id3_pids[s.pid]?this.parseTimedID3MetadataPayload(Q,L,j,s.pid,h):this.pmt_.synchronous_klv_pids[s.pid]&&this.parseSynchronousKLVMetadataPayload(Q,L,j,s.pid,h);break;case A.kH264:this.parseH264Payload(Q,L,j,s.file_position,s.random_access_indicator);break;case A.kH265:this.parseH265Payload(Q,L,j,s.file_position,s.random_access_indicator)}}else(h===188||h===191||h===240||h===241||h===255||h===242||h===248)&&s.stream_type===A.kPESPrivateData&&(q=6,H=void 0,H=f!==0?f:r.byteLength-q,Q=r.subarray(q,q+H),this.parsePESPrivateDataPayload(Q,void 0,void 0,s.pid,h));else y.a.e(this.TAG,"parsePES: packet_start_code_prefix should be 1 but with value ".concat(c))},l.prototype.parsePAT=function(s){var r=s[0];if(r===0){var c=(15&s[1])<<8|s[2],h=(s[3],s[4],(62&s[5])>>>1),f=1&s[5],p=s[6],B=(s[7],null);if(f===1&&p===0)(B=new xe).version_number=h;else if((B=this.pat_)==null)return;for(var L=c-5-4,j=-1,q=-1,H=8;H<8+L;H+=4){var Q=s[H]<<8|s[H+1],ue=(31&s[H+2])<<8|s[H+3];Q===0?B.network_pid=ue:(B.program_pmt_pid[Q]=ue,j===-1&&(j=Q),q===-1&&(q=ue))}f===1&&p===0&&(this.pat_==null&&y.a.v(this.TAG,"Parsed first PAT: ".concat(JSON.stringify(B))),this.pat_=B,this.current_program_=j,this.current_pmt_pid_=q)}else y.a.e(this.TAG,"parsePAT: table_id ".concat(r," is not corresponded to PAT!"))},l.prototype.parsePMT=function(s){var r=s[0];if(r===2){var c=(15&s[1])<<8|s[2],h=s[3]<<8|s[4],f=(62&s[5])>>>1,p=1&s[5],B=s[6],L=(s[7],null);if(p===1&&B===0)(L=new be).program_number=h,L.version_number=f,this.program_pmt_map_[h]=L;else if((L=this.program_pmt_map_[h])==null)return;L.pcr_pid=(31&s[8])<<8|s[9];for(var j=(15&s[10])<<8|s[11],q=12+j,H=c-9-j-4,Q=q;Q<q+H;){var ue=s[Q],Ae=(31&s[Q+1])<<8|s[Q+2],fe=(15&s[Q+3])<<8|s[Q+4];L.pid_stream_type[Ae]=ue;var De=L.common_pids.h264||L.common_pids.h265,Te=L.common_pids.adts_aac||L.common_pids.loas_aac||L.common_pids.ac3||L.common_pids.eac3||L.common_pids.opus||L.common_pids.mp3;if(ue!==A.kH264||De)if(ue!==A.kH265||De)if(ue!==A.kADTSAAC||Te)if(ue!==A.kLOASAAC||Te)if(ue!==A.kAC3||Te)if(ue!==A.kEAC3||Te)if(ue!==A.kMPEG1Audio&&ue!==A.kMPEG2Audio||Te)if(ue===A.kPESPrivateData){if(L.pes_private_data_pids[Ae]=!0,fe>0){for(var Re=Q+5;Re<Q+5+fe;){var ze=s[Re+0],He=s[Re+1];if(ze===5){var Ce=String.fromCharCode.apply(String,Array.from(s.subarray(Re+2,Re+2+He)));Ce==="VANC"?L.smpte2038_pids[Ae]=!0:Ce==="AV01"?L.common_pids.av1=Ae:Ce==="Opus"?L.common_pids.opus=Ae:Ce==="KLVA"&&(L.asynchronous_klv_pids[Ae]=!0)}else if(ze===127){if(Ae===L.common_pids.opus){var ke=null;if(s[Re+2]===128&&(ke=s[Re+3]),ke==null){y.a.e(this.TAG,"Not Supported Opus channel count.");continue}var Fe={codec:"opus",channel_count:(15&ke)==0?2:15&ke,channel_config_code:ke,sample_rate:48e3},je={codec:"opus",meta:Fe};this.audio_init_segment_dispatched_==0?(this.audio_metadata_=Fe,this.dispatchAudioInitSegment(je)):this.detectAudioMetadataChange(je)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(je))}}else ze===128&&Ae===L.common_pids.av1&&(this.video_metadata_.av1c=s.subarray(Re+2,Re+2+He));Re+=2+He}var Ue=s.subarray(Q+5,Q+5+fe);this.dispatchPESPrivateDataDescriptor(Ae,ue,Ue)}}else if(ue===A.kMetadata){if(fe>0)for(Re=Q+5;Re<Q+5+fe;){ze=s[Re+0];var Je=s[Re+1];if(ze===38){var rt=s[Re+2]<<8|s[Re+3]<<0,Ge=null;rt===65535&&(Ge=String.fromCharCode.apply(String,Array.from(s.subarray(Re+4,Re+4+4))));var Ke=null;if(s[Re+4+(rt===65535?4:0)]===255){var it=4+(rt===65535?4:0)+1;Ke=String.fromCharCode.apply(String,Array.from(s.subarray(Re+it,Re+it+4)))}Ge==="ID3 "&&Ke==="ID3 "?L.timed_id3_pids[Ae]=!0:Ke==="KLVA"&&(L.synchronous_klv_pids[Ae]=!0)}Re+=2+Je}}else ue===A.kSCTE35&&(L.scte_35_pids[Ae]=!0);else L.common_pids.mp3=Ae;else L.common_pids.eac3=Ae;else L.common_pids.ac3=Ae;else L.common_pids.loas_aac=Ae;else L.common_pids.adts_aac=Ae;else L.common_pids.h265=Ae;else L.common_pids.h264=Ae;Q+=5+fe}h===this.current_program_&&(this.pmt_==null&&y.a.v(this.TAG,"Parsed first PMT: ".concat(JSON.stringify(L))),this.pmt_=L,(L.common_pids.h264||L.common_pids.h265||L.common_pids.av1)&&(this.has_video_=!0),(L.common_pids.adts_aac||L.common_pids.loas_aac||L.common_pids.ac3||L.common_pids.opus||L.common_pids.mp3)&&(this.has_audio_=!0))}else y.a.e(this.TAG,"parsePMT: table_id ".concat(r," is not corresponded to PMT!"))},l.prototype.parseSCTE35=function(s){var r=Qt(s);if(r.pts!=null){var c=Math.floor(r.pts/this.timescale_);r.pts=c}else r.nearest_pts=this.getNearestTimestampMilliseconds();this.onSCTE35Metadata&&this.onSCTE35Metadata(r)},l.prototype.parseAV1Payload=function(s,r,c,h,f){for(var p=new kr(s),B=null,L=[],j=0,q=!1,H=null;(B=p.readNextOBUPayload())!=null;){if((H=E.parseOBUs(B,this.video_metadata_.details))&&H.keyframe===!0)if(this.video_init_segment_dispatched_){if(this.detectVideoMetadataChange(null,H)===!0){var Q;this.video_metadata_changed_=!0,this.dispatchVideoMediaSegment(),(Q=new Uint8Array(new ArrayBuffer(this.video_metadata_.av1c.byteLength+H.sequence_header_data.byteLength))).set(this.video_metadata_.av1c,0),Q.set(H.sequence_header_data,this.video_metadata_.av1c.byteLength),H.av1c=Q,this.dispatchVideoInitSegment()}}else(Q=new Uint8Array(new ArrayBuffer(this.video_metadata_.av1c.byteLength+H.sequence_header_data.byteLength))).set(this.video_metadata_.av1c,0),Q.set(H.sequence_header_data,this.video_metadata_.av1c.byteLength),H.av1c=Q,this.video_metadata_.details=H,this.dispatchVideoInitSegment();this.video_metadata_.details=H,q||(q=H.keyframe),L.push({data:B}),j+=B.byteLength}var ue=Math.floor(r/this.timescale_),Ae=Math.floor(c/this.timescale_);if(L.length){var fe=this.video_track_,De={units:L,length:j,isKeyframe:q,dts:Ae,pts:ue,cts:ue-Ae,file_position:h};fe.samples.push(De),fe.length+=j}},l.prototype.parseH264Payload=function(s,r,c,h,f){for(var p=new _e(s),B=null,L=[],j=0,q=!1;(B=p.readNextNaluPayload())!=null;){var H=new W(B);if(H.type===pe.kSliceSPS){var Q=J.parseSPS(B.data);this.video_init_segment_dispatched_?this.detectVideoMetadataChange(H,Q)===!0&&(y.a.v(this.TAG,"H264: Critical h264 metadata has been changed, attempt to re-generate InitSegment"),this.video_metadata_changed_=!0,this.video_metadata_={vps:void 0,sps:H,pps:void 0,av1c:void 0,details:Q}):(this.video_metadata_.sps=H,this.video_metadata_.details=Q)}else H.type===pe.kSlicePPS?this.video_init_segment_dispatched_&&!this.video_metadata_changed_||(this.video_metadata_.pps=H,this.video_metadata_.sps&&this.video_metadata_.pps&&(this.video_metadata_changed_&&this.dispatchVideoMediaSegment(),this.dispatchVideoInitSegment())):(H.type===pe.kSliceIDR||H.type===pe.kSliceNonIDR&&f===1)&&(q=!0);this.video_init_segment_dispatched_&&(L.push(H),j+=H.data.byteLength)}var ue=Math.floor(r/this.timescale_),Ae=Math.floor(c/this.timescale_);if(L.length){var fe=this.video_track_,De={units:L,length:j,isKeyframe:q,dts:Ae,pts:ue,cts:ue-Ae,file_position:h};fe.samples.push(De),fe.length+=j}},l.prototype.parseH265Payload=function(s,r,c,h,f){for(var p=new Xs(s),B=null,L=[],j=0,q=!1;(B=p.readNextNaluPayload())!=null;){var H=new Ks(B);if(H.type===_t.kSliceVPS){if(!this.video_init_segment_dispatched_){var Q=le.parseVPS(B.data);this.video_metadata_.vps=H,this.video_metadata_.details=va(va({},this.video_metadata_.details),Q)}}else H.type===_t.kSliceSPS?(Q=le.parseSPS(B.data),this.video_init_segment_dispatched_?this.detectVideoMetadataChange(H,Q)===!0&&(y.a.v(this.TAG,"H265: Critical h265 metadata has been changed, attempt to re-generate InitSegment"),this.video_metadata_changed_=!0,this.video_metadata_={vps:void 0,sps:H,pps:void 0,av1c:void 0,details:Q}):(this.video_metadata_.sps=H,this.video_metadata_.details=va(va({},this.video_metadata_.details),Q))):H.type===_t.kSlicePPS?(!this.video_init_segment_dispatched_||this.video_metadata_changed_)&&(Q=le.parsePPS(B.data),this.video_metadata_.pps=H,this.video_metadata_.details=va(va({},this.video_metadata_.details),Q),this.video_metadata_.vps&&this.video_metadata_.sps&&this.video_metadata_.pps&&(this.video_metadata_changed_&&this.dispatchVideoMediaSegment(),this.dispatchVideoInitSegment())):H.type!==_t.kSliceIDR_W_RADL&&H.type!==_t.kSliceIDR_N_LP&&H.type!==_t.kSliceCRA_NUT||(q=!0);this.video_init_segment_dispatched_&&(L.push(H),j+=H.data.byteLength)}var ue=Math.floor(r/this.timescale_),Ae=Math.floor(c/this.timescale_);if(L.length){var fe=this.video_track_,De={units:L,length:j,isKeyframe:q,dts:Ae,pts:ue,cts:ue-Ae,file_position:h};fe.samples.push(De),fe.length+=j}},l.prototype.detectVideoMetadataChange=function(s,r){if(r.codec_mimetype!==this.video_metadata_.details.codec_mimetype)return y.a.v(this.TAG,"Video: Codec mimeType changed from "+"".concat(this.video_metadata_.details.codec_mimetype," to ").concat(r.codec_mimetype)),!0;if(r.codec_size.width!==this.video_metadata_.details.codec_size.width||r.codec_size.height!==this.video_metadata_.details.codec_size.height){var c=this.video_metadata_.details.codec_size,h=r.codec_size;return y.a.v(this.TAG,"Video: Coded Resolution changed from "+"".concat(c.width,"x").concat(c.height," to ").concat(h.width,"x").concat(h.height)),!0}return r.present_size.width!==this.video_metadata_.details.present_size.width&&(y.a.v(this.TAG,"Video: Present resolution width changed from "+"".concat(this.video_metadata_.details.present_size.width," to ").concat(r.present_size.width)),!0)},l.prototype.isInitSegmentDispatched=function(){return this.has_video_&&this.has_audio_?this.video_init_segment_dispatched_&&this.audio_init_segment_dispatched_:this.has_video_&&!this.has_audio_?this.video_init_segment_dispatched_:!(this.has_video_||!this.has_audio_)&&this.audio_init_segment_dispatched_},l.prototype.dispatchVideoInitSegment=function(){var s=this.video_metadata_.details,r={type:"video"};r.id=this.video_track_.id,r.timescale=1e3,r.duration=this.duration_,r.codecWidth=s.codec_size.width,r.codecHeight=s.codec_size.height,r.presentWidth=s.present_size.width,r.presentHeight=s.present_size.height,r.profile=s.profile_string,r.level=s.level_string,r.bitDepth=s.bit_depth,r.chromaFormat=s.chroma_format,r.sarRatio=s.sar_ratio,r.frameRate=s.frame_rate;var c=r.frameRate.fps_den,h=r.frameRate.fps_num;if(r.refSampleDuration=c/h*1e3,r.codec=s.codec_mimetype,this.video_metadata_.av1c)r.av1c=this.video_metadata_.av1c,this.video_init_segment_dispatched_==0&&y.a.v(this.TAG,"Generated first AV1 for mimeType: ".concat(r.codec));else if(this.video_metadata_.vps){var f=this.video_metadata_.vps.data.subarray(4),p=this.video_metadata_.sps.data.subarray(4),B=this.video_metadata_.pps.data.subarray(4),L=new Zi(f,p,B,s);r.hvcc=L.getData(),this.video_init_segment_dispatched_==0&&y.a.v(this.TAG,"Generated first HEVCDecoderConfigurationRecord for mimeType: ".concat(r.codec))}else{p=this.video_metadata_.sps.data.subarray(4),B=this.video_metadata_.pps.data.subarray(4);var j=new Se(p,B,s);r.avcc=j.getData(),this.video_init_segment_dispatched_==0&&y.a.v(this.TAG,"Generated first AVCDecoderConfigurationRecord for mimeType: ".concat(r.codec))}this.onTrackMetadata("video",r),this.video_init_segment_dispatched_=!0,this.video_metadata_changed_=!1;var q=this.media_info_;q.hasVideo=!0,q.width=r.codecWidth,q.height=r.codecHeight,q.fps=r.frameRate.fps,q.profile=r.profile,q.level=r.level,q.refFrames=s.ref_frames,q.chromaFormat=s.chroma_format_string,q.sarNum=r.sarRatio.width,q.sarDen=r.sarRatio.height,q.videoCodec=r.codec,q.hasAudio&&q.audioCodec?q.mimeType='video/mp2t; codecs="'.concat(q.videoCodec,",").concat(q.audioCodec,'"'):q.mimeType='video/mp2t; codecs="'.concat(q.videoCodec,'"'),q.isComplete()&&this.onMediaInfo(q)},l.prototype.dispatchVideoMediaSegment=function(){this.isInitSegmentDispatched()&&this.video_track_.length&&this.onDataAvailable(null,this.video_track_)},l.prototype.dispatchAudioMediaSegment=function(){this.isInitSegmentDispatched()&&this.audio_track_.length&&this.onDataAvailable(this.audio_track_,null)},l.prototype.dispatchAudioVideoMediaSegment=function(){this.isInitSegmentDispatched()&&(this.audio_track_.length||this.video_track_.length)&&this.onDataAvailable(this.audio_track_,this.video_track_)},l.prototype.parseADTSAACPayload=function(s,r){if(!this.has_video_||this.video_init_segment_dispatched_){if(this.aac_last_incomplete_data_){var c=new Uint8Array(s.byteLength+this.aac_last_incomplete_data_.byteLength);c.set(this.aac_last_incomplete_data_,0),c.set(s,this.aac_last_incomplete_data_.byteLength),s=c}var h,f;if(r!=null&&(f=r/this.timescale_),this.audio_metadata_.codec==="aac"){if(r==null&&this.audio_last_sample_pts_!=null)h=1024/this.audio_metadata_.sampling_frequency*1e3,f=this.audio_last_sample_pts_+h;else if(r==null)return void y.a.w(this.TAG,"AAC: Unknown pts");if(this.aac_last_incomplete_data_&&this.audio_last_sample_pts_){h=1024/this.audio_metadata_.sampling_frequency*1e3;var p=this.audio_last_sample_pts_+h;Math.abs(p-f)>1&&(y.a.w(this.TAG,"AAC: Detected pts overlapped, "+"expected: ".concat(p,"ms, PES pts: ").concat(f,"ms")),f=p)}}for(var B,L=new Ve(s),j=null,q=f;(j=L.readNextAACFrame())!=null;){h=1024/j.sampling_frequency*1e3;var H={codec:"aac",data:j};this.audio_init_segment_dispatched_==0?(this.audio_metadata_={codec:"aac",audio_object_type:j.audio_object_type,sampling_freq_index:j.sampling_freq_index,sampling_frequency:j.sampling_frequency,channel_config:j.channel_config},this.dispatchAudioInitSegment(H)):this.detectAudioMetadataChange(H)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(H)),B=q;var Q=Math.floor(q),ue={unit:j.data,length:j.data.byteLength,pts:Q,dts:Q};this.audio_track_.samples.push(ue),this.audio_track_.length+=j.data.byteLength,q+=h}L.hasIncompleteData()&&(this.aac_last_incomplete_data_=L.getIncompleteData()),B&&(this.audio_last_sample_pts_=B)}},l.prototype.parseLOASAACPayload=function(s,r){var c;if(!this.has_video_||this.video_init_segment_dispatched_){if(this.aac_last_incomplete_data_){var h=new Uint8Array(s.byteLength+this.aac_last_incomplete_data_.byteLength);h.set(this.aac_last_incomplete_data_,0),h.set(s,this.aac_last_incomplete_data_.byteLength),s=h}var f,p;if(r!=null&&(p=r/this.timescale_),this.audio_metadata_.codec==="aac"){if(r==null&&this.audio_last_sample_pts_!=null)f=1024/this.audio_metadata_.sampling_frequency*1e3,p=this.audio_last_sample_pts_+f;else if(r==null)return void y.a.w(this.TAG,"AAC: Unknown pts");if(this.aac_last_incomplete_data_&&this.audio_last_sample_pts_){f=1024/this.audio_metadata_.sampling_frequency*1e3;var B=this.audio_last_sample_pts_+f;Math.abs(B-p)>1&&(y.a.w(this.TAG,"AAC: Detected pts overlapped, "+"expected: ".concat(B,"ms, PES pts: ").concat(p,"ms")),p=B)}}for(var L,j=new Qe(s),q=null,H=p;(q=j.readNextAACFrame((c=this.loas_previous_frame)!==null&&c!==void 0?c:void 0))!=null;){this.loas_previous_frame=q,f=1024/q.sampling_frequency*1e3;var Q={codec:"aac",data:q};this.audio_init_segment_dispatched_==0?(this.audio_metadata_={codec:"aac",audio_object_type:q.audio_object_type,sampling_freq_index:q.sampling_freq_index,sampling_frequency:q.sampling_frequency,channel_config:q.channel_config},this.dispatchAudioInitSegment(Q)):this.detectAudioMetadataChange(Q)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(Q)),L=H;var ue=Math.floor(H),Ae={unit:q.data,length:q.data.byteLength,pts:ue,dts:ue};this.audio_track_.samples.push(Ae),this.audio_track_.length+=q.data.byteLength,H+=f}j.hasIncompleteData()&&(this.aac_last_incomplete_data_=j.getIncompleteData()),L&&(this.audio_last_sample_pts_=L)}},l.prototype.parseAC3Payload=function(s,r){if(!this.has_video_||this.video_init_segment_dispatched_){var c,h;if(r!=null&&(h=r/this.timescale_),this.audio_metadata_.codec==="ac-3"){if(r==null&&this.audio_last_sample_pts_!=null)c=1536/this.audio_metadata_.sampling_frequency*1e3,h=this.audio_last_sample_pts_+c;else if(r==null)return void y.a.w(this.TAG,"AC3: Unknown pts")}for(var f,p=new Qs(s),B=null,L=h;(B=p.readNextAC3Frame())!=null;){c=1536/B.sampling_frequency*1e3;var j={codec:"ac-3",data:B};this.audio_init_segment_dispatched_==0?(this.audio_metadata_={codec:"ac-3",sampling_frequency:B.sampling_frequency,bit_stream_identification:B.bit_stream_identification,bit_stream_mode:B.bit_stream_mode,low_frequency_effects_channel_on:B.low_frequency_effects_channel_on,channel_mode:B.channel_mode},this.dispatchAudioInitSegment(j)):this.detectAudioMetadataChange(j)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(j)),f=L;var q=Math.floor(L),H={unit:B.data,length:B.data.byteLength,pts:q,dts:q};this.audio_track_.samples.push(H),this.audio_track_.length+=B.data.byteLength,L+=c}f&&(this.audio_last_sample_pts_=f)}},l.prototype.parseEAC3Payload=function(s,r){if(!this.has_video_||this.video_init_segment_dispatched_){var c,h;if(r!=null&&(h=r/this.timescale_),this.audio_metadata_.codec==="ec-3"){if(r==null&&this.audio_last_sample_pts_!=null)c=256*this.audio_metadata_.num_blks/this.audio_metadata_.sampling_frequency*1e3,h=this.audio_last_sample_pts_+c;else if(r==null)return void y.a.w(this.TAG,"EAC3: Unknown pts")}for(var f,p=new Bn(s),B=null,L=h;(B=p.readNextEAC3Frame())!=null;){c=1536/B.sampling_frequency*1e3;var j={codec:"ec-3",data:B};this.audio_init_segment_dispatched_==0?(this.audio_metadata_={codec:"ec-3",sampling_frequency:B.sampling_frequency,bit_stream_identification:B.bit_stream_identification,low_frequency_effects_channel_on:B.low_frequency_effects_channel_on,num_blks:B.num_blks,channel_mode:B.channel_mode},this.dispatchAudioInitSegment(j)):this.detectAudioMetadataChange(j)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(j)),f=L;var q=Math.floor(L),H={unit:B.data,length:B.data.byteLength,pts:q,dts:q};this.audio_track_.samples.push(H),this.audio_track_.length+=B.data.byteLength,L+=c}f&&(this.audio_last_sample_pts_=f)}},l.prototype.parseOpusPayload=function(s,r){if(!this.has_video_||this.video_init_segment_dispatched_){var c,h;if(r!=null&&(h=r/this.timescale_),this.audio_metadata_.codec==="opus"){if(r==null&&this.audio_last_sample_pts_!=null)c=20,h=this.audio_last_sample_pts_+c;else if(r==null)return void y.a.w(this.TAG,"Opus: Unknown pts")}for(var f,p=h,B=0;B<s.length;){c=20;for(var L=(16&s[B+1])!=0,j=(8&s[B+1])!=0,q=B+2,H=0;s[q]===255;)H+=255,q+=1;H+=s[q],q+=1,q+=L?2:0,q+=j?2:0,f=p;var Q=Math.floor(p),ue=s.slice(q,q+H),Ae={unit:ue,length:ue.byteLength,pts:Q,dts:Q};this.audio_track_.samples.push(Ae),this.audio_track_.length+=ue.byteLength,p+=c,B=q+H}f&&(this.audio_last_sample_pts_=f)}},l.prototype.parseMP3Payload=function(s,r){if(!this.has_video_||this.video_init_segment_dispatched_){var c=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],h=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],f=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],p=s[1]>>>3&3,B=(6&s[1])>>1,L=(240&s[2])>>>4,j=(12&s[2])>>>2,q=(s[3]>>>6&3)!==3?2:1,H=0,Q=34;switch(p){case 0:H=[11025,12e3,8e3,0][j];break;case 2:H=[22050,24e3,16e3,0][j];break;case 3:H=[44100,48e3,32e3,0][j]}switch(B){case 1:Q=34,L<f.length&&f[L];break;case 2:Q=33,L<h.length&&h[L];break;case 3:Q=32,L<c.length&&c[L]}var ue=new Ba;ue.object_type=Q,ue.sample_rate=H,ue.channel_count=q,ue.data=s;var Ae={codec:"mp3",data:ue};this.audio_init_segment_dispatched_==0?(this.audio_metadata_={codec:"mp3",object_type:Q,sample_rate:H,channel_count:q},this.dispatchAudioInitSegment(Ae)):this.detectAudioMetadataChange(Ae)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(Ae));var fe={unit:s,length:s.byteLength,pts:r/this.timescale_,dts:r/this.timescale_};this.audio_track_.samples.push(fe),this.audio_track_.length+=s.byteLength}},l.prototype.detectAudioMetadataChange=function(s){if(s.codec!==this.audio_metadata_.codec)return y.a.v(this.TAG,"Audio: Audio Codecs changed from "+"".concat(this.audio_metadata_.codec," to ").concat(s.codec)),!0;if(s.codec==="aac"&&this.audio_metadata_.codec==="aac"){if((r=s.data).audio_object_type!==this.audio_metadata_.audio_object_type)return y.a.v(this.TAG,"AAC: AudioObjectType changed from "+"".concat(this.audio_metadata_.audio_object_type," to ").concat(r.audio_object_type)),!0;if(r.sampling_freq_index!==this.audio_metadata_.sampling_freq_index)return y.a.v(this.TAG,"AAC: SamplingFrequencyIndex changed from "+"".concat(this.audio_metadata_.sampling_freq_index," to ").concat(r.sampling_freq_index)),!0;if(r.channel_config!==this.audio_metadata_.channel_config)return y.a.v(this.TAG,"AAC: Channel configuration changed from "+"".concat(this.audio_metadata_.channel_config," to ").concat(r.channel_config)),!0}else if(s.codec==="ac-3"&&this.audio_metadata_.codec==="ac-3"){var r;if((r=s.data).sampling_frequency!==this.audio_metadata_.sampling_frequency)return y.a.v(this.TAG,"AC3: Sampling Frequency changed from "+"".concat(this.audio_metadata_.sampling_frequency," to ").concat(r.sampling_frequency)),!0;if(r.bit_stream_identification!==this.audio_metadata_.bit_stream_identification)return y.a.v(this.TAG,"AC3: Bit Stream Identification changed from "+"".concat(this.audio_metadata_.bit_stream_identification," to ").concat(r.bit_stream_identification)),!0;if(r.bit_stream_mode!==this.audio_metadata_.bit_stream_mode)return y.a.v(this.TAG,"AC3: BitStream Mode changed from "+"".concat(this.audio_metadata_.bit_stream_mode," to ").concat(r.bit_stream_mode)),!0;if(r.channel_mode!==this.audio_metadata_.channel_mode)return y.a.v(this.TAG,"AC3: Channel Mode changed from "+"".concat(this.audio_metadata_.channel_mode," to ").concat(r.channel_mode)),!0;if(r.low_frequency_effects_channel_on!==this.audio_metadata_.low_frequency_effects_channel_on)return y.a.v(this.TAG,"AC3: Low Frequency Effects Channel On changed from "+"".concat(this.audio_metadata_.low_frequency_effects_channel_on," to ").concat(r.low_frequency_effects_channel_on)),!0}else if(s.codec==="opus"&&this.audio_metadata_.codec==="opus"){if((c=s.meta).sample_rate!==this.audio_metadata_.sample_rate)return y.a.v(this.TAG,"Opus: SamplingFrequencyIndex changed from "+"".concat(this.audio_metadata_.sample_rate," to ").concat(c.sample_rate)),!0;if(c.channel_count!==this.audio_metadata_.channel_count)return y.a.v(this.TAG,"Opus: Channel count changed from "+"".concat(this.audio_metadata_.channel_count," to ").concat(c.channel_count)),!0}else if(s.codec==="mp3"&&this.audio_metadata_.codec==="mp3"){var c;if((c=s.data).object_type!==this.audio_metadata_.object_type)return y.a.v(this.TAG,"MP3: AudioObjectType changed from "+"".concat(this.audio_metadata_.object_type," to ").concat(c.object_type)),!0;if(c.sample_rate!==this.audio_metadata_.sample_rate)return y.a.v(this.TAG,"MP3: SamplingFrequencyIndex changed from "+"".concat(this.audio_metadata_.sample_rate," to ").concat(c.sample_rate)),!0;if(c.channel_count!==this.audio_metadata_.channel_count)return y.a.v(this.TAG,"MP3: Channel count changed from "+"".concat(this.audio_metadata_.channel_count," to ").concat(c.channel_count)),!0}return!1},l.prototype.dispatchAudioInitSegment=function(s){var r={type:"audio"};if(r.id=this.audio_track_.id,r.timescale=1e3,r.duration=this.duration_,this.audio_metadata_.codec==="aac"){var c=s.codec==="aac"?s.data:null,h=new bt(c);r.audioSampleRate=h.sampling_rate,r.channelCount=h.channel_count,r.codec=h.codec_mimetype,r.originalCodec=h.original_codec_mimetype,r.config=h.config,r.refSampleDuration=1024/r.audioSampleRate*r.timescale}else if(this.audio_metadata_.codec==="ac-3"){var f=s.codec==="ac-3"?s.data:null,p=new Lr(f);r.audioSampleRate=p.sampling_rate,r.channelCount=p.channel_count,r.codec=p.codec_mimetype,r.originalCodec=p.original_codec_mimetype,r.config=p.config,r.refSampleDuration=1536/r.audioSampleRate*r.timescale}else if(this.audio_metadata_.codec==="ec-3"){var B=s.codec==="ec-3"?s.data:null,L=new Ei(B);r.audioSampleRate=L.sampling_rate,r.channelCount=L.channel_count,r.codec=L.codec_mimetype,r.originalCodec=L.original_codec_mimetype,r.config=L.config,r.refSampleDuration=256*L.num_blks/r.audioSampleRate*r.timescale}else this.audio_metadata_.codec==="opus"?(r.audioSampleRate=this.audio_metadata_.sample_rate,r.channelCount=this.audio_metadata_.channel_count,r.channelConfigCode=this.audio_metadata_.channel_config_code,r.codec="opus",r.originalCodec="opus",r.config=void 0,r.refSampleDuration=20):this.audio_metadata_.codec==="mp3"&&(r.audioSampleRate=this.audio_metadata_.sample_rate,r.channelCount=this.audio_metadata_.channel_count,r.codec="mp3",r.originalCodec="mp3",r.config=void 0);this.audio_init_segment_dispatched_==0&&y.a.v(this.TAG,"Generated first AudioSpecificConfig for mimeType: ".concat(r.codec)),this.onTrackMetadata("audio",r),this.audio_init_segment_dispatched_=!0,this.video_metadata_changed_=!1;var j=this.media_info_;j.hasAudio=!0,j.audioCodec=r.originalCodec,j.audioSampleRate=r.audioSampleRate,j.audioChannelCount=r.channelCount,j.hasVideo&&j.videoCodec?j.mimeType='video/mp2t; codecs="'.concat(j.videoCodec,",").concat(j.audioCodec,'"'):j.mimeType='video/mp2t; codecs="'.concat(j.audioCodec,'"'),j.isComplete()&&this.onMediaInfo(j)},l.prototype.dispatchPESPrivateDataDescriptor=function(s,r,c){var h=new ua;h.pid=s,h.stream_type=r,h.descriptor=c,this.onPESPrivateDataDescriptor&&this.onPESPrivateDataDescriptor(h)},l.prototype.parsePESPrivateDataPayload=function(s,r,c,h,f){var p=new xt;if(p.pid=h,p.stream_id=f,p.len=s.byteLength,p.data=s,r!=null){var B=Math.floor(r/this.timescale_);p.pts=B}else p.nearest_pts=this.getNearestTimestampMilliseconds();if(c!=null){var L=Math.floor(c/this.timescale_);p.dts=L}this.onPESPrivateData&&this.onPESPrivateData(p)},l.prototype.parseTimedID3MetadataPayload=function(s,r,c,h,f){var p=new xt;if(p.pid=h,p.stream_id=f,p.len=s.byteLength,p.data=s,r!=null){var B=Math.floor(r/this.timescale_);p.pts=B}if(c!=null){var L=Math.floor(c/this.timescale_);p.dts=L}this.onTimedID3Metadata&&this.onTimedID3Metadata(p)},l.prototype.parseSynchronousKLVMetadataPayload=function(s,r,c,h,f){var p=new Zs;if(p.pid=h,p.stream_id=f,p.len=s.byteLength,p.data=s,r!=null){var B=Math.floor(r/this.timescale_);p.pts=B}if(c!=null){var L=Math.floor(c/this.timescale_);p.dts=L}p.access_units=(function(j){for(var q=[],H=0;H+5<j.byteLength;){var Q=j[H+0],ue=j[H+1],Ae=j[H+2],fe=j[H+3]<<8|j[H+4]<<0,De=j.slice(H+5,H+5+fe);q.push({service_id:Q,sequence_number:ue,flags:Ae,data:De}),H+=5+fe}return q})(s),this.onSynchronousKLVMetadata&&this.onSynchronousKLVMetadata(p)},l.prototype.parseAsynchronousKLVMetadataPayload=function(s,r,c){var h=new xt;h.pid=r,h.stream_id=c,h.len=s.byteLength,h.data=s,this.onAsynchronousKLVMetadata&&this.onAsynchronousKLVMetadata(h)},l.prototype.parseSMPTE2038MetadataPayload=function(s,r,c,h,f){var p=new Wi;if(p.pid=h,p.stream_id=f,p.len=s.byteLength,p.data=s,r!=null){var B=Math.floor(r/this.timescale_);p.pts=B}if(p.nearest_pts=this.getNearestTimestampMilliseconds(),c!=null){var L=Math.floor(c/this.timescale_);p.dts=L}p.ancillaries=(function(j){for(var q=new K(j),H=0,Q=[];H+=6,q.readBits(6)===0;){var ue=q.readBool();H+=1;var Ae=q.readBits(11);H+=11;var fe=q.readBits(12);H+=12;var De=255&q.readBits(10);H+=10;var Te=255&q.readBits(10);H+=10;var Re=255&q.readBits(10);H+=10;for(var ze=new Uint8Array(Re),He=0;He<Re;He++){var Ce=255&q.readBits(10);H+=10,ze[He]=Ce}q.readBits(10),H+=10;var ke="User Defined";De===65?Te===7&&(ke="SCTE-104"):De===95?Te===220?ke="ARIB STD-B37 (1SEG)":Te===221?ke="ARIB STD-B37 (ANALOG)":Te===222?ke="ARIB STD-B37 (SD)":Te===223&&(ke="ARIB STD-B37 (HD)"):De===97&&(Te===1?ke="EIA-708":Te===2&&(ke="EIA-608")),Q.push({yc_indicator:ue,line_number:Ae,horizontal_offset:fe,did:De,sdid:Te,user_data:ze,description:ke,information:{}}),q.readBits(8-(H-Math.floor(H/8))%8),H+=(8-(H-Math.floor(H/8)))%8}return q.destroy(),q=null,Q})(s),this.onSMPTE2038Metadata&&this.onSMPTE2038Metadata(p)},l.prototype.getNearestTimestampMilliseconds=function(){return this.audio_last_sample_pts_!=null?Math.floor(this.audio_last_sample_pts_):this.last_pcr_!=null?Math.floor(this.last_pcr_/300/this.timescale_):void 0},l.prototype.getPcrBase=function(s){var r=33554432*s[6]+131072*s[7]+512*s[8]+2*s[9]+(128&s[10])/128+this.timestamp_offset_;return r+4294967296<this.last_pcr_base_&&(r+=8589934592,this.timestamp_offset_+=8589934592),this.last_pcr_base_=r,r},l.prototype.getTimestamp=function(s,r){var c=536870912*(14&s[r])+4194304*(255&s[r+1])+16384*(254&s[r+2])+128*(255&s[r+3])+(254&s[r+4])/2+this.timestamp_offset_;return c+4294967296<this.last_pcr_base_&&(c+=8589934592),c},l})(oe),kn=function(u,l,s){for(var r,c=0,h=l.length;c<h;c++)!r&&c in l||(r||(r=Array.prototype.slice.call(l,0,c)),r[c]=l[c]);return u.concat(r||Array.prototype.slice.call(l))},Nr=(function(){function u(){}return u.init=function(){for(var l in u.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],hvc1:[],hvcC:[],av01:[],av1C:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[],Opus:[],dOps:[],"ac-3":[],dac3:[],"ec-3":[],dec3:[],fLaC:[],dfLa:[]},u.types)u.types.hasOwnProperty(l)&&(u.types[l]=[l.charCodeAt(0),l.charCodeAt(1),l.charCodeAt(2),l.charCodeAt(3)]);var s=u.constants={};s.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),s.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),s.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),s.STSC=s.STCO=s.STTS,s.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),s.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),s.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),s.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),s.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),s.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},u.box=function(l){for(var s=8,r=null,c=Array.prototype.slice.call(arguments,1),h=c.length,f=0;f<h;f++)s+=c[f].byteLength;(r=new Uint8Array(s))[0]=s>>>24&255,r[1]=s>>>16&255,r[2]=s>>>8&255,r[3]=255&s,r.set(l,4);var p=8;for(f=0;f<h;f++)r.set(c[f],p),p+=c[f].byteLength;return r},u.generateInitSegment=function(l){var s=u.box(u.types.ftyp,u.constants.FTYP),r=u.moov(l),c=new Uint8Array(s.byteLength+r.byteLength);return c.set(s,0),c.set(r,s.byteLength),c},u.moov=function(l){var s=u.mvhd(l.timescale,l.duration),r=u.trak(l),c=u.mvex(l);return u.box(u.types.moov,s,r,c)},u.mvhd=function(l,s){return u.box(u.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,255&l,s>>>24&255,s>>>16&255,s>>>8&255,255&s,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},u.trak=function(l){return u.box(u.types.trak,u.tkhd(l),u.mdia(l))},u.tkhd=function(l){var s=l.id,r=l.duration,c=l.presentWidth,h=l.presentHeight;return u.box(u.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,c>>>8&255,255&c,0,0,h>>>8&255,255&h,0,0]))},u.mdia=function(l){return u.box(u.types.mdia,u.mdhd(l),u.hdlr(l),u.minf(l))},u.mdhd=function(l){var s=l.timescale,r=l.duration;return u.box(u.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,r>>>24&255,r>>>16&255,r>>>8&255,255&r,85,196,0,0]))},u.hdlr=function(l){var s=null;return s=l.type==="audio"?u.constants.HDLR_AUDIO:u.constants.HDLR_VIDEO,u.box(u.types.hdlr,s)},u.minf=function(l){var s=null;return s=l.type==="audio"?u.box(u.types.smhd,u.constants.SMHD):u.box(u.types.vmhd,u.constants.VMHD),u.box(u.types.minf,s,u.dinf(),u.stbl(l))},u.dinf=function(){return u.box(u.types.dinf,u.box(u.types.dref,u.constants.DREF))},u.stbl=function(l){return u.box(u.types.stbl,u.stsd(l),u.box(u.types.stts,u.constants.STTS),u.box(u.types.stsc,u.constants.STSC),u.box(u.types.stsz,u.constants.STSZ),u.box(u.types.stco,u.constants.STCO))},u.stsd=function(l){return l.type==="audio"?l.codec==="mp3"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp3(l)):l.codec==="ac-3"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.ac3(l)):l.codec==="ec-3"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.ec3(l)):l.codec==="opus"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.Opus(l)):l.codec=="flac"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.fLaC(l)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp4a(l)):l.type==="video"&&l.codec.startsWith("hvc1")?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.hvc1(l)):l.type==="video"&&l.codec.startsWith("av01")?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.av01(l)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.avc1(l))},u.mp3=function(l){var s=l.channelCount,r=l.audioSampleRate,c=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,s,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return u.box(u.types[".mp3"],c)},u.mp4a=function(l){var s=l.channelCount,r=l.audioSampleRate,c=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,s,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return u.box(u.types.mp4a,c,u.esds(l))},u.ac3=function(l){var s=l.channelCount,r=l.audioSampleRate,c=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,s,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return u.box(u.types["ac-3"],c,u.box(u.types.dac3,new Uint8Array(l.config)))},u.ec3=function(l){var s=l.channelCount,r=l.audioSampleRate,c=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,s,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return u.box(u.types["ec-3"],c,u.box(u.types.dec3,new Uint8Array(l.config)))},u.esds=function(l){var s=l.config||[],r=s.length,c=new Uint8Array([0,0,0,0,3,23+r,0,1,0,4,15+r,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([r]).concat(s).concat([6,1,2]));return u.box(u.types.esds,c)},u.Opus=function(l){var s=l.channelCount,r=l.audioSampleRate,c=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,s,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return u.box(u.types.Opus,c,u.dOps(l))},u.dOps=function(l){var s=l.channelCount,r=l.channelConfigCode,c=l.audioSampleRate;if(l.config)return u.box(u.types.dOps,l.config);var h=[];switch(r){case 1:case 2:h=[0];break;case 0:h=[255,1,1,0,1];break;case 128:h=[255,2,0,0,1];break;case 3:h=[1,2,1,0,2,1];break;case 4:h=[1,2,2,0,1,2,3];break;case 5:h=[1,3,2,0,4,1,2,3];break;case 6:h=[1,4,2,0,4,1,2,3,5];break;case 7:h=[1,4,2,0,4,1,2,3,5,6];break;case 8:h=[1,5,3,0,6,1,2,3,4,5,7];break;case 130:h=[1,1,2,0,1];break;case 131:h=[1,1,3,0,1,2];break;case 132:h=[1,1,4,0,1,2,3];break;case 133:h=[1,1,5,0,1,2,3,4];break;case 134:h=[1,1,6,0,1,2,3,4,5];break;case 135:h=[1,1,7,0,1,2,3,4,5,6];break;case 136:h=[1,1,8,0,1,2,3,4,5,6,7]}var f=new Uint8Array(kn([0,s,0,0,c>>>24&255,c>>>17&255,c>>>8&255,c>>>0&255,0,0],h));return u.box(u.types.dOps,f)},u.fLaC=function(l){var s=l.channelCount,r=Math.min(l.audioSampleRate,65535),c=l.sampleSize,h=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,s,0,c,0,0,0,0,r>>>8&255,255&r,0,0]);return u.box(u.types.fLaC,h,u.dfLa(l))},u.dfLa=function(l){var s=new Uint8Array(kn([0,0,0,0],l.config));return u.box(u.types.dfLa,s)},u.avc1=function(l){var s=l.avcc,r=l.codecWidth,c=l.codecHeight,h=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r>>>8&255,255&r,c>>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return u.box(u.types.avc1,h,u.box(u.types.avcC,s))},u.hvc1=function(l){var s=l.hvcc,r=l.codecWidth,c=l.codecHeight,h=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r>>>8&255,255&r,c>>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return u.box(u.types.hvc1,h,u.box(u.types.hvcC,s))},u.av01=function(l){var s=l.av1c,r=l.codecWidth||192,c=l.codecHeight||108,h=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r>>>8&255,255&r,c>>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return u.box(u.types.av01,h,u.box(u.types.av1C,s))},u.mvex=function(l){return u.box(u.types.mvex,u.trex(l))},u.trex=function(l){var s=l.id,r=new Uint8Array([0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return u.box(u.types.trex,r)},u.moof=function(l,s){return u.box(u.types.moof,u.mfhd(l.sequenceNumber),u.traf(l,s))},u.mfhd=function(l){var s=new Uint8Array([0,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,255&l]);return u.box(u.types.mfhd,s)},u.traf=function(l,s){var r=l.id,c=u.box(u.types.tfhd,new Uint8Array([0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r])),h=u.box(u.types.tfdt,new Uint8Array([0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),f=u.sdtp(l),p=u.trun(l,f.byteLength+16+16+8+16+8+8);return u.box(u.types.traf,c,h,p,f)},u.sdtp=function(l){for(var s=l.samples||[],r=s.length,c=new Uint8Array(4+r),h=0;h<r;h++){var f=s[h].flags;c[h+4]=f.isLeading<<6|f.dependsOn<<4|f.isDependedOn<<2|f.hasRedundancy}return u.box(u.types.sdtp,c)},u.trun=function(l,s){var r=l.samples||[],c=r.length,h=12+16*c,f=new Uint8Array(h);s+=8+h,f.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,s>>>24&255,s>>>16&255,s>>>8&255,255&s],0);for(var p=0;p<c;p++){var B=r[p].duration,L=r[p].size,j=r[p].flags,q=r[p].cts;f.set([B>>>24&255,B>>>16&255,B>>>8&255,255&B,L>>>24&255,L>>>16&255,L>>>8&255,255&L,j.isLeading<<2|j.dependsOn,j.isDependedOn<<6|j.hasRedundancy<<4|j.isNonSync,0,0,q>>>24&255,q>>>16&255,q>>>8&255,255&q],12+16*p)}return u.box(u.types.trun,f)},u.mdat=function(l){return u.box(u.types.mdat,l)},u})();Nr.init();var Zt=Nr,Lt=(function(){function u(){}return u.getSilentFrame=function(l,s){if(l==="mp4a.40.2"){if(s===1)return new Uint8Array([0,200,0,128,35,128]);if(s===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(s===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(s===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(s===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(s===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(s===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(s===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(s===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},u})(),pt=x(11),ka=(function(){function u(l){this.TAG="MP4Remuxer",this._config=l,this._isLive=l.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new pt.c("audio"),this._videoSegmentInfoList=new pt.c("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!g.a.chrome||!(g.a.version.major<50||g.a.version.major===50&&g.a.version.build<2661)),this._fillSilentAfterSeek=g.a.msedge||g.a.msie,this._mp3UseMpegAudio=!g.a.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return u.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},u.prototype.bindDataSource=function(l){return l.onDataAvailable=this.remux.bind(this),l.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(u.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(l){this._onInitSegment=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(l){this._onMediaSegment=l},enumerable:!1,configurable:!0}),u.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},u.prototype.seek=function(l){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},u.prototype.remux=function(l,s){if(!this._onMediaSegment)throw new z.a("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(l,s),s&&this._remuxVideo(s),l&&this._remuxAudio(l)},u.prototype._onTrackMetadataReceived=function(l,s){var r=null,c="mp4",h=s.codec;if(l==="audio")this._audioMeta=s,s.codec==="mp3"&&this._mp3UseMpegAudio?(c="mpeg",h="",r=new Uint8Array):r=Zt.generateInitSegment(s);else{if(l!=="video")return;this._videoMeta=s,r=Zt.generateInitSegment(s)}if(!this._onInitSegment)throw new z.a("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(l,{type:l,data:r.buffer,codec:h,container:"".concat(l,"/").concat(c),mediaDuration:s.duration})},u.prototype._calculateDtsBase=function(l,s){this._dtsBaseInited||(l&&l.samples&&l.samples.length&&(this._audioDtsBase=l.samples[0].dts),s&&s.samples&&s.samples.length&&(this._videoDtsBase=s.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},u.prototype.getTimestampBase=function(){if(this._dtsBaseInited)return this._dtsBase},u.prototype.flushStashedSamples=function(){var l=this._videoStashedLastSample,s=this._audioStashedLastSample,r={type:"video",id:1,sequenceNumber:0,samples:[],length:0};l!=null&&(r.samples.push(l),r.length=l.length);var c={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};s!=null&&(c.samples.push(s),c.length=s.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(r,!0),this._remuxAudio(c,!0)},u.prototype._remuxAudio=function(l,s){if(this._audioMeta!=null){var r,c=l,h=c.samples,f=void 0,p=-1,B=this._audioMeta.refSampleDuration,L=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,j=this._dtsBaseInited&&this._audioNextDts===void 0,q=!1;if(h&&h.length!==0&&(h.length!==1||s)){var H=0,Q=null,ue=0;L?(H=0,ue=c.length):(H=8,ue=8+c.length);var Ae=null;if(h.length>1&&(ue-=(Ae=h.pop()).length),this._audioStashedLastSample!=null){var fe=this._audioStashedLastSample;this._audioStashedLastSample=null,h.unshift(fe),ue+=fe.length}Ae!=null&&(this._audioStashedLastSample=Ae);var De=h[0].dts-this._dtsBase;if(this._audioNextDts)f=De-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())f=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(q=!0);else{var Te=this._audioSegmentInfoList.getLastSampleBefore(De);if(Te!=null){var Re=De-(Te.originalDts+Te.duration);Re<=3&&(Re=0),f=De-(Te.dts+Te.duration+Re)}else f=0}if(q){var ze=De-f,He=this._videoSegmentInfoList.getLastSegmentBefore(De);if(He!=null&&He.beginDts<ze){if(St=Lt.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount)){var Ce=He.beginDts,ke=ze-He.beginDts;y.a.v(this.TAG,"InsertPrefixSilentAudio: dts: ".concat(Ce,", duration: ").concat(ke)),h.unshift({unit:St,dts:Ce,pts:Ce}),ue+=St.byteLength}}else q=!1}for(var Fe=[],je=0;je<h.length;je++){var Ue=(fe=h[je]).unit,Je=fe.dts-this._dtsBase,rt=(Ce=Je,!1),Ge=null,Ke=0;if(!(Je<-.001)){if(this._audioMeta.codec!=="mp3"&&B!=null){var it=Je;if(this._audioNextDts&&(it=this._audioNextDts),(f=Je-it)<=-3*B){y.a.w(this.TAG,"Dropping 1 audio frame (originalDts: ".concat(Je," ms ,curRefDts: ").concat(it," ms)  due to dtsCorrection: ").concat(f," ms overlap."));continue}if(f>=3*B&&this._fillAudioTimestampGap&&!g.a.safari){rt=!0;var St,mt=Math.floor(f/B);y.a.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
`+"originalDts: ".concat(Je," ms, curRefDts: ").concat(it," ms, ")+"dtsCorrection: ".concat(Math.round(f)," ms, generate: ").concat(mt," frames")),Ce=Math.floor(it),Ke=Math.floor(it+B)-Ce,(St=Lt.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount))==null&&(y.a.w(this.TAG,"Unable to generate silent frame for "+"".concat(this._audioMeta.originalCodec," with ").concat(this._audioMeta.channelCount," channels, repeat last frame")),St=Ue),Ge=[];for(var Dt=0;Dt<mt;Dt++){it+=B;var qt=Math.floor(it),Bt=Math.floor(it+B)-qt,yt={dts:qt,pts:qt,cts:0,unit:St,size:St.byteLength,duration:Bt,originalDts:Je,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};Ge.push(yt),ue+=yt.size}this._audioNextDts=it+B}else Ce=Math.floor(it),Ke=Math.floor(it+B)-Ce,this._audioNextDts=it+B}else Ce=Je-f,je!==h.length-1?Ke=h[je+1].dts-this._dtsBase-f-Ce:Ae!=null?Ke=Ae.dts-this._dtsBase-f-Ce:Ke=Fe.length>=1?Fe[Fe.length-1].duration:Math.floor(B),this._audioNextDts=Ce+Ke;p===-1&&(p=Ce),Fe.push({dts:Ce,pts:Ce,cts:0,unit:fe.unit,size:fe.unit.byteLength,duration:Ke,originalDts:Je,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),rt&&Fe.push.apply(Fe,Ge)}}if(Fe.length===0)return c.samples=[],void(c.length=0);for(L?Q=new Uint8Array(ue):((Q=new Uint8Array(ue))[0]=ue>>>24&255,Q[1]=ue>>>16&255,Q[2]=ue>>>8&255,Q[3]=255&ue,Q.set(Zt.types.mdat,4)),je=0;je<Fe.length;je++)Ue=Fe[je].unit,Q.set(Ue,H),H+=Ue.byteLength;var Nt=Fe[Fe.length-1];r=Nt.dts+Nt.duration;var tt=new pt.b;tt.beginDts=p,tt.endDts=r,tt.beginPts=p,tt.endPts=r,tt.originalBeginDts=Fe[0].originalDts,tt.originalEndDts=Nt.originalDts+Nt.duration,tt.firstSample=new pt.d(Fe[0].dts,Fe[0].pts,Fe[0].duration,Fe[0].originalDts,!1),tt.lastSample=new pt.d(Nt.dts,Nt.pts,Nt.duration,Nt.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(tt),c.samples=Fe,c.sequenceNumber++;var Yt=null;Yt=L?new Uint8Array:Zt.moof(c,p),c.samples=[],c.length=0;var ba={type:"audio",data:this._mergeBoxes(Yt,Q).buffer,sampleCount:Fe.length,info:tt};L&&j&&(ba.timestampOffset=p),this._onMediaSegment("audio",ba)}}},u.prototype._remuxVideo=function(l,s){if(this._videoMeta!=null){var r,c,h=l,f=h.samples,p=void 0,B=-1,L=-1;if(f&&f.length!==0&&(f.length!==1||s)){var j=8,q=null,H=8+l.length,Q=null;if(f.length>1&&(H-=(Q=f.pop()).length),this._videoStashedLastSample!=null){var ue=this._videoStashedLastSample;this._videoStashedLastSample=null,f.unshift(ue),H+=ue.length}Q!=null&&(this._videoStashedLastSample=Q);var Ae=f[0].dts-this._dtsBase;if(this._videoNextDts)p=Ae-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())p=0;else{var fe=this._videoSegmentInfoList.getLastSampleBefore(Ae);if(fe!=null){var De=Ae-(fe.originalDts+fe.duration);De<=3&&(De=0),p=Ae-(fe.dts+fe.duration+De)}else p=0}for(var Te=new pt.b,Re=[],ze=0;ze<f.length;ze++){var He=(ue=f[ze]).dts-this._dtsBase,Ce=ue.isKeyframe,ke=He-p,Fe=ue.cts,je=ke+Fe;B===-1&&(B=ke,L=je);var Ue=0;if(ze!==f.length-1?Ue=f[ze+1].dts-this._dtsBase-p-ke:Q!=null?Ue=Q.dts-this._dtsBase-p-ke:Ue=Re.length>=1?Re[Re.length-1].duration:Math.floor(this._videoMeta.refSampleDuration),Ce){var Je=new pt.d(ke,je,Ue,ue.dts,!0);Je.fileposition=ue.fileposition,Te.appendSyncPoint(Je)}Re.push({dts:ke,pts:je,cts:Fe,units:ue.units,size:ue.length,isKeyframe:Ce,duration:Ue,originalDts:He,flags:{isLeading:0,dependsOn:Ce?2:1,isDependedOn:Ce?1:0,hasRedundancy:0,isNonSync:Ce?0:1}})}for((q=new Uint8Array(H))[0]=H>>>24&255,q[1]=H>>>16&255,q[2]=H>>>8&255,q[3]=255&H,q.set(Zt.types.mdat,4),ze=0;ze<Re.length;ze++)for(var rt=Re[ze].units;rt.length;){var Ge=rt.shift().data;q.set(Ge,j),j+=Ge.byteLength}var Ke=Re[Re.length-1];if(r=Ke.dts+Ke.duration,c=Ke.pts+Ke.duration,this._videoNextDts=r,Te.beginDts=B,Te.endDts=r,Te.beginPts=L,Te.endPts=c,Te.originalBeginDts=Re[0].originalDts,Te.originalEndDts=Ke.originalDts+Ke.duration,Te.firstSample=new pt.d(Re[0].dts,Re[0].pts,Re[0].duration,Re[0].originalDts,Re[0].isKeyframe),Te.lastSample=new pt.d(Ke.dts,Ke.pts,Ke.duration,Ke.originalDts,Ke.isKeyframe),this._isLive||this._videoSegmentInfoList.append(Te),h.samples=Re,h.sequenceNumber++,this._forceFirstIDR){var it=Re[0].flags;it.dependsOn=2,it.isNonSync=0}var St=Zt.moof(h,B);h.samples=[],h.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(St,q).buffer,sampleCount:Re.length,info:Te})}}},u.prototype._mergeBoxes=function(l,s){var r=new Uint8Array(l.byteLength+s.byteLength);return r.set(l,0),r.set(s,l.byteLength),r},u})(),Un=x(14),Rt=x(1),Ws=(x(2),(function(){function u(l,s){this.TAG="TransmuxingController",this._emitter=new w.a,this._config=s,l.segments||(l.segments=[{duration:l.duration,filesize:l.filesize,url:l.url}]),typeof l.cors!="boolean"&&(l.cors=!0),typeof l.withCredentials!="boolean"&&(l.withCredentials=!1),this._mediaDataSource=l,this._currentSegmentIndex=0;var r=0;this._mediaDataSource.segments.forEach((function(c){c.timestampBase=r,r+=c.duration,c.cors=l.cors,c.withCredentials=l.withCredentials,s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy)})),isNaN(r)||this._mediaDataSource.duration===r||(this._mediaDataSource.duration=r),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return u.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},u.prototype.on=function(l,s){this._emitter.addListener(l,s)},u.prototype.off=function(l,s){this._emitter.removeListener(l,s)},u.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},u.prototype._loadSegment=function(l,s){this._currentSegmentIndex=l;var r=this._mediaDataSource.segments[l],c=this._ioctl=new Un.a(r,this._config,l);c.onError=this._onIOException.bind(this),c.onSeeked=this._onIOSeeked.bind(this),c.onComplete=this._onIOComplete.bind(this),c.onRedirect=this._onIORedirect.bind(this),c.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),s?this._demuxer.bindDataSource(this._ioctl):c.onDataArrival=this._onInitChunkArrival.bind(this),c.open(s)},u.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},u.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},u.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},u.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},u.prototype.seek=function(l){if(this._mediaInfo!=null&&this._mediaInfo.isSeekable()){var s=this._searchSegmentIndexContains(l);if(s===this._currentSegmentIndex){var r=this._mediaInfo.segments[s];if(r==null)this._pendingSeekTime=l;else{var c=r.getNearestKeyframe(l);this._remuxer.seek(c.milliseconds),this._ioctl.seek(c.fileposition),this._pendingResolveSeekPoint=c.milliseconds}}else{var h=this._mediaInfo.segments[s];h==null?(this._pendingSeekTime=l,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(s)):(c=h.getNearestKeyframe(l),this._internalAbort(),this._remuxer.seek(l),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[s].timestampBase,this._loadSegment(s,c.fileposition),this._pendingResolveSeekPoint=c.milliseconds,this._reportSegmentMediaInfo(s))}this._enableStatisticsReporter()}},u.prototype._searchSegmentIndexContains=function(l){for(var s=this._mediaDataSource.segments,r=s.length-1,c=0;c<s.length;c++)if(l<s[c].timestampBase){r=c-1;break}return r},u.prototype._onInitChunkArrival=function(l,s){var r=this,c=0;if(s>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,c=this._demuxer.parseChunks(l,s);else{var h=null;(h=U.probe(l)).match&&(this._setupFLVDemuxerRemuxer(h),c=this._demuxer.parseChunks(l,s)),h.match||h.needMoreData||(h=$i.probe(l)).match&&(this._setupTSDemuxerRemuxer(h),c=this._demuxer.parseChunks(l,s)),h.match||h.needMoreData||(h=null,y.a.e(this.TAG,"Non MPEG-TS/FLV, Unsupported media type!"),Promise.resolve().then((function(){r._internalAbort()})),this._emitter.emit(Rt.a.DEMUX_ERROR,F.a.FORMAT_UNSUPPORTED,"Non MPEG-TS/FLV, Unsupported media type!"))}return c},u.prototype._setupFLVDemuxerRemuxer=function(l){this._demuxer=new U(l,this._config),this._remuxer||(this._remuxer=new ka(this._config));var s=this._mediaDataSource;s.duration==null||isNaN(s.duration)||(this._demuxer.overridedDuration=s.duration),typeof s.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=s.hasAudio),typeof s.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=s.hasVideo),this._demuxer.timestampBase=s.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this)},u.prototype._setupTSDemuxerRemuxer=function(l){var s=this._demuxer=new $i(l,this._config);this._remuxer||(this._remuxer=new ka(this._config)),s.onError=this._onDemuxException.bind(this),s.onMediaInfo=this._onMediaInfo.bind(this),s.onMetaDataArrived=this._onMetaDataArrived.bind(this),s.onTimedID3Metadata=this._onTimedID3Metadata.bind(this),s.onSynchronousKLVMetadata=this._onSynchronousKLVMetadata.bind(this),s.onAsynchronousKLVMetadata=this._onAsynchronousKLVMetadata.bind(this),s.onSMPTE2038Metadata=this._onSMPTE2038Metadata.bind(this),s.onSCTE35Metadata=this._onSCTE35Metadata.bind(this),s.onPESPrivateDataDescriptor=this._onPESPrivateDataDescriptor.bind(this),s.onPESPrivateData=this._onPESPrivateData.bind(this),this._remuxer.bindDataSource(this._demuxer),this._demuxer.bindDataSource(this._ioctl),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this)},u.prototype._onMediaInfo=function(l){var s=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},l),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,m.a.prototype));var r=Object.assign({},l);Object.setPrototypeOf(r,m.a.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=r,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then((function(){var c=s._pendingSeekTime;s._pendingSeekTime=null,s.seek(c)}))},u.prototype._onMetaDataArrived=function(l){this._emitter.emit(Rt.a.METADATA_ARRIVED,l)},u.prototype._onScriptDataArrived=function(l){this._emitter.emit(Rt.a.SCRIPTDATA_ARRIVED,l)},u.prototype._onTimedID3Metadata=function(l){var s=this._remuxer.getTimestampBase();s!=null&&(l.pts!=null&&(l.pts-=s),l.dts!=null&&(l.dts-=s),this._emitter.emit(Rt.a.TIMED_ID3_METADATA_ARRIVED,l))},u.prototype._onSynchronousKLVMetadata=function(l){var s=this._remuxer.getTimestampBase();s!=null&&(l.pts!=null&&(l.pts-=s),l.dts!=null&&(l.dts-=s),this._emitter.emit(Rt.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,l))},u.prototype._onAsynchronousKLVMetadata=function(l){this._emitter.emit(Rt.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,l)},u.prototype._onSMPTE2038Metadata=function(l){var s=this._remuxer.getTimestampBase();s!=null&&(l.pts!=null&&(l.pts-=s),l.dts!=null&&(l.dts-=s),l.nearest_pts!=null&&(l.nearest_pts-=s),this._emitter.emit(Rt.a.SMPTE2038_METADATA_ARRIVED,l))},u.prototype._onSCTE35Metadata=function(l){var s=this._remuxer.getTimestampBase();s!=null&&(l.pts!=null&&(l.pts-=s),l.nearest_pts!=null&&(l.nearest_pts-=s),this._emitter.emit(Rt.a.SCTE35_METADATA_ARRIVED,l))},u.prototype._onPESPrivateDataDescriptor=function(l){this._emitter.emit(Rt.a.PES_PRIVATE_DATA_DESCRIPTOR,l)},u.prototype._onPESPrivateData=function(l){var s=this._remuxer.getTimestampBase();s!=null&&(l.pts!=null&&(l.pts-=s),l.nearest_pts!=null&&(l.nearest_pts-=s),l.dts!=null&&(l.dts-=s),this._emitter.emit(Rt.a.PES_PRIVATE_DATA_ARRIVED,l))},u.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},u.prototype._onIOComplete=function(l){var s=l+1;s<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer&&this._remuxer.flushStashedSamples(),this._loadSegment(s)):(this._remuxer&&this._remuxer.flushStashedSamples(),this._emitter.emit(Rt.a.LOADING_COMPLETE),this._disableStatisticsReporter())},u.prototype._onIORedirect=function(l){var s=this._ioctl.extraData;this._mediaDataSource.segments[s].redirectedURL=l},u.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(Rt.a.RECOVERED_EARLY_EOF)},u.prototype._onIOException=function(l,s){y.a.e(this.TAG,"IOException: type = ".concat(l,", code = ").concat(s.code,", msg = ").concat(s.msg)),this._emitter.emit(Rt.a.IO_ERROR,l,s),this._disableStatisticsReporter()},u.prototype._onDemuxException=function(l,s){y.a.e(this.TAG,"DemuxException: type = ".concat(l,", info = ").concat(s)),this._emitter.emit(Rt.a.DEMUX_ERROR,l,s)},u.prototype._onRemuxerInitSegmentArrival=function(l,s){this._emitter.emit(Rt.a.INIT_SEGMENT,l,s)},u.prototype._onRemuxerMediaSegmentArrival=function(l,s){if(this._pendingSeekTime==null&&(this._emitter.emit(Rt.a.MEDIA_SEGMENT,l,s),this._pendingResolveSeekPoint!=null&&l==="video")){var r=s.info.syncPoints,c=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,g.a.safari&&r.length>0&&r[0].originalDts===c&&(c=r[0].pts),this._emitter.emit(Rt.a.RECOMMEND_SEEKPOINT,c)}},u.prototype._enableStatisticsReporter=function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},u.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},u.prototype._reportSegmentMediaInfo=function(l){var s=this._mediaInfo.segments[l],r=Object.assign({},s);r.duration=this._mediaInfo.duration,r.segmentCount=this._mediaInfo.segmentCount,delete r.segments,delete r.keyframesIndex,this._emitter.emit(Rt.a.MEDIA_INFO,r)},u.prototype._reportStatisticsInfo=function(){var l={};l.url=this._ioctl.currentURL,l.hasRedirect=this._ioctl.hasRedirect,l.hasRedirect&&(l.redirectedURL=this._ioctl.currentRedirectedURL),l.speed=this._ioctl.currentSpeed,l.loaderType=this._ioctl.loaderType,l.currentSegmentIndex=this._currentSegmentIndex,l.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(Rt.a.STATISTICS_INFO,l)},u})());v.a=Ws},function(Z,v,x){var G,w=x(0),y=(function(){function Y(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return Y.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},Y.prototype.addBytes=function(R){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=R,this._totalBytes+=R):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=R,this._totalBytes+=R):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=R,this._totalBytes+=R,this._lastCheckpoint=this._now())},Object.defineProperty(Y.prototype,"currentKBps",{get:function(){this.addBytes(0);var R=(this._now()-this._lastCheckpoint)/1e3;return R==0&&(R=1),this._intervalBytes/R/1024},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"averageKBps",{get:function(){var R=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/R/1024},enumerable:!1,configurable:!0}),Y})(),g=x(2),m=x(5),b=x(3),D=(G=function(Y,R){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,A){E.__proto__=A}||function(E,A){for(var U in A)Object.prototype.hasOwnProperty.call(A,U)&&(E[U]=A[U])})(Y,R)},function(Y,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function E(){this.constructor=Y}G(Y,R),Y.prototype=R===null?Object.create(R):(E.prototype=R.prototype,new E)}),k=(function(Y){function R(E,A){var U=Y.call(this,"fetch-stream-loader")||this;return U.TAG="FetchStreamLoader",U._seekHandler=E,U._config=A,U._needStash=!0,U._requestAbort=!1,U._abortController=null,U._contentLength=null,U._receivedLength=0,U}return D(R,Y),R.isSupported=function(){try{var E=m.a.msedge&&m.a.version.minor>=15048,A=!m.a.msedge||E;return self.fetch&&self.ReadableStream&&A}catch{return!1}},R.prototype.destroy=function(){this.isWorking()&&this.abort(),Y.prototype.destroy.call(this)},R.prototype.open=function(E,A){var U=this;this._dataSource=E,this._range=A;var oe=E.url;this._config.reuseRedirectedURL&&E.redirectedURL!=null&&(oe=E.redirectedURL);var xe=this._seekHandler.getConfig(oe,A),pe=new self.Headers;if(typeof xe.headers=="object"){var be=xe.headers;for(var N in be)be.hasOwnProperty(N)&&pe.append(N,be[N])}var de={method:"GET",headers:pe,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(typeof this._config.headers=="object")for(var N in this._config.headers)pe.append(N,this._config.headers[N]);E.cors===!1&&(de.mode="same-origin"),E.withCredentials&&(de.credentials="include"),E.referrerPolicy&&(de.referrerPolicy=E.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,de.signal=this._abortController.signal),this._status=g.c.kConnecting,self.fetch(xe.url,de).then((function(he){if(U._requestAbort)return U._status=g.c.kIdle,void he.body.cancel();if(he.ok&&he.status>=200&&he.status<=299){if(he.url!==xe.url&&U._onURLRedirect){var M=U._seekHandler.removeURLParameters(he.url);U._onURLRedirect(M)}var d=he.headers.get("Content-Length");return d!=null&&(U._contentLength=parseInt(d),U._contentLength!==0&&U._onContentLengthKnown&&U._onContentLengthKnown(U._contentLength)),U._pump.call(U,he.body.getReader())}if(U._status=g.c.kError,!U._onError)throw new b.d("FetchStreamLoader: Http code invalid, "+he.status+" "+he.statusText);U._onError(g.b.HTTP_STATUS_CODE_INVALID,{code:he.status,msg:he.statusText})})).catch((function(he){if(!U._abortController||!U._abortController.signal.aborted){if(U._status=g.c.kError,!U._onError)throw he;U._onError(g.b.EXCEPTION,{code:-1,msg:he.message})}}))},R.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==g.c.kBuffering||!m.a.chrome)&&this._abortController)try{this._abortController.abort()}catch{}},R.prototype._pump=function(E){var A=this;return E.read().then((function(U){if(U.done)if(A._contentLength!==null&&A._receivedLength<A._contentLength){A._status=g.c.kError;var oe=g.b.EARLY_EOF,xe={code:-1,msg:"Fetch stream meet Early-EOF"};if(!A._onError)throw new b.d(xe.msg);A._onError(oe,xe)}else A._status=g.c.kComplete,A._onComplete&&A._onComplete(A._range.from,A._range.from+A._receivedLength-1);else{if(A._abortController&&A._abortController.signal.aborted)return void(A._status=g.c.kComplete);if(A._requestAbort===!0)return A._status=g.c.kComplete,E.cancel();A._status=g.c.kBuffering;var pe=U.value.buffer,be=A._range.from+A._receivedLength;A._receivedLength+=pe.byteLength,A._onDataArrival&&A._onDataArrival(pe,be,A._receivedLength),A._pump(E)}})).catch((function(U){if(A._abortController&&A._abortController.signal.aborted)A._status=g.c.kComplete;else if(U.code!==11||!m.a.msedge){A._status=g.c.kError;var oe=0,xe=null;if(U.code!==19&&U.message!=="network error"||!(A._contentLength===null||A._contentLength!==null&&A._receivedLength<A._contentLength)?(oe=g.b.EXCEPTION,xe={code:U.code,msg:U.message}):(oe=g.b.EARLY_EOF,xe={code:U.code,msg:"Fetch stream meet Early-EOF"}),!A._onError)throw new b.d(xe.msg);A._onError(oe,xe)}}))},R})(g.a),z=(function(){var Y=function(R,E){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,U){A.__proto__=U}||function(A,U){for(var oe in U)Object.prototype.hasOwnProperty.call(U,oe)&&(A[oe]=U[oe])})(R,E)};return function(R,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function A(){this.constructor=R}Y(R,E),R.prototype=E===null?Object.create(E):(A.prototype=E.prototype,new A)}})(),C=(function(Y){function R(E,A){var U=Y.call(this,"xhr-moz-chunked-loader")||this;return U.TAG="MozChunkedLoader",U._seekHandler=E,U._config=A,U._needStash=!0,U._xhr=null,U._requestAbort=!1,U._contentLength=null,U._receivedLength=0,U}return z(R,Y),R.isSupported=function(){try{var E=new XMLHttpRequest;return E.open("GET","https://example.com",!0),E.responseType="moz-chunked-arraybuffer",E.responseType==="moz-chunked-arraybuffer"}catch(A){return w.a.w("MozChunkedLoader",A.message),!1}},R.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),Y.prototype.destroy.call(this)},R.prototype.open=function(E,A){this._dataSource=E,this._range=A;var U=E.url;this._config.reuseRedirectedURL&&E.redirectedURL!=null&&(U=E.redirectedURL);var oe=this._seekHandler.getConfig(U,A);this._requestURL=oe.url;var xe=this._xhr=new XMLHttpRequest;if(xe.open("GET",oe.url,!0),xe.responseType="moz-chunked-arraybuffer",xe.onreadystatechange=this._onReadyStateChange.bind(this),xe.onprogress=this._onProgress.bind(this),xe.onloadend=this._onLoadEnd.bind(this),xe.onerror=this._onXhrError.bind(this),E.withCredentials&&(xe.withCredentials=!0),typeof oe.headers=="object"){var pe=oe.headers;for(var be in pe)pe.hasOwnProperty(be)&&xe.setRequestHeader(be,pe[be])}if(typeof this._config.headers=="object"){pe=this._config.headers;for(var be in pe)pe.hasOwnProperty(be)&&xe.setRequestHeader(be,pe[be])}this._status=g.c.kConnecting,xe.send()},R.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=g.c.kComplete},R.prototype._onReadyStateChange=function(E){var A=E.target;if(A.readyState===2){if(A.responseURL!=null&&A.responseURL!==this._requestURL&&this._onURLRedirect){var U=this._seekHandler.removeURLParameters(A.responseURL);this._onURLRedirect(U)}if(A.status!==0&&(A.status<200||A.status>299)){if(this._status=g.c.kError,!this._onError)throw new b.d("MozChunkedLoader: Http code invalid, "+A.status+" "+A.statusText);this._onError(g.b.HTTP_STATUS_CODE_INVALID,{code:A.status,msg:A.statusText})}else this._status=g.c.kBuffering}},R.prototype._onProgress=function(E){if(this._status!==g.c.kError){this._contentLength===null&&E.total!==null&&E.total!==0&&(this._contentLength=E.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var A=E.target.response,U=this._range.from+this._receivedLength;this._receivedLength+=A.byteLength,this._onDataArrival&&this._onDataArrival(A,U,this._receivedLength)}},R.prototype._onLoadEnd=function(E){this._requestAbort!==!0?this._status!==g.c.kError&&(this._status=g.c.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1},R.prototype._onXhrError=function(E){this._status=g.c.kError;var A=0,U=null;if(this._contentLength&&E.loaded<this._contentLength?(A=g.b.EARLY_EOF,U={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(A=g.b.EXCEPTION,U={code:-1,msg:E.constructor.name+" "+E.type}),!this._onError)throw new b.d(U.msg);this._onError(A,U)},R})(g.a),I=(function(){var Y=function(R,E){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,U){A.__proto__=U}||function(A,U){for(var oe in U)Object.prototype.hasOwnProperty.call(U,oe)&&(A[oe]=U[oe])})(R,E)};return function(R,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function A(){this.constructor=R}Y(R,E),R.prototype=E===null?Object.create(E):(A.prototype=E.prototype,new A)}})(),K=((function(Y){function R(E,A){var U=Y.call(this,"xhr-msstream-loader")||this;return U.TAG="MSStreamLoader",U._seekHandler=E,U._config=A,U._needStash=!0,U._xhr=null,U._reader=null,U._totalRange=null,U._currentRange=null,U._currentRequestURL=null,U._currentRedirectedURL=null,U._contentLength=null,U._receivedLength=0,U._bufferLimit=16777216,U._lastTimeBufferSize=0,U._isReconnecting=!1,U}I(R,Y),R.isSupported=function(){try{if(self.MSStream===void 0||self.MSStreamReader===void 0)return!1;var E=new XMLHttpRequest;return E.open("GET","https://example.com",!0),E.responseType="ms-stream",E.responseType==="ms-stream"}catch(A){return w.a.w("MSStreamLoader",A.message),!1}},R.prototype.destroy=function(){this.isWorking()&&this.abort(),this._reader&&(this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr=null),Y.prototype.destroy.call(this)},R.prototype.open=function(E,A){this._internalOpen(E,A,!1)},R.prototype._internalOpen=function(E,A,U){this._dataSource=E,U?this._currentRange=A:this._totalRange=A;var oe=E.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?oe=this._currentRedirectedURL:E.redirectedURL!=null&&(oe=E.redirectedURL));var xe=this._seekHandler.getConfig(oe,A);this._currentRequestURL=xe.url;var pe=this._reader=new self.MSStreamReader;pe.onprogress=this._msrOnProgress.bind(this),pe.onload=this._msrOnLoad.bind(this),pe.onerror=this._msrOnError.bind(this);var be=this._xhr=new XMLHttpRequest;if(be.open("GET",xe.url,!0),be.responseType="ms-stream",be.onreadystatechange=this._xhrOnReadyStateChange.bind(this),be.onerror=this._xhrOnError.bind(this),E.withCredentials&&(be.withCredentials=!0),typeof xe.headers=="object"){var N=xe.headers;for(var de in N)N.hasOwnProperty(de)&&be.setRequestHeader(de,N[de])}if(typeof this._config.headers=="object"){N=this._config.headers;for(var de in N)N.hasOwnProperty(de)&&be.setRequestHeader(de,N[de])}this._isReconnecting?this._isReconnecting=!1:this._status=g.c.kConnecting,be.send()},R.prototype.abort=function(){this._internalAbort(),this._status=g.c.kComplete},R.prototype._internalAbort=function(){this._reader&&(this._reader.readyState===1&&this._reader.abort(),this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.abort(),this._xhr.onreadystatechange=null,this._xhr=null)},R.prototype._xhrOnReadyStateChange=function(E){var A=E.target;if(A.readyState===2)if(A.status>=200&&A.status<=299){if(this._status=g.c.kBuffering,A.responseURL!=null){var U=this._seekHandler.removeURLParameters(A.responseURL);A.responseURL!==this._currentRequestURL&&U!==this._currentRedirectedURL&&(this._currentRedirectedURL=U,this._onURLRedirect&&this._onURLRedirect(U))}var oe=A.getResponseHeader("Content-Length");if(oe!=null&&this._contentLength==null){var xe=parseInt(oe);xe>0&&(this._contentLength=xe,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength))}}else{if(this._status=g.c.kError,!this._onError)throw new b.d("MSStreamLoader: Http code invalid, "+A.status+" "+A.statusText);this._onError(g.b.HTTP_STATUS_CODE_INVALID,{code:A.status,msg:A.statusText})}else if(A.readyState===3&&A.status>=200&&A.status<=299){this._status=g.c.kBuffering;var pe=A.response;this._reader.readAsArrayBuffer(pe)}},R.prototype._xhrOnError=function(E){this._status=g.c.kError;var A=g.b.EXCEPTION,U={code:-1,msg:E.constructor.name+" "+E.type};if(!this._onError)throw new b.d(U.msg);this._onError(A,U)},R.prototype._msrOnProgress=function(E){var A=E.target.result;if(A!=null){var U=A.slice(this._lastTimeBufferSize);this._lastTimeBufferSize=A.byteLength;var oe=this._totalRange.from+this._receivedLength;this._receivedLength+=U.byteLength,this._onDataArrival&&this._onDataArrival(U,oe,this._receivedLength),A.byteLength>=this._bufferLimit&&(w.a.v(this.TAG,"MSStream buffer exceeded max size near ".concat(oe+U.byteLength,", reconnecting...")),this._doReconnectIfNeeded())}else this._doReconnectIfNeeded()},R.prototype._doReconnectIfNeeded=function(){if(this._contentLength==null||this._receivedLength<this._contentLength){this._isReconnecting=!0,this._lastTimeBufferSize=0,this._internalAbort();var E={from:this._totalRange.from+this._receivedLength,to:-1};this._internalOpen(this._dataSource,E,!0)}},R.prototype._msrOnLoad=function(E){this._status=g.c.kComplete,this._onComplete&&this._onComplete(this._totalRange.from,this._totalRange.from+this._receivedLength-1)},R.prototype._msrOnError=function(E){this._status=g.c.kError;var A=0,U=null;if(this._contentLength&&this._receivedLength<this._contentLength?(A=g.b.EARLY_EOF,U={code:-1,msg:"MSStream meet Early-Eof"}):(A=g.b.EARLY_EOF,U={code:-1,msg:E.constructor.name+" "+E.type}),!this._onError)throw new b.d(U.msg);this._onError(A,U)}})(g.a),(function(){var Y=function(R,E){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,U){A.__proto__=U}||function(A,U){for(var oe in U)Object.prototype.hasOwnProperty.call(U,oe)&&(A[oe]=U[oe])})(R,E)};return function(R,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function A(){this.constructor=R}Y(R,E),R.prototype=E===null?Object.create(E):(A.prototype=E.prototype,new A)}})()),J=(function(Y){function R(E,A){var U=Y.call(this,"xhr-range-loader")||this;return U.TAG="RangeLoader",U._seekHandler=E,U._config=A,U._needStash=!1,U._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],U._currentChunkSizeKB=384,U._currentSpeedNormalized=0,U._zeroSpeedChunkCount=0,U._xhr=null,U._speedSampler=new y,U._requestAbort=!1,U._waitForTotalLength=!1,U._totalLengthReceived=!1,U._currentRequestURL=null,U._currentRedirectedURL=null,U._currentRequestRange=null,U._totalLength=null,U._contentLength=null,U._receivedLength=0,U._lastTimeLoaded=0,U}return K(R,Y),R.isSupported=function(){try{var E=new XMLHttpRequest;return E.open("GET","https://example.com",!0),E.responseType="arraybuffer",E.responseType==="arraybuffer"}catch(A){return w.a.w("RangeLoader",A.message),!1}},R.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),Y.prototype.destroy.call(this)},Object.defineProperty(R.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),R.prototype.open=function(E,A){this._dataSource=E,this._range=A,this._status=g.c.kConnecting;var U=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(U=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||U?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))},R.prototype._openSubRange=function(){var E=1024*this._currentChunkSizeKB,A=this._range.from+this._receivedLength,U=A+E;this._contentLength!=null&&U-this._range.from>=this._contentLength&&(U=this._range.from+this._contentLength-1),this._currentRequestRange={from:A,to:U},this._internalOpen(this._dataSource,this._currentRequestRange)},R.prototype._internalOpen=function(E,A){this._lastTimeLoaded=0;var U=E.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?U=this._currentRedirectedURL:E.redirectedURL!=null&&(U=E.redirectedURL));var oe=this._seekHandler.getConfig(U,A);this._currentRequestURL=oe.url;var xe=this._xhr=new XMLHttpRequest;if(xe.open("GET",oe.url,!0),xe.responseType="arraybuffer",xe.onreadystatechange=this._onReadyStateChange.bind(this),xe.onprogress=this._onProgress.bind(this),xe.onload=this._onLoad.bind(this),xe.onerror=this._onXhrError.bind(this),E.withCredentials&&(xe.withCredentials=!0),typeof oe.headers=="object"){var pe=oe.headers;for(var be in pe)pe.hasOwnProperty(be)&&xe.setRequestHeader(be,pe[be])}if(typeof this._config.headers=="object"){pe=this._config.headers;for(var be in pe)pe.hasOwnProperty(be)&&xe.setRequestHeader(be,pe[be])}xe.send()},R.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=g.c.kComplete},R.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},R.prototype._onReadyStateChange=function(E){var A=E.target;if(A.readyState===2){if(A.responseURL!=null){var U=this._seekHandler.removeURLParameters(A.responseURL);A.responseURL!==this._currentRequestURL&&U!==this._currentRedirectedURL&&(this._currentRedirectedURL=U,this._onURLRedirect&&this._onURLRedirect(U))}if(A.status>=200&&A.status<=299){if(this._waitForTotalLength)return;this._status=g.c.kBuffering}else{if(this._status=g.c.kError,!this._onError)throw new b.d("RangeLoader: Http code invalid, "+A.status+" "+A.statusText);this._onError(g.b.HTTP_STATUS_CODE_INVALID,{code:A.status,msg:A.statusText})}}},R.prototype._onProgress=function(E){if(this._status!==g.c.kError){if(this._contentLength===null){var A=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,A=!0;var U=E.total;this._internalAbort(),U!=null&U!==0&&(this._totalLength=U)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,A)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var oe=E.loaded-this._lastTimeLoaded;this._lastTimeLoaded=E.loaded,this._speedSampler.addBytes(oe)}},R.prototype._normalizeSpeed=function(E){var A=this._chunkSizeKBList,U=A.length-1,oe=0,xe=0,pe=U;if(E<A[0])return A[0];for(;xe<=pe;){if((oe=xe+Math.floor((pe-xe)/2))===U||E>=A[oe]&&E<A[oe+1])return A[oe];A[oe]<E?xe=oe+1:pe=oe-1}},R.prototype._onLoad=function(E){if(this._status!==g.c.kError)if(this._waitForTotalLength)this._waitForTotalLength=!1;else{this._lastTimeLoaded=0;var A=this._speedSampler.lastSecondKBps;if(A===0&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(A=this._speedSampler.currentKBps)),A!==0){var U=this._normalizeSpeed(A);this._currentSpeedNormalized!==U&&(this._currentSpeedNormalized=U,this._currentChunkSizeKB=U)}var oe=E.target.response,xe=this._range.from+this._receivedLength;this._receivedLength+=oe.byteLength;var pe=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():pe=!0,this._onDataArrival&&this._onDataArrival(oe,xe,this._receivedLength),pe&&(this._status=g.c.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},R.prototype._onXhrError=function(E){this._status=g.c.kError;var A=0,U=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(A=g.b.EARLY_EOF,U={code:-1,msg:"RangeLoader meet Early-Eof"}):(A=g.b.EXCEPTION,U={code:-1,msg:E.constructor.name+" "+E.type}),!this._onError)throw new b.d(U.msg);this._onError(A,U)},R})(g.a),F=(function(){var Y=function(R,E){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,U){A.__proto__=U}||function(A,U){for(var oe in U)Object.prototype.hasOwnProperty.call(U,oe)&&(A[oe]=U[oe])})(R,E)};return function(R,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function A(){this.constructor=R}Y(R,E),R.prototype=E===null?Object.create(E):(A.prototype=E.prototype,new A)}})(),le=(function(Y){function R(){var E=Y.call(this,"websocket-loader")||this;return E.TAG="WebSocketLoader",E._needStash=!0,E._ws=null,E._requestAbort=!1,E._receivedLength=0,E}return F(R,Y),R.isSupported=function(){try{return self.WebSocket!==void 0}catch{return!1}},R.prototype.destroy=function(){this._ws&&this.abort(),Y.prototype.destroy.call(this)},R.prototype.open=function(E){try{var A=this._ws=new self.WebSocket(E.url);A.binaryType="arraybuffer",A.onopen=this._onWebSocketOpen.bind(this),A.onclose=this._onWebSocketClose.bind(this),A.onmessage=this._onWebSocketMessage.bind(this),A.onerror=this._onWebSocketError.bind(this),this._status=g.c.kConnecting}catch(oe){this._status=g.c.kError;var U={code:oe.code,msg:oe.message};if(!this._onError)throw new b.d(U.msg);this._onError(g.b.EXCEPTION,U)}},R.prototype.abort=function(){var E=this._ws;!E||E.readyState!==0&&E.readyState!==1||(this._requestAbort=!0,E.close()),this._ws=null,this._status=g.c.kComplete},R.prototype._onWebSocketOpen=function(E){this._status=g.c.kBuffering},R.prototype._onWebSocketClose=function(E){this._requestAbort!==!0?(this._status=g.c.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1},R.prototype._onWebSocketMessage=function(E){var A=this;if(E.data instanceof ArrayBuffer)this._dispatchArrayBuffer(E.data);else if(E.data instanceof Blob){var U=new FileReader;U.onload=function(){A._dispatchArrayBuffer(U.result)},U.readAsArrayBuffer(E.data)}else{this._status=g.c.kError;var oe={code:-1,msg:"Unsupported WebSocket message type: "+E.data.constructor.name};if(!this._onError)throw new b.d(oe.msg);this._onError(g.b.EXCEPTION,oe)}},R.prototype._dispatchArrayBuffer=function(E){var A=E,U=this._receivedLength;this._receivedLength+=A.byteLength,this._onDataArrival&&this._onDataArrival(A,U,this._receivedLength)},R.prototype._onWebSocketError=function(E){this._status=g.c.kError;var A={code:E.code,msg:E.message};if(!this._onError)throw new b.d(A.msg);this._onError(g.b.EXCEPTION,A)},R})(g.a),P=(function(){function Y(R){this._zeroStart=R||!1}return Y.prototype.getConfig=function(R,E){var A={};if(E.from!==0||E.to!==-1){var U=void 0;U=E.to!==-1?"bytes=".concat(E.from.toString(),"-").concat(E.to.toString()):"bytes=".concat(E.from.toString(),"-"),A.Range=U}else this._zeroStart&&(A.Range="bytes=0-");return{url:R,headers:A}},Y.prototype.removeURLParameters=function(R){return R},Y})(),te=(function(){function Y(R,E){this._startName=R,this._endName=E}return Y.prototype.getConfig=function(R,E){var A=R;if(E.from!==0||E.to!==-1){var U=!0;A.indexOf("?")===-1&&(A+="?",U=!1),U&&(A+="&"),A+="".concat(this._startName,"=").concat(E.from.toString()),E.to!==-1&&(A+="&".concat(this._endName,"=").concat(E.to.toString()))}return{url:A,headers:{}}},Y.prototype.removeURLParameters=function(R){var E=R.split("?")[0],A=void 0,U=R.indexOf("?");U!==-1&&(A=R.substring(U+1));var oe="";if(A!=null&&A.length>0)for(var xe=A.split("&"),pe=0;pe<xe.length;pe++){var be=xe[pe].split("="),N=pe>0;be[0]!==this._startName&&be[0]!==this._endName&&(N&&(oe+="&"),oe+=xe[pe])}return oe.length===0?E:E+"?"+oe},Y})(),re=(function(){function Y(R,E,A){this.TAG="IOController",this._config=E,this._extraData=A,this._stashInitialSize=65536,E.stashInitialSize!=null&&E.stashInitialSize>0&&(this._stashInitialSize=E.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=Math.max(this._stashSize,3145728),this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,E.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=R,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(R.url),this._refTotalLength=R.filesize?R.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new y,this._speedNormalizeList=[32,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return Y.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},Y.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},Y.prototype.isPaused=function(){return this._paused},Object.defineProperty(Y.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"extraData",{get:function(){return this._extraData},set:function(R){this._extraData=R},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(R){this._onDataArrival=R},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(R){this._onSeeked=R},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"onError",{get:function(){return this._onError},set:function(R){this._onError=R},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"onComplete",{get:function(){return this._onComplete},set:function(R){this._onComplete=R},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(R){this._onRedirect=R},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(R){this._onRecoveredEarlyEof=R},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"hasRedirect",{get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"currentSpeed",{get:function(){return this._loaderClass===J?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),Y.prototype._selectSeekHandler=function(){var R=this._config;if(R.seekType==="range")this._seekHandler=new P(this._config.rangeLoadZeroStart);else if(R.seekType==="param"){var E=R.seekParamStart||"bstart",A=R.seekParamEnd||"bend";this._seekHandler=new te(E,A)}else{if(R.seekType!=="custom")throw new b.b("Invalid seekType in config: ".concat(R.seekType));if(typeof R.customSeekHandler!="function")throw new b.b("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new R.customSeekHandler}},Y.prototype._selectLoader=function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=le;else if(k.isSupported())this._loaderClass=k;else if(C.isSupported())this._loaderClass=C;else{if(!J.isSupported())throw new b.d("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=J}},Y.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},Y.prototype.open=function(R){this._currentRange={from:0,to:-1},R&&(this._currentRange.from=R),this._speedSampler.reset(),R||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},Y.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},Y.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},Y.prototype.resume=function(){if(this._paused){this._paused=!1;var R=this._resumeFrom;this._resumeFrom=0,this._internalSeek(R,!0)}},Y.prototype.seek=function(R){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(R,!0)},Y.prototype._internalSeek=function(R,E){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(E),this._loader.destroy(),this._loader=null;var A={from:R,to:-1};this._currentRange={from:A.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,A),this._onSeeked&&this._onSeeked()},Y.prototype.updateUrl=function(R){if(!R||typeof R!="string"||R.length===0)throw new b.b("Url must be a non-empty string!");this._dataSource.url=R},Y.prototype._expandBuffer=function(R){for(var E=this._stashSize;E+1048576<R;)E*=2;if((E+=1048576)!==this._bufferSize){var A=new ArrayBuffer(E);if(this._stashUsed>0){var U=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(A,0,E).set(U,0)}this._stashBuffer=A,this._bufferSize=E}},Y.prototype._normalizeSpeed=function(R){var E=this._speedNormalizeList,A=E.length-1,U=0,oe=0,xe=A;if(R<E[0])return E[0];for(;oe<=xe;){if((U=oe+Math.floor((xe-oe)/2))===A||R>=E[U]&&R<E[U+1])return E[U];E[U]<R?oe=U+1:xe=U-1}},Y.prototype._adjustStashSize=function(R){var E=0;(E=this._config.isLive?R/8:R<512?R:R>=512&&R<=1024?Math.floor(1.5*R):2*R)>8192&&(E=8192);var A=1024*E+1048576;this._bufferSize<A&&this._expandBuffer(A),this._stashSize=1024*E},Y.prototype._dispatchChunks=function(R,E){return this._currentRange.to=E+R.byteLength-1,this._onDataArrival(R,E)},Y.prototype._onURLRedirect=function(R){this._redirectedURL=R,this._onRedirect&&this._onRedirect(R)},Y.prototype._onContentLengthKnown=function(R){R&&this._fullRequestFlag&&(this._totalLength=R,this._fullRequestFlag=!1)},Y.prototype._onLoaderChunkArrival=function(R,E,A){if(!this._onDataArrival)throw new b.a("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(R.byteLength);var U=this._speedSampler.lastSecondKBps;if(U!==0){var oe=this._normalizeSpeed(U);this._speedNormalized!==oe&&(this._speedNormalized=oe,this._adjustStashSize(oe))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=E),this._stashUsed+R.byteLength<=this._stashSize)(be=new Uint8Array(this._stashBuffer,0,this._stashSize)).set(new Uint8Array(R),this._stashUsed),this._stashUsed+=R.byteLength;else if(be=new Uint8Array(this._stashBuffer,0,this._bufferSize),this._stashUsed>0){var xe=this._stashBuffer.slice(0,this._stashUsed);(N=this._dispatchChunks(xe,this._stashByteStart))<xe.byteLength?N>0&&(de=new Uint8Array(xe,N),be.set(de,0),this._stashUsed=de.byteLength,this._stashByteStart+=N):(this._stashUsed=0,this._stashByteStart+=N),this._stashUsed+R.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+R.byteLength),be=new Uint8Array(this._stashBuffer,0,this._bufferSize)),be.set(new Uint8Array(R),this._stashUsed),this._stashUsed+=R.byteLength}else(N=this._dispatchChunks(R,E))<R.byteLength&&((pe=R.byteLength-N)>this._bufferSize&&(this._expandBuffer(pe),be=new Uint8Array(this._stashBuffer,0,this._bufferSize)),be.set(new Uint8Array(R,N),0),this._stashUsed+=pe,this._stashByteStart=E+N);else if(this._stashUsed===0){var pe;(N=this._dispatchChunks(R,E))<R.byteLength&&((pe=R.byteLength-N)>this._bufferSize&&this._expandBuffer(pe),(be=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(R,N),0),this._stashUsed+=pe,this._stashByteStart=E+N)}else{var be,N;if(this._stashUsed+R.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+R.byteLength),(be=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(R),this._stashUsed),this._stashUsed+=R.byteLength,(N=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart))<this._stashUsed&&N>0){var de=new Uint8Array(this._stashBuffer,N);be.set(de,0)}this._stashUsed-=N,this._stashByteStart+=N}}},Y.prototype._flushStashBuffer=function(R){if(this._stashUsed>0){var E=this._stashBuffer.slice(0,this._stashUsed),A=this._dispatchChunks(E,this._stashByteStart),U=E.byteLength-A;if(A<E.byteLength){if(!R){if(A>0){var oe=new Uint8Array(this._stashBuffer,0,this._bufferSize),xe=new Uint8Array(E,A);oe.set(xe,0),this._stashUsed=xe.byteLength,this._stashByteStart+=A}return 0}w.a.w(this.TAG,"".concat(U," bytes unconsumed data remain when flush buffer, dropped"))}return this._stashUsed=0,this._stashByteStart=0,U}return 0},Y.prototype._onLoaderComplete=function(R,E){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},Y.prototype._onLoaderError=function(R,E){switch(w.a.e(this.TAG,"Loader error, code = ".concat(E.code,", msg = ").concat(E.msg)),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,R=g.b.UNRECOVERABLE_EARLY_EOF),R){case g.b.EARLY_EOF:if(!this._config.isLive&&this._totalLength){var A=this._currentRange.to+1;return void(A<this._totalLength&&(w.a.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(A,!1)))}R=g.b.UNRECOVERABLE_EARLY_EOF;break;case g.b.UNRECOVERABLE_EARLY_EOF:case g.b.CONNECTING_TIMEOUT:case g.b.HTTP_STATUS_CODE_INVALID:case g.b.EXCEPTION:}if(!this._onError)throw new b.d("IOException: "+E.msg);this._onError(R,E)},Y})();v.a=re},function(Z,v,x){var G=(function(){function w(){}return w.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(y,g){return y.__proto__=g,y},Object.assign=Object.assign||function(y){if(y==null)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(y),m=1;m<arguments.length;m++){var b=arguments[m];if(b!=null)for(var D in b)b.hasOwnProperty(D)&&(g[D]=b[D])}return g},String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(y,g){var m=g>0?0|g:0;return this.substring(m,m+y.length)===y}}),typeof self.Promise!="function"&&x(21).polyfill()},w})();G.install(),v.a=G},function(Z,v,x){var G=x(9),w=x.n(G),y=x(0),g=x(5),m=x(7),b=x(3),D=(function(){function k(z){this.TAG="MSEController",this._config=z,this._emitter=new w.a,this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onStartStreaming:this._onStartStreaming.bind(this),onEndStreaming:this._onEndStreaming.bind(this),onQualityChange:this._onQualityChange.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._useManagedMediaSource="ManagedMediaSource"in self&&!("MediaSource"in self),this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElementProxy=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]}}return k.prototype.destroy=function(){this._mediaSource&&this.shutdown(),this._mediaSourceObjectURL&&this.revokeObjectURL(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},k.prototype.on=function(z,C){this._emitter.addListener(z,C)},k.prototype.off=function(z,C){this._emitter.removeListener(z,C)},k.prototype.initialize=function(z){if(this._mediaSource)throw new b.a("MediaSource has been attached to an HTMLMediaElement!");this._useManagedMediaSource&&y.a.v(this.TAG,"Using ManagedMediaSource");var C=this._mediaSource=this._useManagedMediaSource?new self.ManagedMediaSource:new self.MediaSource;C.addEventListener("sourceopen",this.e.onSourceOpen),C.addEventListener("sourceended",this.e.onSourceEnded),C.addEventListener("sourceclose",this.e.onSourceClose),this._useManagedMediaSource&&(C.addEventListener("startstreaming",this.e.onStartStreaming),C.addEventListener("endstreaming",this.e.onEndStreaming),C.addEventListener("qualitychange",this.e.onQualityChange)),this._mediaElementProxy=z},k.prototype.shutdown=function(){if(this._mediaSource){var z=this._mediaSource;for(var C in this._sourceBuffers){var I=this._pendingSegments[C];I.splice(0,I.length),this._pendingSegments[C]=null,this._pendingRemoveRanges[C]=null,this._lastInitSegments[C]=null;var K=this._sourceBuffers[C];if(K){if(z.readyState!=="closed"){try{z.removeSourceBuffer(K)}catch(J){y.a.e(this.TAG,J.message)}K.removeEventListener("error",this.e.onSourceBufferError),K.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[C]=null,this._sourceBuffers[C]=null}}if(z.readyState==="open")try{z.endOfStream()}catch(J){y.a.e(this.TAG,J.message)}this._mediaElementProxy=null,z.removeEventListener("sourceopen",this.e.onSourceOpen),z.removeEventListener("sourceended",this.e.onSourceEnded),z.removeEventListener("sourceclose",this.e.onSourceClose),this._useManagedMediaSource&&(z.removeEventListener("startstreaming",this.e.onStartStreaming),z.removeEventListener("endstreaming",this.e.onEndStreaming),z.removeEventListener("qualitychange",this.e.onQualityChange)),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._mediaSource=null}},k.prototype.isManagedMediaSource=function(){return this._useManagedMediaSource},k.prototype.getObject=function(){if(!this._mediaSource)throw new b.a("MediaSource has not been initialized yet!");return this._mediaSource},k.prototype.getHandle=function(){if(!this._mediaSource)throw new b.a("MediaSource has not been initialized yet!");return this._mediaSource.handle},k.prototype.getObjectURL=function(){if(!this._mediaSource)throw new b.a("MediaSource has not been initialized yet!");return this._mediaSourceObjectURL==null&&(this._mediaSourceObjectURL=URL.createObjectURL(this._mediaSource)),this._mediaSourceObjectURL},k.prototype.revokeObjectURL=function(){this._mediaSourceObjectURL&&(URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},k.prototype.appendInitSegment=function(z,C){if(C===void 0&&(C=void 0),!this._mediaSource||this._mediaSource.readyState!=="open"||this._mediaSource.streaming===!1)return this._pendingSourceBufferInit.push(z),void this._pendingSegments[z.type].push(z);var I=z,K="".concat(I.container);I.codec&&I.codec.length>0&&(I.codec==="opus"&&g.a.safari&&(I.codec="Opus"),K+=";codecs=".concat(I.codec));var J=!1;if(y.a.v(this.TAG,"Received Initialization Segment, mimeType: "+K),this._lastInitSegments[I.type]=I,K!==this._mimeTypes[I.type]){if(this._mimeTypes[I.type])y.a.v(this.TAG,"Notice: ".concat(I.type," mimeType changed, origin: ").concat(this._mimeTypes[I.type],", target: ").concat(K));else{J=!0;try{var F=this._sourceBuffers[I.type]=this._mediaSource.addSourceBuffer(K);F.addEventListener("error",this.e.onSourceBufferError),F.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(le){return y.a.e(this.TAG,le.message),void this._emitter.emit(m.a.ERROR,{code:le.code,msg:le.message})}}this._mimeTypes[I.type]=K}C||this._pendingSegments[I.type].push(I),J||this._sourceBuffers[I.type]&&!this._sourceBuffers[I.type].updating&&this._doAppendSegments(),g.a.safari&&I.container==="audio/mpeg"&&I.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=I.mediaDuration/1e3,this._updateMediaSourceDuration())},k.prototype.appendMediaSegment=function(z){var C=z;this._pendingSegments[C.type].push(C),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var I=this._sourceBuffers[C.type];!I||I.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()},k.prototype.flush=function(){for(var z in this._sourceBuffers)if(this._sourceBuffers[z]){var C=this._sourceBuffers[z];if(this._mediaSource.readyState==="open")try{C.abort()}catch(P){y.a.e(this.TAG,P.message)}var I=this._pendingSegments[z];if(I.splice(0,I.length),this._mediaSource.readyState!=="closed"){for(var K=0;K<C.buffered.length;K++){var J=C.buffered.start(K),F=C.buffered.end(K);this._pendingRemoveRanges[z].push({start:J,end:F})}if(C.updating||this._doRemoveRanges(),g.a.safari){var le=this._lastInitSegments[z];le&&(this._pendingSegments[z].push(le),C.updating||this._doAppendSegments())}}}},k.prototype.endOfStream=function(){var z=this._mediaSource,C=this._sourceBuffers;z&&z.readyState==="open"?C.video&&C.video.updating||C.audio&&C.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,z.endOfStream()):z&&z.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0)},k.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var z=this._mediaElementProxy.getCurrentTime();for(var C in this._sourceBuffers){var I=this._sourceBuffers[C];if(I){var K=I.buffered;if(K.length>=1&&z-K.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},k.prototype._doCleanupSourceBuffer=function(){var z=this._mediaElementProxy.getCurrentTime();for(var C in this._sourceBuffers){var I=this._sourceBuffers[C];if(I){for(var K=I.buffered,J=!1,F=0;F<K.length;F++){var le=K.start(F),P=K.end(F);if(le<=z&&z<P+3){if(z-le>=this._config.autoCleanupMaxBackwardDuration){J=!0;var te=z-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[C].push({start:le,end:te})}}else P<z&&(J=!0,this._pendingRemoveRanges[C].push({start:le,end:P}))}J&&!I.updating&&this._doRemoveRanges()}}},k.prototype._updateMediaSourceDuration=function(){var z=this._sourceBuffers;if(this._mediaElementProxy.getReadyState()!==0&&this._mediaSource.readyState==="open"&&!(z.video&&z.video.updating||z.audio&&z.audio.updating)){var C=this._mediaSource.duration,I=this._pendingMediaDuration;I>0&&(isNaN(C)||I>C)&&(y.a.v(this.TAG,"Update MediaSource duration from ".concat(C," to ").concat(I)),this._mediaSource.duration=I),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},k.prototype._doRemoveRanges=function(){for(var z in this._pendingRemoveRanges)if(this._sourceBuffers[z]&&!this._sourceBuffers[z].updating)for(var C=this._sourceBuffers[z],I=this._pendingRemoveRanges[z];I.length&&!C.updating;){var K=I.shift();C.remove(K.start,K.end)}},k.prototype._doAppendSegments=function(){var z=this._pendingSegments;for(var C in z)if(this._sourceBuffers[C]&&!this._sourceBuffers[C].updating&&this._mediaSource.streaming!==!1&&z[C].length>0){var I=z[C].shift();if(typeof I.timestampOffset=="number"&&isFinite(I.timestampOffset)){var K=this._sourceBuffers[C].timestampOffset,J=I.timestampOffset/1e3;Math.abs(K-J)>.1&&(y.a.v(this.TAG,"Update MPEG audio timestampOffset from ".concat(K," to ").concat(J)),this._sourceBuffers[C].timestampOffset=J),delete I.timestampOffset}if(!I.data||I.data.byteLength===0)continue;try{this._sourceBuffers[C].appendBuffer(I.data),this._isBufferFull=!1}catch(F){this._pendingSegments[C].unshift(I),F.code===22?(this._isBufferFull||this._emitter.emit(m.a.BUFFER_FULL),this._isBufferFull=!0):(y.a.e(this.TAG,F.message),this._emitter.emit(m.a.ERROR,{code:F.code,msg:F.message}))}}},k.prototype._onSourceOpen=function(){if(y.a.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var z=this._pendingSourceBufferInit;z.length;){var C=z.shift();this.appendInitSegment(C,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(m.a.SOURCE_OPEN)},k.prototype._onStartStreaming=function(){y.a.v(this.TAG,"ManagedMediaSource onStartStreaming"),this._emitter.emit(m.a.START_STREAMING)},k.prototype._onEndStreaming=function(){y.a.v(this.TAG,"ManagedMediaSource onEndStreaming"),this._emitter.emit(m.a.END_STREAMING)},k.prototype._onQualityChange=function(){y.a.v(this.TAG,"ManagedMediaSource onQualityChange")},k.prototype._onSourceEnded=function(){y.a.v(this.TAG,"MediaSource onSourceEnded")},k.prototype._onSourceClose=function(){y.a.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose),this._useManagedMediaSource&&(this._mediaSource.removeEventListener("startstreaming",this.e.onStartStreaming),this._mediaSource.removeEventListener("endstreaming",this.e.onEndStreaming),this._mediaSource.removeEventListener("qualitychange",this.e.onQualityChange)))},k.prototype._hasPendingSegments=function(){var z=this._pendingSegments;return z.video.length>0||z.audio.length>0},k.prototype._hasPendingRemoveRanges=function(){var z=this._pendingRemoveRanges;return z.video.length>0||z.audio.length>0},k.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(m.a.UPDATE_END)},k.prototype._onSourceBufferError=function(z){y.a.e(this.TAG,"SourceBuffer Error: ".concat(z))},k})();v.a=D},function(Z,v,x){var G=x(9),w=x.n(G),y=x(18),g=x.n(y),m=x(0),b=x(8),D=x(13),k=x(1),z=(x(19),x(12)),C=(function(){function I(K,J){if(this.TAG="Transmuxer",this._emitter=new w.a,J.enableWorker&&typeof Worker<"u")try{this._worker=g()(19),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[K,J]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},b.a.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:b.a.getConfig()})}catch{m.a.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new D.a(K,J)}else this._controller=new D.a(K,J);if(this._controller){var F=this._controller;F.on(k.a.IO_ERROR,this._onIOError.bind(this)),F.on(k.a.DEMUX_ERROR,this._onDemuxError.bind(this)),F.on(k.a.INIT_SEGMENT,this._onInitSegment.bind(this)),F.on(k.a.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),F.on(k.a.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),F.on(k.a.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),F.on(k.a.MEDIA_INFO,this._onMediaInfo.bind(this)),F.on(k.a.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),F.on(k.a.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),F.on(k.a.TIMED_ID3_METADATA_ARRIVED,this._onTimedID3MetadataArrived.bind(this)),F.on(k.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,this._onSynchronousKLVMetadataArrived.bind(this)),F.on(k.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,this._onAsynchronousKLVMetadataArrived.bind(this)),F.on(k.a.SMPTE2038_METADATA_ARRIVED,this._onSMPTE2038MetadataArrived.bind(this)),F.on(k.a.SCTE35_METADATA_ARRIVED,this._onSCTE35MetadataArrived.bind(this)),F.on(k.a.PES_PRIVATE_DATA_DESCRIPTOR,this._onPESPrivateDataDescriptor.bind(this)),F.on(k.a.PES_PRIVATE_DATA_ARRIVED,this._onPESPrivateDataArrived.bind(this)),F.on(k.a.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),F.on(k.a.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return I.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),b.a.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},I.prototype.on=function(K,J){this._emitter.addListener(K,J)},I.prototype.off=function(K,J){this._emitter.removeListener(K,J)},I.prototype.hasWorker=function(){return this._worker!=null},I.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},I.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},I.prototype.seek=function(K){this._worker?this._worker.postMessage({cmd:"seek",param:K}):this._controller.seek(K)},I.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},I.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},I.prototype._onInitSegment=function(K,J){var F=this;Promise.resolve().then((function(){F._emitter.emit(k.a.INIT_SEGMENT,K,J)}))},I.prototype._onMediaSegment=function(K,J){var F=this;Promise.resolve().then((function(){F._emitter.emit(k.a.MEDIA_SEGMENT,K,J)}))},I.prototype._onLoadingComplete=function(){var K=this;Promise.resolve().then((function(){K._emitter.emit(k.a.LOADING_COMPLETE)}))},I.prototype._onRecoveredEarlyEof=function(){var K=this;Promise.resolve().then((function(){K._emitter.emit(k.a.RECOVERED_EARLY_EOF)}))},I.prototype._onMediaInfo=function(K){var J=this;Promise.resolve().then((function(){J._emitter.emit(k.a.MEDIA_INFO,K)}))},I.prototype._onMetaDataArrived=function(K){var J=this;Promise.resolve().then((function(){J._emitter.emit(k.a.METADATA_ARRIVED,K)}))},I.prototype._onScriptDataArrived=function(K){var J=this;Promise.resolve().then((function(){J._emitter.emit(k.a.SCRIPTDATA_ARRIVED,K)}))},I.prototype._onTimedID3MetadataArrived=function(K){var J=this;Promise.resolve().then((function(){J._emitter.emit(k.a.TIMED_ID3_METADATA_ARRIVED,K)}))},I.prototype._onSynchronousKLVMetadataArrived=function(K){var J=this;Promise.resolve().then((function(){J._emitter.emit(k.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,K)}))},I.prototype._onAsynchronousKLVMetadataArrived=function(K){var J=this;Promise.resolve().then((function(){J._emitter.emit(k.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,K)}))},I.prototype._onSMPTE2038MetadataArrived=function(K){var J=this;Promise.resolve().then((function(){J._emitter.emit(k.a.SMPTE2038_METADATA_ARRIVED,K)}))},I.prototype._onSCTE35MetadataArrived=function(K){var J=this;Promise.resolve().then((function(){J._emitter.emit(k.a.SCTE35_METADATA_ARRIVED,K)}))},I.prototype._onPESPrivateDataDescriptor=function(K){var J=this;Promise.resolve().then((function(){J._emitter.emit(k.a.PES_PRIVATE_DATA_DESCRIPTOR,K)}))},I.prototype._onPESPrivateDataArrived=function(K){var J=this;Promise.resolve().then((function(){J._emitter.emit(k.a.PES_PRIVATE_DATA_ARRIVED,K)}))},I.prototype._onStatisticsInfo=function(K){var J=this;Promise.resolve().then((function(){J._emitter.emit(k.a.STATISTICS_INFO,K)}))},I.prototype._onIOError=function(K,J){var F=this;Promise.resolve().then((function(){F._emitter.emit(k.a.IO_ERROR,K,J)}))},I.prototype._onDemuxError=function(K,J){var F=this;Promise.resolve().then((function(){F._emitter.emit(k.a.DEMUX_ERROR,K,J)}))},I.prototype._onRecommendSeekpoint=function(K){var J=this;Promise.resolve().then((function(){J._emitter.emit(k.a.RECOMMEND_SEEKPOINT,K)}))},I.prototype._onLoggingConfigChanged=function(K){this._worker&&this._worker.postMessage({cmd:"logging_config",param:K})},I.prototype._onWorkerMessage=function(K){var J=K.data,F=J.data;if(J.msg==="destroyed"||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(J.msg){case k.a.INIT_SEGMENT:case k.a.MEDIA_SEGMENT:this._emitter.emit(J.msg,F.type,F.data);break;case k.a.LOADING_COMPLETE:case k.a.RECOVERED_EARLY_EOF:this._emitter.emit(J.msg);break;case k.a.MEDIA_INFO:Object.setPrototypeOf(F,z.a.prototype),this._emitter.emit(J.msg,F);break;case k.a.METADATA_ARRIVED:case k.a.SCRIPTDATA_ARRIVED:case k.a.TIMED_ID3_METADATA_ARRIVED:case k.a.SYNCHRONOUS_KLV_METADATA_ARRIVED:case k.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED:case k.a.SMPTE2038_METADATA_ARRIVED:case k.a.SCTE35_METADATA_ARRIVED:case k.a.PES_PRIVATE_DATA_DESCRIPTOR:case k.a.PES_PRIVATE_DATA_ARRIVED:case k.a.STATISTICS_INFO:this._emitter.emit(J.msg,F);break;case k.a.IO_ERROR:case k.a.DEMUX_ERROR:this._emitter.emit(J.msg,F.type,F.info);break;case k.a.RECOMMEND_SEEKPOINT:this._emitter.emit(J.msg,F);break;case"logcat_callback":m.a.emitter.emit("log",F.type,F.logcat)}},I})();v.a=C},function(Z,v,x){function G(m){var b={};function D(z){if(b[z])return b[z].exports;var C=b[z]={i:z,l:!1,exports:{}};return m[z].call(C.exports,C,C.exports,D),C.l=!0,C.exports}D.m=m,D.c=b,D.i=function(z){return z},D.d=function(z,C,I){D.o(z,C)||Object.defineProperty(z,C,{configurable:!1,enumerable:!0,get:I})},D.r=function(z){Object.defineProperty(z,"__esModule",{value:!0})},D.n=function(z){var C=z&&z.__esModule?function(){return z.default}:function(){return z};return D.d(C,"a",C),C},D.o=function(z,C){return Object.prototype.hasOwnProperty.call(z,C)},D.p="/",D.oe=function(z){throw console.error(z),z};var k=D(D.s=ENTRY_MODULE);return k.default||k}function w(m){return(m+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function y(m,b,D){var k={};k[D]=[];var z=b.toString(),C=z.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!C)return k;for(var I,K=C[1],J=new RegExp("(\\\\n|\\W)"+w(K)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");I=J.exec(z);)I[3]!=="dll-reference"&&k[D].push(I[3]);for(J=new RegExp("\\("+w(K)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");I=J.exec(z);)m[I[2]]||(k[D].push(I[1]),m[I[2]]=x(I[1]).m),k[I[2]]=k[I[2]]||[],k[I[2]].push(I[4]);for(var F,le=Object.keys(k),P=0;P<le.length;P++)for(var te=0;te<k[le[P]].length;te++)F=k[le[P]][te],isNaN(1*F)||(k[le[P]][te]=1*k[le[P]][te]);return k}function g(m){return Object.keys(m).reduce((function(b,D){return b||m[D].length>0}),!1)}Z.exports=function(m,b){b=b||{};var D={main:x.m},k=b.all?{main:Object.keys(D.main)}:(function(J,F){for(var le={main:[F]},P={main:[]},te={main:{}};g(le);)for(var re=Object.keys(le),Y=0;Y<re.length;Y++){var R=re[Y],E=le[R].pop();if(te[R]=te[R]||{},!te[R][E]&&J[R][E]){te[R][E]=!0,P[R]=P[R]||[],P[R].push(E);for(var A=y(J,J[R][E],R),U=Object.keys(A),oe=0;oe<U.length;oe++)le[U[oe]]=le[U[oe]]||[],le[U[oe]]=le[U[oe]].concat(A[U[oe]])}}return P})(D,m),z="";Object.keys(k).filter((function(J){return J!=="main"})).forEach((function(J){for(var F=0;k[J][F];)F++;k[J].push(F),D[J][F]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",z=z+"var "+J+" = ("+G.toString().replace("ENTRY_MODULE",JSON.stringify(F))+")({"+k[J].map((function(le){return JSON.stringify(le)+": "+D[J][le].toString()})).join(",")+`});
`})),z=z+"new (("+G.toString().replace("ENTRY_MODULE",JSON.stringify(m))+")({"+k.main.map((function(J){return JSON.stringify(J)+": "+D.main[J].toString()})).join(",")+"}))(self);";var C=new self.Blob([z],{type:"text/javascript"});if(b.bare)return C;var I=(self.URL||self.webkitURL||self.mozURL||self.msURL).createObjectURL(C),K=new self.Worker(I);return K.objectURL=I,K}},function(Z,v,x){x.r(v),x(0);var G=x(8),w=x(15),y=x(13),g=x(1);v.default=function(m){var b=null,D=(function(pe,be){m.postMessage({msg:"logcat_callback",data:{type:pe,logcat:be}})}).bind(this);function k(pe,be){var N={msg:g.a.INIT_SEGMENT,data:{type:pe,data:be}};m.postMessage(N,[be.data])}function z(pe,be){var N={msg:g.a.MEDIA_SEGMENT,data:{type:pe,data:be}};m.postMessage(N,[be.data])}function C(){var pe={msg:g.a.LOADING_COMPLETE};m.postMessage(pe)}function I(){var pe={msg:g.a.RECOVERED_EARLY_EOF};m.postMessage(pe)}function K(pe){var be={msg:g.a.MEDIA_INFO,data:pe};m.postMessage(be)}function J(pe){var be={msg:g.a.METADATA_ARRIVED,data:pe};m.postMessage(be)}function F(pe){var be={msg:g.a.SCRIPTDATA_ARRIVED,data:pe};m.postMessage(be)}function le(pe){var be={msg:g.a.TIMED_ID3_METADATA_ARRIVED,data:pe};m.postMessage(be)}function P(pe){var be={msg:g.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,data:pe};m.postMessage(be)}function te(pe){var be={msg:g.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,data:pe};m.postMessage(be)}function re(pe){var be={msg:g.a.SMPTE2038_METADATA_ARRIVED,data:pe};m.postMessage(be)}function Y(pe){var be={msg:g.a.SCTE35_METADATA_ARRIVED,data:pe};m.postMessage(be)}function R(pe){var be={msg:g.a.PES_PRIVATE_DATA_DESCRIPTOR,data:pe};m.postMessage(be)}function E(pe){var be={msg:g.a.PES_PRIVATE_DATA_ARRIVED,data:pe};m.postMessage(be)}function A(pe){var be={msg:g.a.STATISTICS_INFO,data:pe};m.postMessage(be)}function U(pe,be){m.postMessage({msg:g.a.IO_ERROR,data:{type:pe,info:be}})}function oe(pe,be){m.postMessage({msg:g.a.DEMUX_ERROR,data:{type:pe,info:be}})}function xe(pe){m.postMessage({msg:g.a.RECOMMEND_SEEKPOINT,data:pe})}w.a.install(),m.addEventListener("message",(function(pe){switch(pe.data.cmd){case"init":(b=new y.a(pe.data.param[0],pe.data.param[1])).on(g.a.IO_ERROR,U.bind(this)),b.on(g.a.DEMUX_ERROR,oe.bind(this)),b.on(g.a.INIT_SEGMENT,k.bind(this)),b.on(g.a.MEDIA_SEGMENT,z.bind(this)),b.on(g.a.LOADING_COMPLETE,C.bind(this)),b.on(g.a.RECOVERED_EARLY_EOF,I.bind(this)),b.on(g.a.MEDIA_INFO,K.bind(this)),b.on(g.a.METADATA_ARRIVED,J.bind(this)),b.on(g.a.SCRIPTDATA_ARRIVED,F.bind(this)),b.on(g.a.TIMED_ID3_METADATA_ARRIVED,le.bind(this)),b.on(g.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,P.bind(this)),b.on(g.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,te.bind(this)),b.on(g.a.SMPTE2038_METADATA_ARRIVED,re.bind(this)),b.on(g.a.SCTE35_METADATA_ARRIVED,Y.bind(this)),b.on(g.a.PES_PRIVATE_DATA_DESCRIPTOR,R.bind(this)),b.on(g.a.PES_PRIVATE_DATA_ARRIVED,E.bind(this)),b.on(g.a.STATISTICS_INFO,A.bind(this)),b.on(g.a.RECOMMEND_SEEKPOINT,xe.bind(this));break;case"destroy":b&&(b.destroy(),b=null),m.postMessage({msg:"destroyed"});break;case"start":b.start();break;case"stop":b.stop();break;case"seek":b.seek(pe.data.param);break;case"pause":b.pause();break;case"resume":b.resume();break;case"logging_config":var be=pe.data.param;G.a.applyConfig(be),be.enableCallback===!0?G.a.addLogListener(D):G.a.removeLogListener(D)}}))}},function(Z,v,x){Z.exports=x(25).default},function(Z,v,x){(function(G,w){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var y;y=function(){function g(me){return typeof me=="function"}var m=Array.isArray?Array.isArray:function(me){return Object.prototype.toString.call(me)==="[object Array]"},b=0,D=void 0,k=void 0,z=function(me,ve){P[b]=me,P[b+1]=ve,(b+=2)===2&&(k?k(te):A())},C=typeof window<"u"?window:void 0,I=C||{},K=I.MutationObserver||I.WebKitMutationObserver,J=typeof self>"u"&&G!==void 0&&{}.toString.call(G)==="[object process]",F=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function le(){var me=setTimeout;return function(){return me(te,1)}}var P=new Array(1e3);function te(){for(var me=0;me<b;me+=2)(0,P[me])(P[me+1]),P[me]=void 0,P[me+1]=void 0;b=0}var re,Y,R,E,A=void 0;function U(me,ve){var we=this,Ie=new this.constructor(pe);Ie[xe]===void 0&&Se(Ie);var Ve=we._state;if(Ve){var Qe=arguments[Ve-1];z((function(){return W(Ve,Ie,Qe,we._result)}))}else d(we,Ie,me,ve);return Ie}function oe(me){if(me&&typeof me=="object"&&me.constructor===this)return me;var ve=new this(pe);return N(ve,me),ve}J?A=function(){return G.nextTick(te)}:K?(Y=0,R=new K(te),E=document.createTextNode(""),R.observe(E,{characterData:!0}),A=function(){E.data=Y=++Y%2}):F?((re=new MessageChannel).port1.onmessage=te,A=function(){return re.port2.postMessage(0)}):A=C===void 0?(function(){try{var me=Function("return this")().require("vertx");return(D=me.runOnLoop||me.runOnContext)!==void 0?function(){D(te)}:le()}catch{return le()}})():le();var xe=Math.random().toString(36).substring(2);function pe(){}function be(me,ve,we){ve.constructor===me.constructor&&we===U&&ve.constructor.resolve===oe?(function(Ie,Ve){Ve._state===1?he(Ie,Ve._result):Ve._state===2?M(Ie,Ve._result):d(Ve,void 0,(function(Qe){return N(Ie,Qe)}),(function(Qe){return M(Ie,Qe)}))})(me,ve):we===void 0?he(me,ve):g(we)?(function(Ie,Ve,Qe){z((function(bt){var xt=!1,ua=(function(_t,Ht,Fi,Ki){try{_t.call(Ht,Fi,Ki)}catch(Xi){return Xi}})(Qe,Ve,(function(_t){xt||(xt=!0,Ve!==_t?N(bt,_t):he(bt,_t))}),(function(_t){xt||(xt=!0,M(bt,_t))}),bt._label);!xt&&ua&&(xt=!0,M(bt,ua))}),Ie)})(me,ve,we):he(me,ve)}function N(me,ve){if(me===ve)M(me,new TypeError("You cannot resolve a promise with itself"));else if(Ve=typeof(Ie=ve),Ie===null||Ve!=="object"&&Ve!=="function")he(me,ve);else{var we=void 0;try{we=ve.then}catch(Qe){return void M(me,Qe)}be(me,ve,we)}var Ie,Ve}function de(me){me._onerror&&me._onerror(me._result),O(me)}function he(me,ve){me._state===void 0&&(me._result=ve,me._state=1,me._subscribers.length!==0&&z(O,me))}function M(me,ve){me._state===void 0&&(me._state=2,me._result=ve,z(de,me))}function d(me,ve,we,Ie){var Ve=me._subscribers,Qe=Ve.length;me._onerror=null,Ve[Qe]=ve,Ve[Qe+1]=we,Ve[Qe+2]=Ie,Qe===0&&me._state&&z(O,me)}function O(me){var ve=me._subscribers,we=me._state;if(ve.length!==0){for(var Ie=void 0,Ve=void 0,Qe=me._result,bt=0;bt<ve.length;bt+=3)Ie=ve[bt],Ve=ve[bt+we],Ie?W(we,Ie,Ve,Qe):Ve(Qe);me._subscribers.length=0}}function W(me,ve,we,Ie){var Ve=g(we),Qe=void 0,bt=void 0,xt=!0;if(Ve){try{Qe=we(Ie)}catch(ua){xt=!1,bt=ua}if(ve===Qe)return void M(ve,new TypeError("A promises callback cannot return that same promise."))}else Qe=Ie;ve._state!==void 0||(Ve&&xt?N(ve,Qe):xt===!1?M(ve,bt):me===1?he(ve,Qe):me===2&&M(ve,Qe))}var _e=0;function Se(me){me[xe]=_e++,me._state=void 0,me._result=void 0,me._subscribers=[]}var Le=(function(){function me(ve,we){this._instanceConstructor=ve,this.promise=new ve(pe),this.promise[xe]||Se(this.promise),m(we)?(this.length=we.length,this._remaining=we.length,this._result=new Array(this.length),this.length===0?he(this.promise,this._result):(this.length=this.length||0,this._enumerate(we),this._remaining===0&&he(this.promise,this._result))):M(this.promise,new Error("Array Methods must be provided an Array"))}return me.prototype._enumerate=function(ve){for(var we=0;this._state===void 0&&we<ve.length;we++)this._eachEntry(ve[we],we)},me.prototype._eachEntry=function(ve,we){var Ie=this._instanceConstructor,Ve=Ie.resolve;if(Ve===oe){var Qe=void 0,bt=void 0,xt=!1;try{Qe=ve.then}catch(_t){xt=!0,bt=_t}if(Qe===U&&ve._state!==void 0)this._settledAt(ve._state,we,ve._result);else if(typeof Qe!="function")this._remaining--,this._result[we]=ve;else if(Ie===Me){var ua=new Ie(pe);xt?M(ua,bt):be(ua,ve,Qe),this._willSettleAt(ua,we)}else this._willSettleAt(new Ie((function(_t){return _t(ve)})),we)}else this._willSettleAt(Ve(ve),we)},me.prototype._settledAt=function(ve,we,Ie){var Ve=this.promise;Ve._state===void 0&&(this._remaining--,ve===2?M(Ve,Ie):this._result[we]=Ie),this._remaining===0&&he(Ve,this._result)},me.prototype._willSettleAt=function(ve,we){var Ie=this;d(ve,void 0,(function(Ve){return Ie._settledAt(1,we,Ve)}),(function(Ve){return Ie._settledAt(2,we,Ve)}))},me})(),Me=(function(){function me(ve){this[xe]=_e++,this._result=this._state=void 0,this._subscribers=[],pe!==ve&&(typeof ve!="function"&&(function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")})(),this instanceof me?(function(we,Ie){try{Ie((function(Ve){N(we,Ve)}),(function(Ve){M(we,Ve)}))}catch(Ve){M(we,Ve)}})(this,ve):(function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")})())}return me.prototype.catch=function(ve){return this.then(null,ve)},me.prototype.finally=function(ve){var we=this.constructor;return g(ve)?this.then((function(Ie){return we.resolve(ve()).then((function(){return Ie}))}),(function(Ie){return we.resolve(ve()).then((function(){throw Ie}))})):this.then(ve,ve)},me})();return Me.prototype.then=U,Me.all=function(me){return new Le(this,me).promise},Me.race=function(me){var ve=this;return m(me)?new ve((function(we,Ie){for(var Ve=me.length,Qe=0;Qe<Ve;Qe++)ve.resolve(me[Qe]).then(we,Ie)})):new ve((function(we,Ie){return Ie(new TypeError("You must pass an array to race."))}))},Me.resolve=oe,Me.reject=function(me){var ve=new this(pe);return M(ve,me),ve},Me._setScheduler=function(me){k=me},Me._setAsap=function(me){z=me},Me._asap=z,Me.polyfill=function(){var me=void 0;if(w!==void 0)me=w;else if(typeof self<"u")me=self;else try{me=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ve=me.Promise;if(ve){var we=null;try{we=Object.prototype.toString.call(ve.resolve())}catch{}if(we==="[object Promise]"&&!ve.cast)return}me.Promise=Me},Me.Promise=Me,Me},Z.exports=y()}).call(this,x(22),x(23))},function(Z,v){var x,G,w=Z.exports={};function y(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function m(F){if(x===setTimeout)return setTimeout(F,0);if((x===y||!x)&&setTimeout)return x=setTimeout,setTimeout(F,0);try{return x(F,0)}catch{try{return x.call(null,F,0)}catch{return x.call(this,F,0)}}}(function(){try{x=typeof setTimeout=="function"?setTimeout:y}catch{x=y}try{G=typeof clearTimeout=="function"?clearTimeout:g}catch{G=g}})();var b,D=[],k=!1,z=-1;function C(){k&&b&&(k=!1,b.length?D=b.concat(D):z=-1,D.length&&I())}function I(){if(!k){var F=m(C);k=!0;for(var le=D.length;le;){for(b=D,D=[];++z<le;)b&&b[z].run();z=-1,le=D.length}b=null,k=!1,(function(P){if(G===clearTimeout)return clearTimeout(P);if((G===g||!G)&&clearTimeout)return G=clearTimeout,clearTimeout(P);try{G(P)}catch{try{return G.call(null,P)}catch{return G.call(this,P)}}})(F)}}function K(F,le){this.fun=F,this.array=le}function J(){}w.nextTick=function(F){var le=new Array(arguments.length-1);if(arguments.length>1)for(var P=1;P<arguments.length;P++)le[P-1]=arguments[P];D.push(new K(F,le)),D.length!==1||k||m(I)},K.prototype.run=function(){this.fun.apply(null,this.array)},w.title="browser",w.browser=!0,w.env={},w.argv=[],w.version="",w.versions={},w.on=J,w.addListener=J,w.once=J,w.off=J,w.removeListener=J,w.removeAllListeners=J,w.emit=J,w.prependListener=J,w.prependOnceListener=J,w.listeners=function(F){return[]},w.binding=function(F){throw new Error("process.binding is not supported")},w.cwd=function(){return"/"},w.chdir=function(F){throw new Error("process.chdir is not supported")},w.umask=function(){return 0}},function(Z,v){var x;x=(function(){return this})();try{x=x||new Function("return this")()}catch{typeof window=="object"&&(x=window)}Z.exports=x},function(Z,v,x){x.r(v);var G=x(0),w=x(8),y=x(3),g=x(7),m=x(16),b=x(17),D=x(1),k=x(4),z=x(10);v.default=function(C){var I="PlayerEngineWorker",K=(function(M,d){C.postMessage({msg:"logcat_callback",type:M,logcat:d})}).bind(void 0),J=null,F=null,le=null,P=null,te=!1,re=!1,Y=0,R=0,E=!1;function A(){le&&(le.shutdown(),le.destroy(),le=null)}function U(){if(J==null||F==null)throw new y.a("Worker not initialized");if(P)throw new y.a("Transmuxer has been initialized");re||(!F.deferLoadAfterSourceOpen||te?((P=new b.a(J,F)).on(D.a.INIT_SEGMENT,(function(M,d){le.appendInitSegment(d)})),P.on(D.a.MEDIA_SEGMENT,(function(M,d){le.appendMediaSegment(d),C.postMessage({msg:"buffered_position_changed",buffered_position_milliseconds:d.info.endDts})})),P.on(D.a.LOADING_COMPLETE,(function(){le.endOfStream(),C.postMessage({msg:"player_event",event:k.a.LOADING_COMPLETE})})),P.on(D.a.RECOVERED_EARLY_EOF,(function(){C.postMessage({msg:"player_event",event:k.a.RECOVERED_EARLY_EOF})})),P.on(D.a.IO_ERROR,(function(M,d){C.postMessage({msg:"player_event",event:k.a.ERROR,error_type:z.b.NETWORK_ERROR,error_detail:M,info:d})})),P.on(D.a.DEMUX_ERROR,(function(M,d){C.postMessage({msg:"player_event",event:k.a.ERROR,error_type:z.b.MEDIA_ERROR,error_detail:M,info:d})})),P.on(D.a.MEDIA_INFO,(function(M){de(D.a.MEDIA_INFO,M)})),P.on(D.a.STATISTICS_INFO,(function(M){de(D.a.STATISTICS_INFO,M)})),P.on(D.a.RECOMMEND_SEEKPOINT,(function(M){(function(d){C.postMessage({msg:"transmuxing_event",event:D.a.RECOMMEND_SEEKPOINT,milliseconds:d})})(M)})),P.on(D.a.METADATA_ARRIVED,(function(M){he(k.a.METADATA_ARRIVED,M)})),P.on(D.a.SCRIPTDATA_ARRIVED,(function(M){he(k.a.SCRIPTDATA_ARRIVED,M)})),P.on(D.a.TIMED_ID3_METADATA_ARRIVED,(function(M){he(k.a.TIMED_ID3_METADATA_ARRIVED,M)})),P.on(D.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,(function(M){he(k.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,M)})),P.on(D.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,(function(M){he(k.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,M)})),P.on(D.a.SMPTE2038_METADATA_ARRIVED,(function(M){he(k.a.SMPTE2038_METADATA_ARRIVED,M)})),P.on(D.a.SCTE35_METADATA_ARRIVED,(function(M){he(k.a.SCTE35_METADATA_ARRIVED,M)})),P.on(D.a.PES_PRIVATE_DATA_DESCRIPTOR,(function(M){he(k.a.PES_PRIVATE_DATA_DESCRIPTOR,M)})),P.on(D.a.PES_PRIVATE_DATA_ARRIVED,(function(M){he(k.a.PES_PRIVATE_DATA_ARRIVED,M)})),P.open()):re=!0)}function oe(){le&&le.flush(),P&&(P.close(),P.destroy(),P=null)}function xe(){te=!0,re&&(re=!1,U())}function pe(){C.postMessage({msg:"mse_event",event:g.a.UPDATE_END})}function be(){G.a.v(I,"MSE SourceBuffer is full, report to main thread"),C.postMessage({msg:"mse_event",event:g.a.BUFFER_FULL})}function N(M){C.postMessage({msg:"player_event",event:k.a.ERROR,error_type:z.b.MEDIA_ERROR,error_detail:z.b.MEDIA_MSE_ERROR,info:M})}function de(M,d){C.postMessage({msg:"transmuxing_event",event:M,info:d})}function he(M,d){C.postMessage({msg:"player_event",event:M,extraData:d})}C.addEventListener("message",(function(M){if(!E){var d=M.data;switch(d.cmd){case"logging_config":var O=d;w.a.applyConfig(O.logging_config),O.logging_config.enableCallback===!0?w.a.addLogListener(K):w.a.removeLogListener(K);break;case"init":J=(O=d).media_data_source,F=O.config;break;case"destroy":(function(){P&&oe(),le&&A(),E=!0,C.postMessage({msg:"destroyed"})})();break;case"initialize_mse":(function(){G.a.v(I,"Initializing MediaSource in DedicatedWorker"),(le=new m.a(F)).on(g.a.SOURCE_OPEN,xe.bind(this)),le.on(g.a.UPDATE_END,pe.bind(this)),le.on(g.a.BUFFER_FULL,be.bind(this)),le.on(g.a.ERROR,N.bind(this)),le.initialize({getCurrentTime:function(){return Y},getReadyState:function(){return R}});var W=le.getHandle();C.postMessage({msg:"mse_init",handle:W},[W])})();break;case"shutdown_mse":A();break;case"load":U();break;case"unload":oe();break;case"unbuffered_seek":O=d,le.flush(),P.seek(O.milliseconds);break;case"timeupdate":Y=(O=d).current_time;break;case"readystatechange":R=(O=d).ready_state;break;case"pause_transmuxer":P.pause();break;case"resume_transmuxer":P.resume()}}}))}},function(Z,v,x){x.r(v);var G=x(15),w=x(14),y={enableWorker:!1,enableWorkerForMSE:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,liveBufferLatencyChasing:!1,liveBufferLatencyChasingOnPaused:!1,liveBufferLatencyMaxLatency:1.5,liveBufferLatencyMinRemain:.5,liveSync:!1,liveSyncMaxLatency:1.2,liveSyncTargetLatency:.8,liveSyncPlaybackRate:1.2,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function g(){return Object.assign({},y)}var m=(function(){function M(){}return M.supportMSEH264Playback=function(){var d=self.MediaSource&&self.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),O=self.ManagedMediaSource&&self.ManagedMediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');return d||O},M.supportMSEH265Playback=function(){var d=self.MediaSource&&self.MediaSource.isTypeSupported('video/mp4; codecs="hvc1.1.6.L93.B0"'),O=self.ManagedMediaSource&&self.ManagedMediaSource.isTypeSupported('video/mp4; codecs="hvc1.1.6.L93.B0"');return d||O},M.supportNetworkStreamIO=function(){var d=new w.a({},g()),O=d.loaderType;return d.destroy(),O=="fetch-stream-loader"||O=="xhr-moz-chunked-loader"},M.getNetworkLoaderTypeName=function(){var d=new w.a({},g()),O=d.loaderType;return d.destroy(),O},M.supportNativeMediaPlayback=function(d){M.videoElement==null&&(M.videoElement=window.document.createElement("video"));var O=M.videoElement.canPlayType(d);return O==="probably"||O=="maybe"},M.getFeatureList=function(){var d={msePlayback:!1,mseLivePlayback:!1,mseH265Playback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeMP4H265Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return d.msePlayback=M.supportMSEH264Playback(),d.networkStreamIO=M.supportNetworkStreamIO(),d.networkLoaderName=M.getNetworkLoaderTypeName(),d.mseLivePlayback=d.msePlayback&&d.networkStreamIO,d.mseH265Playback=M.supportMSEH265Playback(),d.nativeMP4H264Playback=M.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),d.nativeMP4H265Playback=M.supportNativeMediaPlayback('video/mp4; codecs="hvc1.1.6.L93.B0"'),d.nativeWebmVP8Playback=M.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),d.nativeWebmVP9Playback=M.supportNativeMediaPlayback('video/webm; codecs="vp9"'),d},M})(),b=x(2),D=x(0),k=x(9),z=x.n(k),C=x(16),I=x(4),K=x(17),J=x(7),F=x(10),le=x(3),P=x(1),te=x(5),re=x(11),Y=(function(){function M(d,O,W){this.TAG="SeekingHandler",this._config=null,this._media_element=null,this._always_seek_keyframe=!1,this._on_unbuffered_seek=null,this._request_set_current_time=!1,this._seek_request_record_clocktime=null,this._idr_sample_list=new re.a,this.e=null,this._config=d,this._media_element=O,this._on_unbuffered_seek=W,this.e={onMediaSeeking:this._onMediaSeeking.bind(this)};var _e=te.a.chrome&&(te.a.version.major<50||te.a.version.major===50&&te.a.version.build<2661);this._always_seek_keyframe=!!(_e||te.a.msedge||te.a.msie),this._always_seek_keyframe&&(this._config.accurateSeek=!1),this._media_element.addEventListener("seeking",this.e.onMediaSeeking)}return M.prototype.destroy=function(){this._idr_sample_list.clear(),this._idr_sample_list=null,this._media_element.removeEventListener("seeking",this.e.onMediaSeeking),this._media_element=null,this._on_unbuffered_seek=null},M.prototype.seek=function(d){var O=this._isPositionBuffered(d),W=!1;if(d<1&&this._media_element.buffered.length>0){var _e=this._media_element.buffered.start(0);(_e<1&&d<_e||te.a.safari)&&(W=!0,d=te.a.safari?.1:_e)}if(W)this.directSeek(d);else if(O)if(this._always_seek_keyframe){var Se=this._getNearestKeyframe(Math.floor(1e3*d));Se!=null&&(d=Se.dts/1e3),this.directSeek(d)}else this.directSeek(d);else this._idr_sample_list.clear(),this._on_unbuffered_seek(Math.floor(1e3*d)),this._config.accurateSeek&&this.directSeek(d)},M.prototype.directSeek=function(d){this._request_set_current_time=!0,this._media_element.currentTime=d},M.prototype.appendSyncPoints=function(d){this._idr_sample_list.appendArray(d)},M.prototype._onMediaSeeking=function(d){if(this._request_set_current_time)this._request_set_current_time=!1;else{var O=this._media_element.currentTime,W=this._media_element.buffered;if(O<1&&W.length>0){var _e=W.start(0);if(_e<1&&O<_e||te.a.safari){var Se=te.a.safari?.1:_e;return void this.directSeek(Se)}}if(this._isPositionBuffered(O)){if(this._always_seek_keyframe){var Le=this._getNearestKeyframe(Math.floor(1e3*O));Le!=null&&(O=Le.dts/1e3,this.directSeek(O))}}else this._seek_request_record_clocktime=M._getClockTime(),window.setTimeout(this._pollAndApplyUnbufferedSeek.bind(this),50)}},M.prototype._pollAndApplyUnbufferedSeek=function(){if(this._seek_request_record_clocktime!=null)if(this._seek_request_record_clocktime<=M._getClockTime()-100){var d=this._media_element.currentTime;this._seek_request_record_clocktime=null,this._isPositionBuffered(d)||(this._idr_sample_list.clear(),this._on_unbuffered_seek(Math.floor(1e3*d)),this._config.accurateSeek&&this.directSeek(d))}else window.setTimeout(this._pollAndApplyUnbufferedSeek.bind(this),50)},M.prototype._isPositionBuffered=function(d){for(var O=this._media_element.buffered,W=0;W<O.length;W++){var _e=O.start(W),Se=O.end(W);if(d>=_e&&d<Se)return!0}return!1},M.prototype._getNearestKeyframe=function(d){return this._idr_sample_list.getLastSyncPointBeforeDts(d)},M._getClockTime=function(){return self.performance&&self.performance.now?self.performance.now():Date.now()},M})(),R=(function(){function M(d,O,W,_e){this.TAG="LoadingController",this._config=null,this._media_element=null,this._on_pause_transmuxer=null,this._on_resume_transmuxer=null,this._paused=!1,this.e=null,this._config=d,this._media_element=O,this._on_pause_transmuxer=W,this._on_resume_transmuxer=_e,this.e={onMediaTimeUpdate:this._onMediaTimeUpdate.bind(this)}}return M.prototype.destroy=function(){this._media_element.removeEventListener("timeupdate",this.e.onMediaTimeUpdate),this.e=null,this._media_element=null,this._config=null,this._on_pause_transmuxer=null,this._on_resume_transmuxer=null},M.prototype.notifyBufferedPositionChanged=function(d){!this._config.isLive&&this._config.lazyLoad&&(d==null?this._suspendTransmuxerIfNeeded():this._suspendTransmuxerIfBufferedPositionExceeded(d))},M.prototype._onMediaTimeUpdate=function(d){this._paused&&this._resumeTransmuxerIfNeeded()},M.prototype._suspendTransmuxerIfNeeded=function(){for(var d=this._media_element.buffered,O=this._media_element.currentTime,W=0,_e=0;_e<d.length;_e++){var Se=d.start(_e),Le=d.end(_e);if(Se<=O&&O<Le){W=Le;break}}W>0&&this._suspendTransmuxerIfBufferedPositionExceeded(W)},M.prototype._suspendTransmuxerIfBufferedPositionExceeded=function(d){d>=this._media_element.currentTime+this._config.lazyLoadMaxDuration&&!this._paused&&(D.a.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this.suspendTransmuxer(),this._media_element.addEventListener("timeupdate",this.e.onMediaTimeUpdate))},M.prototype.suspendTransmuxer=function(){this._paused=!0,this._on_pause_transmuxer()},M.prototype._resumeTransmuxerIfNeeded=function(){for(var d=this._media_element.buffered,O=this._media_element.currentTime,W=this._config.lazyLoadRecoverDuration,_e=!1,Se=0;Se<d.length;Se++){var Le=d.start(Se),Me=d.end(Se);if(O>=Le&&O<Me){O>=Me-W&&(_e=!0);break}}_e&&(D.a.v(this.TAG,"Continue loading from paused position"),this.resumeTransmuxer(),this._media_element.removeEventListener("timeupdate",this.e.onMediaTimeUpdate))},M.prototype.resumeTransmuxer=function(){this._paused=!1,this._on_resume_transmuxer()},M})(),E=(function(){function M(d,O){this.TAG="StartupStallJumper",this._media_element=null,this._on_direct_seek=null,this._canplay_received=!1,this.e=null,this._media_element=d,this._on_direct_seek=O,this.e={onMediaCanPlay:this._onMediaCanPlay.bind(this),onMediaStalled:this._onMediaStalled.bind(this),onMediaProgress:this._onMediaProgress.bind(this)},this._media_element.addEventListener("canplay",this.e.onMediaCanPlay),this._media_element.addEventListener("stalled",this.e.onMediaStalled),this._media_element.addEventListener("progress",this.e.onMediaProgress)}return M.prototype.destroy=function(){this._media_element.removeEventListener("canplay",this.e.onMediaCanPlay),this._media_element.removeEventListener("stalled",this.e.onMediaStalled),this._media_element.removeEventListener("progress",this.e.onMediaProgress),this._media_element=null,this._on_direct_seek=null},M.prototype._onMediaCanPlay=function(d){this._canplay_received=!0,this._media_element.removeEventListener("canplay",this.e.onMediaCanPlay)},M.prototype._onMediaStalled=function(d){this._detectAndFixStuckPlayback(!0)},M.prototype._onMediaProgress=function(d){this._detectAndFixStuckPlayback()},M.prototype._detectAndFixStuckPlayback=function(d){var O=this._media_element,W=O.buffered;d||!this._canplay_received||O.readyState<2?W.length>0&&O.currentTime<W.start(0)&&(D.a.w(this.TAG,"Playback seems stuck at ".concat(O.currentTime,", seek to ").concat(W.start(0))),this._on_direct_seek(W.start(0)),this._media_element.removeEventListener("progress",this.e.onMediaProgress)):this._media_element.removeEventListener("progress",this.e.onMediaProgress)},M})(),A=(function(){function M(d,O,W){this._config=null,this._media_element=null,this._on_direct_seek=null,this._config=d,this._media_element=O,this._on_direct_seek=W}return M.prototype.destroy=function(){this._on_direct_seek=null,this._media_element=null,this._config=null},M.prototype.notifyBufferedRangeUpdate=function(){this._chaseLiveLatency()},M.prototype._chaseLiveLatency=function(){var d=this._media_element.buffered,O=this._media_element.currentTime,W=this._media_element.paused;if(this._config.isLive&&this._config.liveBufferLatencyChasing&&d.length!=0&&(this._config.liveBufferLatencyChasingOnPaused||!W)){var _e=d.end(d.length-1);if(_e>this._config.liveBufferLatencyMaxLatency&&_e-O>this._config.liveBufferLatencyMaxLatency){var Se=_e-this._config.liveBufferLatencyMinRemain;this._on_direct_seek(Se)}}},M})(),U=(function(){function M(d,O){this._config=null,this._media_element=null,this.e=null,this._config=d,this._media_element=O,this.e={onMediaTimeUpdate:this._onMediaTimeUpdate.bind(this)},this._media_element.addEventListener("timeupdate",this.e.onMediaTimeUpdate)}return M.prototype.destroy=function(){this._media_element.removeEventListener("timeupdate",this.e.onMediaTimeUpdate),this._media_element=null,this._config=null},M.prototype._onMediaTimeUpdate=function(d){if(this._config.isLive&&this._config.liveSync){var O=this._getCurrentLatency();if(O>this._config.liveSyncMaxLatency){var W=Math.min(2,Math.max(1,this._config.liveSyncPlaybackRate));this._media_element.playbackRate=W}else O>this._config.liveSyncTargetLatency||this._media_element.playbackRate!==1&&this._media_element.playbackRate!==0&&(this._media_element.playbackRate=1)}},M.prototype._getCurrentLatency=function(){if(!this._media_element)return 0;var d=this._media_element.buffered,O=this._media_element.currentTime;return d.length==0?0:d.end(d.length-1)-O},M})(),oe=(function(){function M(d,O){this.TAG="PlayerEngineMainThread",this._emitter=new k,this._media_element=null,this._mse_controller=null,this._transmuxer=null,this._pending_seek_time=null,this._seeking_handler=null,this._loading_controller=null,this._startup_stall_jumper=null,this._live_latency_chaser=null,this._live_latency_synchronizer=null,this._mse_source_opened=!1,this._has_pending_load=!1,this._loaded_metadata_received=!1,this._media_info=null,this._statistics_info=null,this.e=null,this._media_data_source=d,this._config=g(),typeof O=="object"&&Object.assign(this._config,O),d.isLive===!0&&(this._config.isLive=!0),this.e={onMediaLoadedMetadata:this._onMediaLoadedMetadata.bind(this)}}return M.prototype.destroy=function(){this._emitter.emit(I.a.DESTROYING),this._transmuxer&&this.unload(),this._media_element&&this.detachMediaElement(),this.e=null,this._media_data_source=null,this._emitter.removeAllListeners(),this._emitter=null},M.prototype.on=function(d,O){var W=this;this._emitter.addListener(d,O),d===I.a.MEDIA_INFO&&this._media_info?Promise.resolve().then((function(){return W._emitter.emit(I.a.MEDIA_INFO,W.mediaInfo)})):d==I.a.STATISTICS_INFO&&this._statistics_info&&Promise.resolve().then((function(){return W._emitter.emit(I.a.STATISTICS_INFO,W.statisticsInfo)}))},M.prototype.off=function(d,O){this._emitter.removeListener(d,O)},M.prototype.attachMediaElement=function(d){var O=this;this._media_element=d,d.src="",d.removeAttribute("src"),d.srcObject=null,d.load(),d.addEventListener("loadedmetadata",this.e.onMediaLoadedMetadata),this._mse_controller=new C.a(this._config),this._mse_controller.on(J.a.UPDATE_END,this._onMSEUpdateEnd.bind(this)),this._mse_controller.on(J.a.BUFFER_FULL,this._onMSEBufferFull.bind(this)),this._mse_controller.on(J.a.SOURCE_OPEN,this._onMSESourceOpen.bind(this)),this._mse_controller.on(J.a.ERROR,this._onMSEError.bind(this)),this._mse_controller.on(J.a.START_STREAMING,this._onMSEStartStreaming.bind(this)),this._mse_controller.on(J.a.END_STREAMING,this._onMSEEndStreaming.bind(this)),this._mse_controller.initialize({getCurrentTime:function(){return O._media_element.currentTime},getReadyState:function(){return O._media_element.readyState}}),this._mse_controller.isManagedMediaSource()?(d.disableRemotePlayback=!0,d.srcObject=this._mse_controller.getObject()):d.src=this._mse_controller.getObjectURL()},M.prototype.detachMediaElement=function(){this._media_element&&(this._mse_controller.shutdown(),this._media_element.removeEventListener("loadedmetadata",this.e.onMediaLoadedMetadata),this._media_element.src="",this._media_element.removeAttribute("src"),this._media_element.srcObject=null,this._media_element.load(),this._media_element=null,this._mse_controller.revokeObjectURL()),this._mse_controller&&(this._mse_controller.destroy(),this._mse_controller=null)},M.prototype.load=function(){var d=this;if(!this._media_element)throw new le.a("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new le.a("load() has been called, please call unload() first!");this._has_pending_load||(!this._config.deferLoadAfterSourceOpen||this._mse_source_opened?(this._transmuxer=new K.a(this._media_data_source,this._config),this._transmuxer.on(P.a.INIT_SEGMENT,(function(O,W){d._mse_controller.appendInitSegment(W)})),this._transmuxer.on(P.a.MEDIA_SEGMENT,(function(O,W){d._mse_controller.appendMediaSegment(W),!d._config.isLive&&O==="video"&&W.data&&W.data.byteLength>0&&"info"in W&&d._seeking_handler.appendSyncPoints(W.info.syncPoints),d._loading_controller.notifyBufferedPositionChanged(W.info.endDts/1e3)})),this._transmuxer.on(P.a.LOADING_COMPLETE,(function(){d._mse_controller.endOfStream(),d._emitter.emit(I.a.LOADING_COMPLETE)})),this._transmuxer.on(P.a.RECOVERED_EARLY_EOF,(function(){d._emitter.emit(I.a.RECOVERED_EARLY_EOF)})),this._transmuxer.on(P.a.IO_ERROR,(function(O,W){d._emitter.emit(I.a.ERROR,F.b.NETWORK_ERROR,O,W)})),this._transmuxer.on(P.a.DEMUX_ERROR,(function(O,W){d._emitter.emit(I.a.ERROR,F.b.MEDIA_ERROR,O,W)})),this._transmuxer.on(P.a.MEDIA_INFO,(function(O){d._media_info=O,d._emitter.emit(I.a.MEDIA_INFO,Object.assign({},O))})),this._transmuxer.on(P.a.STATISTICS_INFO,(function(O){d._statistics_info=d._fillStatisticsInfo(O),d._emitter.emit(I.a.STATISTICS_INFO,Object.assign({},O))})),this._transmuxer.on(P.a.RECOMMEND_SEEKPOINT,(function(O){d._media_element&&!d._config.accurateSeek&&d._seeking_handler.directSeek(O/1e3)})),this._transmuxer.on(P.a.METADATA_ARRIVED,(function(O){d._emitter.emit(I.a.METADATA_ARRIVED,O)})),this._transmuxer.on(P.a.SCRIPTDATA_ARRIVED,(function(O){d._emitter.emit(I.a.SCRIPTDATA_ARRIVED,O)})),this._transmuxer.on(P.a.TIMED_ID3_METADATA_ARRIVED,(function(O){d._emitter.emit(I.a.TIMED_ID3_METADATA_ARRIVED,O)})),this._transmuxer.on(P.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,(function(O){d._emitter.emit(I.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,O)})),this._transmuxer.on(P.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,(function(O){d._emitter.emit(I.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,O)})),this._transmuxer.on(P.a.SMPTE2038_METADATA_ARRIVED,(function(O){d._emitter.emit(I.a.SMPTE2038_METADATA_ARRIVED,O)})),this._transmuxer.on(P.a.SCTE35_METADATA_ARRIVED,(function(O){d._emitter.emit(I.a.SCTE35_METADATA_ARRIVED,O)})),this._transmuxer.on(P.a.PES_PRIVATE_DATA_DESCRIPTOR,(function(O){d._emitter.emit(I.a.PES_PRIVATE_DATA_DESCRIPTOR,O)})),this._transmuxer.on(P.a.PES_PRIVATE_DATA_ARRIVED,(function(O){d._emitter.emit(I.a.PES_PRIVATE_DATA_ARRIVED,O)})),this._seeking_handler=new Y(this._config,this._media_element,this._onRequiredUnbufferedSeek.bind(this)),this._loading_controller=new R(this._config,this._media_element,this._onRequestPauseTransmuxer.bind(this),this._onRequestResumeTransmuxer.bind(this)),this._startup_stall_jumper=new E(this._media_element,this._onRequestDirectSeek.bind(this)),this._config.isLive&&this._config.liveBufferLatencyChasing&&(this._live_latency_chaser=new A(this._config,this._media_element,this._onRequestDirectSeek.bind(this))),this._config.isLive&&this._config.liveSync&&(this._live_latency_synchronizer=new U(this._config,this._media_element)),this._media_element.readyState>0&&this._seeking_handler.directSeek(0),this._transmuxer.open()):this._has_pending_load=!0)},M.prototype.unload=function(){var d,O,W,_e,Se,Le,Me,me,ve;(d=this._media_element)===null||d===void 0||d.pause(),(O=this._live_latency_synchronizer)===null||O===void 0||O.destroy(),this._live_latency_synchronizer=null,(W=this._live_latency_chaser)===null||W===void 0||W.destroy(),this._live_latency_chaser=null,(_e=this._startup_stall_jumper)===null||_e===void 0||_e.destroy(),this._startup_stall_jumper=null,(Se=this._loading_controller)===null||Se===void 0||Se.destroy(),this._loading_controller=null,(Le=this._seeking_handler)===null||Le===void 0||Le.destroy(),this._seeking_handler=null,(Me=this._mse_controller)===null||Me===void 0||Me.flush(),(me=this._transmuxer)===null||me===void 0||me.close(),(ve=this._transmuxer)===null||ve===void 0||ve.destroy(),this._transmuxer=null},M.prototype.play=function(){return this._media_element.play()},M.prototype.pause=function(){this._media_element.pause()},M.prototype.seek=function(d){this._media_element&&this._seeking_handler?this._seeking_handler.seek(d):this._pending_seek_time=d},Object.defineProperty(M.prototype,"mediaInfo",{get:function(){return Object.assign({},this._media_info)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"statisticsInfo",{get:function(){return Object.assign({},this._statistics_info)},enumerable:!1,configurable:!0}),M.prototype._onMSESourceOpen=function(){this._mse_source_opened=!0,this._has_pending_load&&(this._has_pending_load=!1,this.load())},M.prototype._onMSEUpdateEnd=function(){this._config.isLive&&this._config.liveBufferLatencyChasing&&this._live_latency_chaser&&this._live_latency_chaser.notifyBufferedRangeUpdate(),this._loading_controller.notifyBufferedPositionChanged()},M.prototype._onMSEBufferFull=function(){D.a.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._loading_controller.suspendTransmuxer()},M.prototype._onMSEError=function(d){this._emitter.emit(I.a.ERROR,F.b.MEDIA_ERROR,F.a.MEDIA_MSE_ERROR,d)},M.prototype._onMSEStartStreaming=function(){this._loaded_metadata_received&&(this._config.isLive||(D.a.v(this.TAG,"Resume transmuxing task due to ManagedMediaSource onStartStreaming"),this._loading_controller.resumeTransmuxer()))},M.prototype._onMSEEndStreaming=function(){this._config.isLive||(D.a.v(this.TAG,"Suspend transmuxing task due to ManagedMediaSource onEndStreaming"),this._loading_controller.suspendTransmuxer())},M.prototype._onMediaLoadedMetadata=function(d){this._loaded_metadata_received=!0,this._pending_seek_time!=null&&(this._seeking_handler.seek(this._pending_seek_time),this._pending_seek_time=null)},M.prototype._onRequestDirectSeek=function(d){this._seeking_handler.directSeek(d)},M.prototype._onRequiredUnbufferedSeek=function(d){this._mse_controller.flush(),this._transmuxer.seek(d)},M.prototype._onRequestPauseTransmuxer=function(){this._transmuxer.pause()},M.prototype._onRequestResumeTransmuxer=function(){this._transmuxer.resume()},M.prototype._fillStatisticsInfo=function(d){if(d.playerType="MSEPlayer",!(this._media_element instanceof HTMLVideoElement))return d;var O=!0,W=0,_e=0;if(this._media_element.getVideoPlaybackQuality){var Se=this._media_element.getVideoPlaybackQuality();W=Se.totalVideoFrames,_e=Se.droppedVideoFrames}else this._media_element.webkitDecodedFrameCount!=null?(W=this._media_element.webkitDecodedFrameCount,_e=this._media_element.webkitDroppedFrameCount):O=!1;return O&&(d.decodedFrames=W,d.droppedFrames=_e),d},M})(),xe=x(18),pe=x(8),be=(function(){function M(d,O){this.TAG="PlayerEngineDedicatedThread",this._emitter=new k,this._media_element=null,this._worker_destroying=!1,this._seeking_handler=null,this._loading_controller=null,this._startup_stall_jumper=null,this._live_latency_chaser=null,this._live_latency_synchronizer=null,this._pending_seek_time=null,this._media_info=null,this._statistics_info=null,this.e=null,this._media_data_source=d,this._config=g(),typeof O=="object"&&Object.assign(this._config,O),d.isLive===!0&&(this._config.isLive=!0),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this),onMediaLoadedMetadata:this._onMediaLoadedMetadata.bind(this),onMediaTimeUpdate:this._onMediaTimeUpdate.bind(this),onMediaReadyStateChanged:this._onMediaReadyStateChange.bind(this)},pe.a.registerListener(this.e.onLoggingConfigChanged),this._worker=xe(24,{all:!0}),this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",media_data_source:this._media_data_source,config:this._config}),this._worker.postMessage({cmd:"logging_config",logging_config:pe.a.getConfig()})}return M.isSupported=function(){return!!self.Worker&&(!(!self.MediaSource||!("canConstructInDedicatedWorker"in self.MediaSource)||self.MediaSource.canConstructInDedicatedWorker!==!0)||!(!self.ManagedMediaSource||!("canConstructInDedicatedWorker"in self.ManagedMediaSource)||self.ManagedMediaSource.canConstructInDedicatedWorker!==!0))},M.prototype.destroy=function(){this._emitter.emit(I.a.DESTROYING),this.unload(),this.detachMediaElement(),this._worker_destroying=!0,this._worker.postMessage({cmd:"destroy"}),pe.a.removeListener(this.e.onLoggingConfigChanged),this.e=null,this._media_data_source=null,this._emitter.removeAllListeners(),this._emitter=null},M.prototype.on=function(d,O){var W=this;this._emitter.addListener(d,O),d===I.a.MEDIA_INFO&&this._media_info?Promise.resolve().then((function(){return W._emitter.emit(I.a.MEDIA_INFO,W.mediaInfo)})):d==I.a.STATISTICS_INFO&&this._statistics_info&&Promise.resolve().then((function(){return W._emitter.emit(I.a.STATISTICS_INFO,W.statisticsInfo)}))},M.prototype.off=function(d,O){this._emitter.removeListener(d,O)},M.prototype.attachMediaElement=function(d){this._media_element=d,this._media_element.src="",this._media_element.removeAttribute("src"),this._media_element.srcObject=null,this._media_element.load(),this._media_element.addEventListener("loadedmetadata",this.e.onMediaLoadedMetadata),this._media_element.addEventListener("timeupdate",this.e.onMediaTimeUpdate),this._media_element.addEventListener("readystatechange",this.e.onMediaReadyStateChanged),this._worker.postMessage({cmd:"initialize_mse"})},M.prototype.detachMediaElement=function(){this._worker.postMessage({cmd:"shutdown_mse"}),this._media_element&&(this._media_element.removeEventListener("loadedmetadata",this.e.onMediaLoadedMetadata),this._media_element.removeEventListener("timeupdate",this.e.onMediaTimeUpdate),this._media_element.removeEventListener("readystatechange",this.e.onMediaReadyStateChanged),this._media_element.src="",this._media_element.removeAttribute("src"),this._media_element.srcObject=null,this._media_element.load(),this._media_element=null)},M.prototype.load=function(){this._worker.postMessage({cmd:"load"}),this._seeking_handler=new Y(this._config,this._media_element,this._onRequiredUnbufferedSeek.bind(this)),this._loading_controller=new R(this._config,this._media_element,this._onRequestPauseTransmuxer.bind(this),this._onRequestResumeTransmuxer.bind(this)),this._startup_stall_jumper=new E(this._media_element,this._onRequestDirectSeek.bind(this)),this._config.isLive&&this._config.liveBufferLatencyChasing&&(this._live_latency_chaser=new A(this._config,this._media_element,this._onRequestDirectSeek.bind(this))),this._config.isLive&&this._config.liveSync&&(this._live_latency_synchronizer=new U(this._config,this._media_element)),this._media_element.readyState>0&&this._seeking_handler.directSeek(0)},M.prototype.unload=function(){var d,O,W,_e,Se,Le;(d=this._media_element)===null||d===void 0||d.pause(),this._worker.postMessage({cmd:"unload"}),(O=this._live_latency_synchronizer)===null||O===void 0||O.destroy(),this._live_latency_synchronizer=null,(W=this._live_latency_chaser)===null||W===void 0||W.destroy(),this._live_latency_chaser=null,(_e=this._startup_stall_jumper)===null||_e===void 0||_e.destroy(),this._startup_stall_jumper=null,(Se=this._loading_controller)===null||Se===void 0||Se.destroy(),this._loading_controller=null,(Le=this._seeking_handler)===null||Le===void 0||Le.destroy(),this._seeking_handler=null},M.prototype.play=function(){return this._media_element.play()},M.prototype.pause=function(){this._media_element.pause()},M.prototype.seek=function(d){this._media_element&&this._seeking_handler?this._seeking_handler.seek(d):this._pending_seek_time=d},Object.defineProperty(M.prototype,"mediaInfo",{get:function(){return Object.assign({},this._media_info)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"statisticsInfo",{get:function(){return Object.assign({},this._statistics_info)},enumerable:!1,configurable:!0}),M.prototype._onLoggingConfigChanged=function(d){var O;(O=this._worker)===null||O===void 0||O.postMessage({cmd:"logging_config",logging_config:d})},M.prototype._onMSEUpdateEnd=function(){this._config.isLive&&this._config.liveBufferLatencyChasing&&this._live_latency_chaser&&this._live_latency_chaser.notifyBufferedRangeUpdate(),this._loading_controller.notifyBufferedPositionChanged()},M.prototype._onMSEBufferFull=function(){D.a.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._loading_controller.suspendTransmuxer()},M.prototype._onMediaLoadedMetadata=function(d){this._pending_seek_time!=null&&(this._seeking_handler.seek(this._pending_seek_time),this._pending_seek_time=null)},M.prototype._onRequestDirectSeek=function(d){this._seeking_handler.directSeek(d)},M.prototype._onRequiredUnbufferedSeek=function(d){this._worker.postMessage({cmd:"unbuffered_seek",milliseconds:d})},M.prototype._onRequestPauseTransmuxer=function(){this._worker.postMessage({cmd:"pause_transmuxer"})},M.prototype._onRequestResumeTransmuxer=function(){this._worker.postMessage({cmd:"resume_transmuxer"})},M.prototype._onMediaTimeUpdate=function(d){this._worker.postMessage({cmd:"timeupdate",current_time:d.target.currentTime})},M.prototype._onMediaReadyStateChange=function(d){this._worker.postMessage({cmd:"readystatechange",ready_state:d.target.readyState})},M.prototype._onWorkerMessage=function(d){var O,W=d.data,_e=W.msg;if(_e=="destroyed"||this._worker_destroying)return this._worker_destroying=!1,(O=this._worker)===null||O===void 0||O.terminate(),void(this._worker=null);switch(_e){case"mse_init":var Se=W;"ManagedMediaSource"in self&&!("MediaSource"in self)&&(this._media_element.disableRemotePlayback=!0),this._media_element.srcObject=Se.handle;break;case"mse_event":(Se=W).event==J.a.UPDATE_END?this._onMSEUpdateEnd():Se.event==J.a.BUFFER_FULL&&this._onMSEBufferFull();break;case"transmuxing_event":if((Se=W).event==P.a.MEDIA_INFO){var Le=W;this._media_info=Le.info,this._emitter.emit(I.a.MEDIA_INFO,Object.assign({},Le.info))}else if(Se.event==P.a.STATISTICS_INFO){var Me=W;this._statistics_info=this._fillStatisticsInfo(Me.info),this._emitter.emit(I.a.STATISTICS_INFO,Object.assign({},Me.info))}else if(Se.event==P.a.RECOMMEND_SEEKPOINT){var me=W;this._media_element&&!this._config.accurateSeek&&this._seeking_handler.directSeek(me.milliseconds/1e3)}break;case"player_event":if((Se=W).event==I.a.ERROR){var ve=W;this._emitter.emit(I.a.ERROR,ve.error_type,ve.error_detail,ve.info)}else if("extraData"in Se){var we=W;this._emitter.emit(we.event,we.extraData)}break;case"logcat_callback":Se=W,D.a.emitter.emit("log",Se.type,Se.logcat);break;case"buffered_position_changed":Se=W,this._loading_controller.notifyBufferedPositionChanged(Se.buffered_position_milliseconds/1e3)}},M.prototype._fillStatisticsInfo=function(d){if(d.playerType="MSEPlayer",!(this._media_element instanceof HTMLVideoElement))return d;var O=!0,W=0,_e=0;if(this._media_element.getVideoPlaybackQuality){var Se=this._media_element.getVideoPlaybackQuality();W=Se.totalVideoFrames,_e=Se.droppedVideoFrames}else this._media_element.webkitDecodedFrameCount!=null?(W=this._media_element.webkitDecodedFrameCount,_e=this._media_element.webkitDroppedFrameCount):O=!1;return O&&(d.decodedFrames=W,d.droppedFrames=_e),d},M})(),N=(function(){function M(d,O){this.TAG="MSEPlayer",this._type="MSEPlayer",this._media_element=null,this._player_engine=null;var W=d.type.toLowerCase();if(W!=="mse"&&W!=="mpegts"&&W!=="m2ts"&&W!=="flv")throw new le.b("MSEPlayer requires an mpegts/m2ts/flv MediaDataSource input!");if(O&&O.enableWorkerForMSE&&be.isSupported())try{this._player_engine=new be(d,O)}catch{D.a.e(this.TAG,"Error while initializing PlayerEngineDedicatedThread, fallback to PlayerEngineMainThread"),this._player_engine=new oe(d,O)}else this._player_engine=new oe(d,O)}return M.prototype.destroy=function(){this._player_engine.destroy(),this._player_engine=null,this._media_element=null},M.prototype.on=function(d,O){this._player_engine.on(d,O)},M.prototype.off=function(d,O){this._player_engine.off(d,O)},M.prototype.attachMediaElement=function(d){this._media_element=d,this._player_engine.attachMediaElement(d)},M.prototype.detachMediaElement=function(){this._media_element=null,this._player_engine.detachMediaElement()},M.prototype.load=function(){this._player_engine.load()},M.prototype.unload=function(){this._player_engine.unload()},M.prototype.play=function(){return this._player_engine.play()},M.prototype.pause=function(){this._player_engine.pause()},Object.defineProperty(M.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"buffered",{get:function(){return this._media_element.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"duration",{get:function(){return this._media_element.duration},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"volume",{get:function(){return this._media_element.volume},set:function(d){this._media_element.volume=d},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"muted",{get:function(){return this._media_element.muted},set:function(d){this._media_element.muted=d},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"currentTime",{get:function(){return this._media_element?this._media_element.currentTime:0},set:function(d){this._player_engine.seek(d)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"mediaInfo",{get:function(){return this._player_engine.mediaInfo},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"statisticsInfo",{get:function(){return this._player_engine.statisticsInfo},enumerable:!1,configurable:!0}),M})(),de=(function(){function M(d,O){this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new z.a,this._config=g(),typeof O=="object"&&Object.assign(this._config,O);var W=d.type.toLowerCase();if(W==="mse"||W==="mpegts"||W==="m2ts"||W==="flv")throw new le.b("NativePlayer does't support mse/mpegts/m2ts/flv MediaDataSource input!");if(d.hasOwnProperty("segments"))throw new le.b("NativePlayer(".concat(d.type,") doesn't support multipart playback!"));this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=d,this._mediaElement=null}return M.prototype.destroy=function(){this._emitter.emit(I.a.DESTROYING),this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},M.prototype.on=function(d,O){var W=this;d===I.a.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then((function(){W._emitter.emit(I.a.MEDIA_INFO,W.mediaInfo)})):d===I.a.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then((function(){W._emitter.emit(I.a.STATISTICS_INFO,W.statisticsInfo)})),this._emitter.addListener(d,O)},M.prototype.off=function(d,O){this._emitter.removeListener(d,O)},M.prototype.attachMediaElement=function(d){if(this._mediaElement=d,d.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{d.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},M.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},M.prototype.load=function(){if(!this._mediaElement)throw new le.a("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},M.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},M.prototype.play=function(){return this._mediaElement.play()},M.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(M.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(d){this._mediaElement.volume=d},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(d){this._mediaElement.muted=d},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(d){this._mediaElement?this._mediaElement.currentTime=d:this._pendingSeekTime=d},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"mediaInfo",{get:function(){var d={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(d.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(d.width=this._mediaElement.videoWidth,d.height=this._mediaElement.videoHeight)),d},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"statisticsInfo",{get:function(){var d={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return d;var O=!0,W=0,_e=0;if(this._mediaElement.getVideoPlaybackQuality){var Se=this._mediaElement.getVideoPlaybackQuality();W=Se.totalVideoFrames,_e=Se.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(W=this._mediaElement.webkitDecodedFrameCount,_e=this._mediaElement.webkitDroppedFrameCount):O=!1;return O&&(d.decodedFrames=W,d.droppedFrames=_e),d},enumerable:!1,configurable:!0}),M.prototype._onvLoadedMetadata=function(d){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(I.a.MEDIA_INFO,this.mediaInfo)},M.prototype._reportStatisticsInfo=function(){this._emitter.emit(I.a.STATISTICS_INFO,this.statisticsInfo)},M})();G.a.install();var he={createPlayer:function(M,d){var O=M;if(O==null||typeof O!="object")throw new le.b("MediaDataSource must be an javascript object!");if(!O.hasOwnProperty("type"))throw new le.b("MediaDataSource must has type field to indicate video file type!");switch(O.type){case"mse":case"mpegts":case"m2ts":case"flv":return new N(O,d);default:return new de(O,d)}},isSupported:function(){return m.supportMSEH264Playback()},getFeatureList:function(){return m.getFeatureList()}};he.BaseLoader=b.a,he.LoaderStatus=b.c,he.LoaderErrors=b.b,he.Events=I.a,he.ErrorTypes=F.b,he.ErrorDetails=F.a,he.MSEPlayer=N,he.NativePlayer=de,he.LoggingControl=pe.a,Object.defineProperty(he,"version",{enumerable:!0,get:function(){return"1.8.0"}}),v.default=he}])}))})(eu)),eu.exports}var Nf=op();function up({url:ee,isLive:ie=!0,autoplay:Z=!0,muted:v=!1,onLoadingChange:x,onError:G,onPlayingChange:w}){const y=Oe.useRef(null),g=Oe.useRef(null),[m,b]=Oe.useState(!0),[D,k]=Oe.useState(null),[z,C]=Oe.useState(!0);return Oe.useEffect(()=>{if(!Nf.getFeatureList().mseLivePlayback){C(!1),k("MPEG-TS playback is not supported in this browser");return}const K=y.current;if(!(!K||!ee))try{const J=Nf.createPlayer({type:"mpegts",url:ee,isLive:ie});J.attachMediaElement(K),J.load(),g.current=J;const F=()=>{b(!0),x?.(!0)},le=()=>{b(!1),x?.(!1)},P=()=>{const Y=window.location.protocol==="https:"&&ee.startsWith("http://");let R="Failed to load video stream";Y&&(R="⚠️ Mixed Content Blocked: Cannot load HTTP stream on HTTPS site. Please serve this site over HTTP or use HTTPS streams."),k(R),b(!1),G?.(R),x?.(!1)},te=()=>w?.(!0),re=()=>w?.(!1);return K.addEventListener("loadstart",F),K.addEventListener("canplay",le),K.addEventListener("error",P),K.addEventListener("play",te),K.addEventListener("pause",re),()=>{K.removeEventListener("loadstart",F),K.removeEventListener("canplay",le),K.removeEventListener("error",P),K.removeEventListener("play",te),K.removeEventListener("pause",re),g.current&&(g.current.destroy(),g.current=null)}}catch(J){const F=window.location.protocol==="https:"&&ee.startsWith("http://");let le=`Failed to initialize player: ${J instanceof Error?J.message:"Unknown error"}`;F&&(le="⚠️ Mixed Content Blocked: Cannot load HTTP stream on HTTPS site. Please serve this site over HTTP or use HTTPS streams."),k(le),b(!1),G?.(le),x?.(!1)}},[ee,ie]),z?D?T.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#000",color:"#fff"},children:T.jsxs("p",{children:["Error: ",D]})}):T.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[T.jsx("video",{ref:y,autoPlay:Z,muted:v,controls:!0,style:{width:"100%",height:"100%",display:"block",backgroundColor:"#000",objectFit:"contain"}}),m&&T.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"#fff"},children:T.jsx("p",{children:"Loading..."})})]}):T.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#000",color:"#fff"},children:T.jsx("p",{children:"MPEG-TS playback not supported"})})}var Ps=If();const Xa=Ct.forwardRef(({children:ee,variant:ie="primary",className:Z="",...v},x)=>T.jsx("button",{ref:x,className:`btn ${ie==="primary"?"btn--primary":"btn--secondary"} ${Z}`.trim(),...v,children:ee}));Xa.displayName="Button";const cp=Ct.forwardRef(({variant:ee="default",size:ie="medium",className:Z="",...v},x)=>T.jsx("input",{ref:x,className:`input ${ee==="outline"?"input--outline":ee==="filled"?"input--filled":"input--default"} ${ie==="small"?"input--small":ie==="large"?"input--large":"input--medium"} ${Z}`.trim(),...v}));cp.displayName="TextInput";const dp=Ct.forwardRef(({children:ee,variant:ie="default",size:Z="medium",required:v=!1,className:x="",...G},w)=>T.jsxs("label",{ref:w,className:`label ${ie==="bold"?"label--bold":ie==="muted"?"label--muted":"label--default"} ${Z==="small"?"label--small":Z==="large"?"label--large":"label--medium"} ${x}`.trim(),...G,children:[ee,v&&T.jsx("span",{className:"label--required",children:"*"})]}));dp.displayName="Label";const fp=Ct.forwardRef(({title:ee,subtitle:ie,variant:Z="default",size:v="medium",backgroundImage:x,actions:G,className:w="",style:y,children:g,...m},b)=>{const D=Z==="centered"?"hero--centered":Z==="dark"?"hero--dark":"hero--default",k=v==="small"?"hero--small":v==="large"?"hero--large":"hero--medium",z={...y,...x&&{backgroundImage:`url(${x})`,backgroundSize:"cover",backgroundPosition:"center"}};return T.jsx("div",{ref:b,className:`hero ${D} ${k} ${w}`.trim(),style:z,...m,children:T.jsxs("div",{className:"hero__content",children:[T.jsx("h1",{className:"hero__title",children:ee}),ie&&T.jsx("p",{className:"hero__subtitle",children:ie}),G&&T.jsx("div",{className:"hero__actions",children:G}),g]})})});fp.displayName="Hero";const Vf=Ct.forwardRef(({isOpen:ee=!1,size:ie="medium",onToggle:Z,className:v="",...x},G)=>T.jsxs("button",{ref:G,className:`hamburger ${ie==="small"?"hamburger--small":ie==="large"?"hamburger--large":"hamburger--medium"} ${ee?"hamburger--open":""} ${v}`.trim(),onClick:Z,"aria-label":ee?"Close menu":"Open menu","aria-expanded":ee,...x,children:[T.jsx("span",{className:"hamburger__line"}),T.jsx("span",{className:"hamburger__line"}),T.jsx("span",{className:"hamburger__line"})]}));Vf.displayName="HamburgerMenu";const Gf=Ct.forwardRef(({userName:ee,userIcon:ie,subtitle:Z,size:v="medium",onClick:x,className:G="",...w},y)=>{const g=v==="small"?"user-section--small":v==="large"?"user-section--large":"user-section--medium",m=x?"user-section--clickable":"",b=()=>{if(typeof ie=="string")return T.jsx("img",{src:ie,alt:`${ee} avatar`,className:"user-section__avatar",style:{width:v==="small"?"32px":v==="large"?"56px":"44px",height:v==="small"?"32px":v==="large"?"56px":"44px",borderRadius:"50%",objectFit:"cover",border:"2px solid rgba(255, 255, 255, 0.2)",backgroundColor:"rgba(255, 255, 255, 0.1)"}});if(ie)return T.jsx("div",{className:"user-section__icon",style:{width:v==="small"?"32px":v==="large"?"56px":"44px",height:v==="small"?"32px":v==="large"?"56px":"44px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(59, 130, 246, 0.2)",border:"2px solid rgba(59, 130, 246, 0.3)",fontSize:v==="small"?"16px":v==="large"?"24px":"20px"},children:ie});{const D=ee.split(" ").map(k=>k.charAt(0)).join("").toUpperCase().slice(0,2);return T.jsx("div",{className:"user-section__avatar user-section__avatar--default",style:{width:v==="small"?"32px":v==="large"?"56px":"44px",height:v==="small"?"32px":v==="large"?"56px":"44px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(34, 197, 94, 0.2)",border:"2px solid rgba(34, 197, 94, 0.3)",color:"#22c55e",fontSize:v==="small"?"12px":v==="large"?"20px":"16px",fontWeight:"600"},children:D})}};return T.jsxs("div",{ref:y,className:`user-section ${g} ${m} ${G}`.trim(),onClick:x,role:x?"button":void 0,tabIndex:x?0:void 0,style:{display:"flex",alignItems:"center",gap:"12px",padding:x?"4px":"0",borderRadius:x?"8px":"0",cursor:x?"pointer":"default",transition:"background-color 0.2s",...x?{background:"transparent"}:{}},onMouseOver:x?D=>D.target.style.backgroundColor="rgba(255, 255, 255, 0.08)":void 0,onMouseOut:x?D=>D.target.style.backgroundColor="transparent":void 0,...w,children:[b(),T.jsxs("div",{className:"user-section__info",style:{flex:1,minWidth:0},children:[T.jsx("div",{className:"user-section__name",style:{fontSize:v==="small"?"14px":v==="large"?"18px":"16px",fontWeight:"600",color:"#ffffff",marginBottom:Z?"2px":"0",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:ee}),Z&&T.jsx("div",{className:"user-section__subtitle",style:{fontSize:v==="small"?"11px":v==="large"?"14px":"12px",color:"rgba(255, 255, 255, 0.7)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:Z})]})]})});Gf.displayName="UserSection";const Pf=Ct.forwardRef(({groups:ee=[],selectedGroupId:ie,onGroupSelect:Z,placeholder:v="Select a group",disabled:x=!1,className:G="",...w},y)=>{const[g,m]=Oe.useState(!1),b=ee.find(C=>C.id===ie),D=()=>{x||m(!g)},k=C=>{Z?.(C),m(!1)},z=C=>{C.key==="Escape"&&m(!1)};return T.jsxs("div",{ref:y,className:`group-selector ${g?"group-selector--open":""} ${x?"group-selector--disabled":""} ${G}`.trim(),onKeyDown:z,style:{position:"relative",display:"flex",flexDirection:"column"},...w,children:[T.jsxs("button",{className:"group-selector__trigger",onClick:D,disabled:x,"aria-expanded":g,"aria-haspopup":"listbox",style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",padding:"12px 16px",color:"#ffffff",fontSize:"14px",cursor:x?"not-allowed":"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"space-between",...x?{opacity:.5}:{},...g?{borderColor:"rgba(59, 130, 246, 0.5)",boxShadow:"0 0 0 1px rgba(59, 130, 246, 0.2)"}:{}},onMouseOver:x?void 0:C=>{g||(C.target.style.borderColor="rgba(255, 255, 255, 0.3)")},onMouseOut:x?void 0:C=>{g||(C.target.style.borderColor="rgba(255, 255, 255, 0.2)")},children:[T.jsx("div",{className:"group-selector__content",style:{flex:1},children:b?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"group-selector__name",style:{fontSize:"14px",fontWeight:"600",color:"#ffffff",marginBottom:"2px"},children:b.name}),T.jsxs("div",{className:"group-selector__count",style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:[b.channelCount," channels"]})]}):T.jsx("div",{className:"group-selector__placeholder",style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"14px"},children:v})}),T.jsx("div",{className:"group-selector__arrow",style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)",transform:g?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:"▼"})]}),g&&T.jsx("div",{className:"group-selector__dropdown",style:{position:"absolute",top:"100%",left:0,right:0,zIndex:1e3,background:"rgba(30, 30, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",marginTop:"4px",maxHeight:"300px",overflowY:"auto"},children:ee.length===0?T.jsx("div",{className:"group-selector__empty",style:{padding:"16px",color:"rgba(255, 255, 255, 0.6)",fontSize:"14px",textAlign:"center"},children:"No groups available"}):ee.map(C=>{const I=ie===C.id;return T.jsxs("div",{className:`group-selector__option ${I?"group-selector__option--selected":""}`.trim(),onClick:()=>k(C),style:{padding:"12px 16px",cursor:"pointer",transition:"background-color 0.2s",borderBottom:"1px solid rgba(255, 255, 255, 0.05)",background:I?"rgba(59, 130, 246, 0.2)":"transparent"},onMouseOver:K=>{I||(K.target.style.backgroundColor="rgba(255, 255, 255, 0.05)")},onMouseOut:K=>{I||(K.target.style.backgroundColor="transparent")},children:[T.jsx("div",{className:"group-selector__option-name",style:{fontSize:"14px",fontWeight:"600",color:"#ffffff",marginBottom:"2px"},children:C.name}),T.jsxs("div",{className:"group-selector__option-count",style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:[C.channelCount," channels"]})]},C.id)})})]})});Pf.displayName="GroupSelector";const hp=[{id:"1",name:"BBC One HD",logo:"🎬",category:"Entertainment",isLive:!0},{id:"2",name:"CNN International",logo:"📺",category:"News",isLive:!0},{id:"3",name:"Discovery Channel",logo:"🌍",category:"Documentary",isLive:!0},{id:"4",name:"ESPN HD",logo:"⚽",category:"Sports",isLive:!1},{id:"5",name:"National Geographic",logo:"🦁",category:"Documentary",isLive:!0},{id:"6",name:"MTV",logo:"🎵",category:"Music",isLive:!0},{id:"7",name:"Food Network",logo:"🍳",category:"Lifestyle",isLive:!0},{id:"8",name:"Comedy Central",logo:"😂",category:"Entertainment",isLive:!1},{id:"9",name:"Sky News",logo:"📰",category:"News",isLive:!0},{id:"10",name:"Animal Planet",logo:"🐾",category:"Documentary",isLive:!0}],Hf=Ct.forwardRef(({channels:ee=hp,selectedChannelId:ie,onChannelSelect:Z,showCategories:v=!0,maxHeight:x="400px",groups:G=[],selectedGroupId:w,onGroupSelect:y,showGroupSelection:g=!0,className:m="",...b},D)=>{const k=Ct.useMemo(()=>v?ee.reduce((I,K)=>{const J=K.category||"Uncategorized";return I[J]||(I[J]=[]),I[J].push(K),I},{}):{"All Channels":ee},[ee,v]),z=I=>{Z?.(I)},C=I=>{const K=ie===I.id,J=K?"playlist__channel--selected":"",F=I.isLive?"playlist__channel--live":"";return T.jsx("div",{className:`playlist__channel ${J} ${F}`.trim(),onClick:()=>z(I),role:"button",tabIndex:0,onKeyDown:le=>{(le.key==="Enter"||le.key===" ")&&(le.preventDefault(),z(I))},style:{display:"flex",alignItems:"center",padding:"12px",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s",border:"1px solid rgba(255, 255, 255, 0.1)",background:K?"rgba(59, 130, 246, 0.2)":"rgba(255, 255, 255, 0.05)",...K?{borderColor:"rgba(59, 130, 246, 0.4)",boxShadow:"0 0 0 1px rgba(59, 130, 246, 0.2)"}:{}},onMouseOver:le=>{K||(le.target.style.background="rgba(255, 255, 255, 0.1)",le.target.style.borderColor="rgba(255, 255, 255, 0.2)")},onMouseOut:le=>{K||(le.target.style.background="rgba(255, 255, 255, 0.05)",le.target.style.borderColor="rgba(255, 255, 255, 0.1)")},children:T.jsxs("div",{className:"playlist__channel-info",style:{display:"flex",alignItems:"center",gap:"12px",flex:1,minWidth:0},children:[T.jsxs("div",{style:{flex:1,minWidth:0},children:[T.jsx("div",{className:"playlist__channel-name",style:{fontSize:"14px",fontWeight:"600",color:"#ffffff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginBottom:"2px"},children:I.name}),I.category&&T.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:I.category})]}),I.isLive&&T.jsx("div",{className:"playlist__channel-status",style:{background:"rgba(34, 197, 94, 0.2)",color:"#22c55e",fontSize:"10px",fontWeight:"600",padding:"4px 8px",borderRadius:"12px",border:"1px solid rgba(34, 197, 94, 0.3)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"LIVE"})]})},I.id)};return T.jsxs("div",{ref:D,className:`playlist ${m}`.trim(),style:{maxHeight:x,display:"flex",flexDirection:"column"},...b,children:[T.jsx("div",{className:"playlist__header",style:{marginBottom:"16px"},children:g?T.jsxs(T.Fragment,{children:[T.jsx("h3",{className:"playlist__title",style:{margin:"0 0 12px 0",fontSize:"16px",fontWeight:"600",color:"#ffffff",display:"flex",alignItems:"center",gap:"8px"},children:"📁 Select Group"}),T.jsx(Pf,{groups:G,selectedGroupId:w,onGroupSelect:y,placeholder:"Choose channel group"})]}):T.jsxs("h3",{className:"playlist__title",style:{margin:"0",fontSize:"16px",fontWeight:"600",color:"#ffffff",display:"flex",alignItems:"center",gap:"8px"},children:["📺 ",ee.length," Channels"]})}),T.jsx("div",{className:"playlist__content",style:{overflowY:"auto",flex:1},children:g&&!w?T.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px 20px",color:"rgba(255, 255, 255, 0.6)",fontSize:"14px",textAlign:"center"},children:"👆 Select a group above to view channels"}):Object.entries(k).map(([I,K])=>T.jsxs("div",{className:"playlist__category",style:{marginBottom:v?"20px":"0"},children:[v&&T.jsx("div",{className:"playlist__category-header",style:{fontSize:"14px",fontWeight:"600",color:"rgba(255, 255, 255, 0.8)",marginBottom:"12px",padding:"8px 12px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:I}),T.jsx("div",{className:"playlist__channels",style:{display:"flex",flexDirection:"column",gap:"8px"},children:K.map(C)})]},I))})]})});Hf.displayName="PlayListSection";const _p=[{id:"1",name:"Premium Package",url:"https://example.com/premium.m3u",channelCount:1250,isActive:!0,lastUpdated:new Date("2024-01-15")},{id:"2",name:"Sports Only",url:"https://example.com/sports.m3u",channelCount:180,isActive:!0,lastUpdated:new Date("2024-01-14")},{id:"3",name:"Basic Package",url:"https://example.com/basic.m3u",channelCount:450,isActive:!1,lastUpdated:new Date("2024-01-10")},{id:"4",name:"International",url:"https://example.com/international.m3u",channelCount:890,isActive:!0,lastUpdated:new Date("2024-01-12")}],qf=Ct.forwardRef(({playlists:ee=_p,selectedPlaylistId:ie,onPlaylistSelect:Z,disabled:v=!1,placeholder:x="Select a playlist...",className:G="",...w},y)=>{const[g,m]=Oe.useState(!1),b=ee.find(C=>C.id===ie),D=()=>{v||m(!g)},k=C=>{Z?.(C),m(!1)},z=C=>{C.key==="Escape"&&m(!1)};return Ct.useEffect(()=>{const C=I=>{const K=I.target;y&&"current"in y&&y.current&&!y.current.contains(K)&&m(!1)};if(g)return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[g,y]),T.jsxs("div",{ref:y,className:`playlist-selector ${g?"playlist-selector--open":""} ${v?"playlist-selector--disabled":""} ${G}`.trim(),onKeyDown:z,...w,children:[T.jsxs("button",{className:"playlist-selector__trigger",onClick:D,disabled:v,"aria-expanded":g,"aria-haspopup":"listbox",style:{width:"80%",margin:"0 auto"},children:[T.jsx("div",{className:"playlist-selector__content",children:b?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"playlist-selector__name",children:b.name}),T.jsxs("div",{className:"playlist-selector__info",children:[b.channelCount," channels",!b.isActive&&T.jsx("span",{className:"playlist-selector__status",children:"• Inactive"})]})]}):T.jsx("div",{className:"playlist-selector__placeholder",children:x})}),T.jsx("div",{className:"playlist-selector__arrow",children:"▼"})]}),g&&T.jsx("div",{className:"playlist-selector__dropdown",role:"listbox",children:ee.map(C=>{const I=ie===C.id,K=I?"playlist-selector__option--selected":"",J=C.isActive?"":"playlist-selector__option--inactive";return T.jsxs("div",{className:`playlist-selector__option ${K} ${J}`.trim(),onClick:()=>k(C),role:"option","aria-selected":I,tabIndex:0,onKeyDown:F=>{(F.key==="Enter"||F.key===" ")&&(F.preventDefault(),k(C))},children:[T.jsxs("div",{className:"playlist-selector__option-content",children:[T.jsxs("div",{className:"playlist-selector__option-name",children:[C.name,!C.isActive&&T.jsx("span",{className:"playlist-selector__option-badge",children:"Inactive"})]}),T.jsxs("div",{className:"playlist-selector__option-info",children:[C.channelCount," channels • Updated"," ",C.lastUpdated?.toLocaleDateString()]})]}),I&&T.jsx("div",{className:"playlist-selector__check",children:"✓"})]},C.id)})})]})});qf.displayName="PlaylistSelector";const Yf=Ct.forwardRef(({isOpen:ee,onClose:ie,playlists:Z=[],onPlaylistsUpdate:v,onFileUpload:x,className:G="",...w},y)=>{const[g,m]=Oe.useState(""),[b,D]=Oe.useState(""),[k,z]=Oe.useState(!1),[C,I]=Oe.useState("url"),[K,J]=Oe.useState(!1),[F,le]=Oe.useState(null),[P,te]=Oe.useState(null),[re,Y]=Oe.useState(""),R=Oe.useRef(null),E=async()=>{if(C==="url"&&g.trim()&&b.trim()){const N={id:`playlist-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,name:g.trim(),url:b.trim(),channelCount:Math.floor(Math.random()*1e3)+100,isActive:!0,lastUpdated:new Date};v?.([...Z,N]),oe()}else C==="file"&&g.trim()&&P&&await U()},A=N=>{const de=N.target.files?.[0];if(!de){te(null),le(null);return}if(!de.name.toLowerCase().endsWith(".m3u")&&!de.name.toLowerCase().endsWith(".m3u8")){le("Please select a valid M3U file (.m3u or .m3u8)"),te(null);return}te(de),le(null)},U=async()=>{if(!(!P||!g.trim())){J(!0),le(null),Y("");try{Y("Reading file..."),await new Promise(he=>setTimeout(he,100));const N=await P.text(),de=(N.length/(1024*1024)).toFixed(1);if(console.log("File content loaded, size:",N.length,`(${de} MB)`),Y(`Parsing M3U content (${de} MB)...`),await new Promise(he=>setTimeout(he,200)),x)Y("Saving to IndexedDB..."),await x(g.trim(),N),console.log("File upload callback completed");else{Y("Creating playlist entry...");const he={id:`playlist-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,name:g.trim(),url:void 0,channelCount:Math.floor(Math.random()*1e3)+100,isActive:!0,lastUpdated:new Date};v?.([...Z,he]),console.log("Mock playlist created:",he)}Y("Upload complete!"),await new Promise(he=>setTimeout(he,500)),oe()}catch(N){console.error("File upload error:",N),le(N instanceof Error?N.message:"Failed to upload file"),Y("")}finally{J(!1),Y("")}}},oe=()=>{m(""),D(""),te(null),z(!1),le(null),Y(""),R.current&&(R.current.value="")},xe=N=>{v?.(Z.filter(de=>de.id!==N))},pe=N=>{v?.(Z.map(de=>de.id===N?{...de,isActive:!de.isActive}:de))};if(!ee)return null;if(!document.querySelector("#modal-spinner-styles")){const N=document.createElement("style");N.id="modal-spinner-styles",N.textContent=`
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
            `,document.head.appendChild(N)}const be=T.jsx("div",{className:"modal-overlay",onClick:ie,style:{pointerEvents:"auto",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",width:"100vw",height:"100vh",zIndex:"10000",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.6)",margin:"0",padding:"16px",boxSizing:"border-box"},children:T.jsxs("div",{ref:y,className:`modal playlist-manager-modal ${G}`.trim(),onClick:N=>N.stopPropagation(),style:{backgroundColor:"rgba(30, 30, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.5)",color:"#ffffff",maxHeight:"90vh",overflow:"hidden",width:"600px",maxWidth:"90vw"},...w,children:[T.jsxs("div",{className:"modal__header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"24px 24px 0 24px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",marginBottom:"24px"},children:[T.jsx("h2",{className:"modal__title",style:{margin:"0",fontSize:"24px",fontWeight:"600",color:"#ffffff"},children:"Manage Playlists"}),T.jsx("button",{className:"modal__close",onClick:ie,style:{background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"8px",color:"#ffffff",cursor:"pointer",fontSize:"20px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s"},onMouseOver:N=>N.target.style.backgroundColor="rgba(255, 255, 255, 0.2)",onMouseOut:N=>N.target.style.backgroundColor="rgba(255, 255, 255, 0.1)",children:"×"})]}),T.jsxs("div",{className:"modal__content",style:{padding:"0 24px 24px 24px"},children:[T.jsx("div",{className:"playlist-manager__list",style:{display:"flex",flexDirection:"column",gap:"12px",marginBottom:"24px",maxHeight:"400px",overflowY:"auto"},children:Z.map(N=>T.jsxs("div",{className:"playlist-manager__item",style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",padding:"16px",display:"flex",justifyContent:"space-between",alignItems:"center",transition:"background-color 0.2s",...N.isActive?{background:"rgba(59, 130, 246, 0.2)",border:"1px solid rgba(59, 130, 246, 0.3)"}:{}},children:[T.jsxs("div",{className:"playlist-manager__info",style:{flex:1},children:[T.jsxs("div",{className:"playlist-manager__name",style:{fontSize:"16px",fontWeight:"600",color:"#ffffff",marginBottom:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[N.name,N.isActive&&T.jsx("span",{style:{background:"rgba(34, 197, 94, 0.2)",color:"#22c55e",fontSize:"12px",padding:"2px 8px",borderRadius:"12px",border:"1px solid rgba(34, 197, 94, 0.3)"},children:"Active"})]}),T.jsxs("div",{className:"playlist-manager__details",style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.7)",wordBreak:"break-all"},children:[N.channelCount," channels • ",N.url]})]}),T.jsxs("div",{className:"playlist-manager__actions",style:{display:"flex",gap:"8px",marginLeft:"16px"},children:[T.jsx("button",{onClick:()=>pe(N.id),style:{background:N.isActive?"rgba(239, 68, 68, 0.2)":"rgba(34, 197, 94, 0.2)",border:N.isActive?"1px solid rgba(239, 68, 68, 0.3)":"1px solid rgba(34, 197, 94, 0.3)",color:N.isActive?"#ef4444":"#22c55e",borderRadius:"6px",padding:"8px 12px",fontSize:"14px",cursor:"pointer",transition:"all 0.2s"},children:N.isActive?"Deactivate":"Activate"}),T.jsx("button",{onClick:()=>xe(N.id),style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"#ef4444",borderRadius:"6px",padding:"8px 12px",fontSize:"14px",cursor:"pointer",transition:"all 0.2s"},children:"Delete"})]})]},N.id))}),k?T.jsxs("div",{className:"playlist-manager__form",style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",padding:"20px"},children:[T.jsxs("div",{className:"form-field",style:{marginBottom:"20px"},children:[T.jsx("label",{style:{display:"block",color:"#ffffff",fontSize:"14px",fontWeight:"500",marginBottom:"12px"},children:"Add Method"}),T.jsxs("div",{style:{display:"flex",gap:"12px"},children:[T.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 16px",borderRadius:"8px",border:`2px solid ${C==="url"?"rgba(59, 130, 246, 0.5)":"rgba(255, 255, 255, 0.2)"}`,background:C==="url"?"rgba(59, 130, 246, 0.1)":"rgba(255, 255, 255, 0.05)",cursor:"pointer",transition:"all 0.2s",flex:1},children:[T.jsx("input",{type:"radio",value:"url",checked:C==="url",onChange:N=>I(N.target.value),style:{margin:0}}),T.jsx("span",{style:{color:"#ffffff",fontSize:"14px",fontWeight:"500"},children:"🌐 From URL"})]}),T.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 16px",borderRadius:"8px",border:`2px solid ${C==="file"?"rgba(59, 130, 246, 0.5)":"rgba(255, 255, 255, 0.2)"}`,background:C==="file"?"rgba(59, 130, 246, 0.1)":"rgba(255, 255, 255, 0.05)",cursor:"pointer",transition:"all 0.2s",flex:1},children:[T.jsx("input",{type:"radio",value:"file",checked:C==="file",onChange:N=>I(N.target.value),style:{margin:0}}),T.jsx("span",{style:{color:"#ffffff",fontSize:"14px",fontWeight:"500"},children:"📁 Upload File"})]})]})]}),T.jsxs("div",{className:"form-field",style:{marginBottom:"16px"},children:[T.jsx("label",{htmlFor:"playlist-name",style:{display:"block",color:"#ffffff",fontSize:"14px",fontWeight:"500",marginBottom:"8px"},children:"Playlist Name"}),T.jsx("input",{id:"playlist-name",type:"text",value:g,onChange:N=>{m(N.target.value),le(null)},placeholder:"Enter playlist name",disabled:K,style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",padding:"12px",color:"#ffffff",fontSize:"14px",outline:"none",transition:"border-color 0.2s",opacity:K?.6:1},onFocus:N=>N.target.style.borderColor="rgba(59, 130, 246, 0.5)",onBlur:N=>N.target.style.borderColor="rgba(255, 255, 255, 0.2)"})]}),C==="url"?T.jsxs("div",{className:"form-field",style:{marginBottom:"20px"},children:[T.jsx("label",{htmlFor:"playlist-url",style:{display:"block",color:"#ffffff",fontSize:"14px",fontWeight:"500",marginBottom:"8px"},children:"M3U URL"}),T.jsx("input",{id:"playlist-url",type:"url",value:b,onChange:N=>D(N.target.value),placeholder:"https://example.com/playlist.m3u",style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",padding:"12px",color:"#ffffff",fontSize:"14px",outline:"none",transition:"border-color 0.2s"},onFocus:N=>N.target.style.borderColor="rgba(59, 130, 246, 0.5)",onBlur:N=>N.target.style.borderColor="rgba(255, 255, 255, 0.2)"})]}):T.jsxs("div",{className:"form-field",style:{marginBottom:"20px"},children:[T.jsx("label",{htmlFor:"playlist-file",style:{display:"block",color:"#ffffff",fontSize:"14px",fontWeight:"500",marginBottom:"8px"},children:"M3U File"}),T.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[T.jsx("input",{ref:R,id:"playlist-file",type:"file",accept:".m3u,.m3u8",onChange:A,disabled:K,style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",padding:"12px",color:"#ffffff",fontSize:"14px",outline:"none",transition:"border-color 0.2s",opacity:K?.6:1,cursor:K?"not-allowed":"pointer"},onFocus:N=>N.target.style.borderColor="rgba(59, 130, 246, 0.5)",onBlur:N=>N.target.style.borderColor="rgba(255, 255, 255, 0.2)"}),K&&T.jsx("div",{style:{position:"absolute",right:"12px",color:"rgba(255, 255, 255, 0.7)",fontSize:"14px"},children:"Uploading..."})]})]}),F&&T.jsx("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"6px",padding:"12px",marginBottom:"20px",color:"#ef4444",fontSize:"14px"},children:F}),K&&re&&T.jsxs("div",{style:{background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"6px",padding:"12px",marginBottom:"20px",color:"#3b82f6",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"},children:[T.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid rgba(59, 130, 246, 0.3)",borderTop:"2px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"}}),re]}),T.jsxs("div",{className:"form-actions",style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[T.jsx("button",{onClick:oe,disabled:K,style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"#ffffff",borderRadius:"6px",padding:"10px 16px",fontSize:"14px",cursor:K?"not-allowed":"pointer",transition:"all 0.2s",opacity:K?.6:1},children:"Cancel"}),T.jsx("button",{onClick:E,disabled:K||!g.trim()||C==="url"&&!b.trim()||C==="file"&&!P,style:{background:!K&&g.trim()&&(C==="file"&&P||C==="url"&&b.trim())?"rgba(34, 197, 94, 0.2)":"rgba(255, 255, 255, 0.05)",border:!K&&g.trim()&&(C==="file"&&P||C==="url"&&b.trim())?"1px solid rgba(34, 197, 94, 0.3)":"1px solid rgba(255, 255, 255, 0.1)",color:!K&&g.trim()&&(C==="file"&&P||C==="url"&&b.trim())?"#22c55e":"rgba(255, 255, 255, 0.5)",borderRadius:"6px",padding:"10px 16px",fontSize:"14px",fontWeight:"500",cursor:!K&&g.trim()&&(C==="file"&&P||C==="url"&&b.trim())?"pointer":"not-allowed",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px"},children:K?T.jsx(T.Fragment,{children:T.jsx("span",{children:"Processing..."})}):C==="url"?"Add Playlist":"Upload & Add"})]})]}):T.jsx("button",{onClick:()=>z(!0),style:{width:"100%",background:"rgba(59, 130, 246, 0.2)",border:"1px solid rgba(59, 130, 246, 0.3)",color:"#3b82f6",borderRadius:"8px",padding:"16px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseOver:N=>{N.target.style.background="rgba(59, 130, 246, 0.3)",N.target.style.borderColor="rgba(59, 130, 246, 0.4)"},onMouseOut:N=>{N.target.style.background="rgba(59, 130, 246, 0.2)",N.target.style.borderColor="rgba(59, 130, 246, 0.3)"},children:"+ Add New Playlist"})]})]})});return Ps.createPortal(be,document.body)});Yf.displayName="PlaylistManagerModal";const zf={volume:80,autoplay:!0,bufferSize:30,retryAttempts:3,preferredQuality:"auto",enableSubtitles:!1,subtitleLanguage:"en"},Ff=Ct.forwardRef(({isOpen:ee,onClose:ie,settings:Z=zf,onSettingsUpdate:v,className:x="",...G},w)=>{const[y,g]=Oe.useState(Z),m=()=>{v?.(y),ie()},b=()=>{g(zf)},D=(z,C)=>{g(I=>({...I,[z]:C}))};if(!ee)return null;const k=T.jsx("div",{className:"modal-overlay",onClick:ie,style:{pointerEvents:"auto",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",width:"100vw",height:"100vh",zIndex:"10000",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.6)",margin:"0",padding:"16px",boxSizing:"border-box"},children:T.jsxs("div",{ref:w,className:`modal playback-settings-modal ${x}`.trim(),onClick:z=>z.stopPropagation(),style:{backgroundColor:"rgba(30, 30, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.5)",color:"#ffffff",maxHeight:"90vh",overflow:"hidden",width:"500px",maxWidth:"90vw"},...G,children:[T.jsxs("div",{className:"modal__header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"24px 24px 0 24px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",marginBottom:"24px"},children:[T.jsx("h2",{className:"modal__title",style:{margin:"0",fontSize:"24px",fontWeight:"600",color:"#ffffff"},children:"Playback Settings"}),T.jsx("button",{className:"modal__close",onClick:ie,style:{background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"8px",color:"#ffffff",cursor:"pointer",fontSize:"20px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s"},onMouseOver:z=>z.target.style.backgroundColor="rgba(255, 255, 255, 0.2)",onMouseOut:z=>z.target.style.backgroundColor="rgba(255, 255, 255, 0.1)",children:"×"})]}),T.jsx("div",{className:"modal__content",style:{padding:"0 24px 24px 24px"},children:T.jsxs("div",{className:"settings-form",style:{display:"flex",flexDirection:"column",gap:"24px"},children:[T.jsxs("div",{className:"form-section",style:{background:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.08)",borderRadius:"12px",padding:"20px"},children:[T.jsx("h3",{className:"form-section__title",style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:"600",color:"#ffffff"},children:"Audio & Video"}),T.jsxs("div",{className:"form-field",style:{marginBottom:"16px"},children:[T.jsxs("label",{htmlFor:"volume",style:{display:"block",color:"#ffffff",fontSize:"14px",fontWeight:"500",marginBottom:"8px"},children:["Volume (",y.volume,"%)"]}),T.jsx("input",{type:"range",id:"volume",min:"0",max:"100",value:y.volume,onChange:z=>D("volume",parseInt(z.target.value)),style:{width:"100%",height:"6px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"3px",outline:"none",appearance:"none",cursor:"pointer"}})]}),T.jsxs("div",{className:"form-field",style:{marginBottom:"16px"},children:[T.jsx("label",{style:{display:"block",color:"#ffffff",fontSize:"14px",fontWeight:"500",marginBottom:"8px"},children:"Preferred Quality"}),T.jsxs("select",{value:y.preferredQuality,onChange:z=>D("preferredQuality",z.target.value),style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",padding:"12px",color:"#ffffff",fontSize:"14px",outline:"none",transition:"border-color 0.2s",cursor:"pointer"},onFocus:z=>z.target.style.borderColor="rgba(59, 130, 246, 0.5)",onBlur:z=>z.target.style.borderColor="rgba(255, 255, 255, 0.2)",children:[T.jsx("option",{value:"auto",children:"Auto (Recommended)"}),T.jsx("option",{value:"high",children:"High (1080p+)"}),T.jsx("option",{value:"medium",children:"Medium (720p)"}),T.jsx("option",{value:"low",children:"Low (480p)"})]})]}),T.jsx("div",{className:"form-field",children:T.jsxs("label",{className:"checkbox-field",style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",fontSize:"14px",color:"#ffffff"},children:[T.jsx("input",{type:"checkbox",checked:y.autoplay,onChange:z=>D("autoplay",z.target.checked),style:{width:"16px",height:"16px",cursor:"pointer"}}),T.jsx("span",{children:"Autoplay channels"})]})})]}),T.jsxs("div",{className:"form-section",style:{background:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.08)",borderRadius:"12px",padding:"20px"},children:[T.jsx("h3",{className:"form-section__title",style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:"600",color:"#ffffff"},children:"Buffering & Connection"}),T.jsxs("div",{className:"form-field",style:{marginBottom:"16px"},children:[T.jsx("label",{htmlFor:"buffer-size",style:{display:"block",color:"#ffffff",fontSize:"14px",fontWeight:"500",marginBottom:"8px"},children:"Buffer Size (seconds)"}),T.jsx("input",{id:"buffer-size",type:"number",min:"10",max:"120",value:y.bufferSize.toString(),onChange:z=>D("bufferSize",parseInt(z.target.value)||30),style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",padding:"12px",color:"#ffffff",fontSize:"14px",outline:"none",transition:"border-color 0.2s"},onFocus:z=>z.target.style.borderColor="rgba(59, 130, 246, 0.5)",onBlur:z=>z.target.style.borderColor="rgba(255, 255, 255, 0.2)"})]}),T.jsxs("div",{className:"form-field",children:[T.jsx("label",{htmlFor:"retry-attempts",style:{display:"block",color:"#ffffff",fontSize:"14px",fontWeight:"500",marginBottom:"8px"},children:"Retry Attempts"}),T.jsx("input",{id:"retry-attempts",type:"number",min:"1",max:"10",value:y.retryAttempts.toString(),onChange:z=>D("retryAttempts",parseInt(z.target.value)||3),style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",padding:"12px",color:"#ffffff",fontSize:"14px",outline:"none",transition:"border-color 0.2s"},onFocus:z=>z.target.style.borderColor="rgba(59, 130, 246, 0.5)",onBlur:z=>z.target.style.borderColor="rgba(255, 255, 255, 0.2)"})]})]}),T.jsxs("div",{className:"form-section",style:{background:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.08)",borderRadius:"12px",padding:"20px"},children:[T.jsx("h3",{className:"form-section__title",style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:"600",color:"#ffffff"},children:"Subtitles"}),T.jsx("div",{className:"form-field",style:{marginBottom:"16px"},children:T.jsxs("label",{className:"checkbox-field",style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",fontSize:"14px",color:"#ffffff"},children:[T.jsx("input",{type:"checkbox",checked:y.enableSubtitles,onChange:z=>D("enableSubtitles",z.target.checked),style:{width:"16px",height:"16px",cursor:"pointer"}}),T.jsx("span",{children:"Enable subtitles"})]})}),y.enableSubtitles&&T.jsxs("div",{className:"form-field",children:[T.jsx("label",{htmlFor:"subtitle-language",style:{display:"block",color:"#ffffff",fontSize:"14px",fontWeight:"500",marginBottom:"8px"},children:"Subtitle Language"}),T.jsxs("select",{id:"subtitle-language",value:y.subtitleLanguage,onChange:z=>D("subtitleLanguage",z.target.value),style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",padding:"12px",color:"#ffffff",fontSize:"14px",outline:"none",transition:"border-color 0.2s",cursor:"pointer"},onFocus:z=>z.target.style.borderColor="rgba(59, 130, 246, 0.5)",onBlur:z=>z.target.style.borderColor="rgba(255, 255, 255, 0.2)",children:[T.jsx("option",{value:"en",children:"English"}),T.jsx("option",{value:"es",children:"Spanish"}),T.jsx("option",{value:"fr",children:"French"}),T.jsx("option",{value:"de",children:"German"}),T.jsx("option",{value:"it",children:"Italian"})]})]})]})]})}),T.jsxs("div",{className:"modal__footer",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"24px",borderTop:"1px solid rgba(255, 255, 255, 0.1)",marginTop:"24px"},children:[T.jsx(Xa,{variant:"secondary",onClick:b,children:"Reset to Defaults"}),T.jsxs("div",{className:"modal__actions",style:{display:"flex",gap:"12px"},children:[T.jsx(Xa,{variant:"secondary",onClick:ie,children:"Cancel"}),T.jsx(Xa,{onClick:m,children:"Save Settings"})]})]})]})});return Ps.createPortal(k,document.body)});Ff.displayName="PlaybackSettingsModal";const pp=["All playback settings","Playlist preferences","UI layout and theme","Keyboard shortcuts","Connection settings","Cache and temporary data"],Kf=Ct.forwardRef(({isOpen:ee,onClose:ie,onConfirm:Z,message:v="This action will reset all settings to their default values. This cannot be undone.",resetItems:x=pp,className:G="",...w},y)=>{const g=()=>{Z?.(),ie()};if(!ee)return null;const m=T.jsx("div",{className:"modal-overlay",onClick:ie,style:{pointerEvents:"auto",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",width:"100vw",height:"100vh",zIndex:"10000",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.6)",margin:"0",padding:"16px",boxSizing:"border-box"},children:T.jsxs("div",{ref:y,className:`modal reset-modal ${G}`.trim(),onClick:b=>b.stopPropagation(),style:{backgroundColor:"rgba(30, 30, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.5)",color:"#ffffff",maxHeight:"90vh",overflow:"hidden",width:"450px",maxWidth:"90vw"},...w,children:[T.jsxs("div",{className:"modal__header",children:[T.jsx("h2",{className:"modal__title",children:"Reset All Settings"}),T.jsx("button",{className:"modal__close",onClick:ie,children:"×"})]}),T.jsxs("div",{className:"modal__content",children:[T.jsxs("div",{className:"reset-modal__warning",children:[T.jsx("div",{className:"reset-modal__icon",children:"⚠️"}),T.jsx("p",{className:"reset-modal__message",children:v})]}),T.jsxs("div",{className:"reset-modal__items",children:[T.jsx("h3",{className:"reset-modal__items-title",children:"The following will be reset:"}),T.jsx("ul",{className:"reset-modal__items-list",children:x.map((b,D)=>T.jsx("li",{className:"reset-modal__item",children:b},D))})]}),T.jsxs("div",{className:"reset-modal__note",children:[T.jsx("strong",{children:"Note:"})," Your playlists and favorites will be preserved, but you'll need to reconfigure your preferences."]})]}),T.jsx("div",{className:"modal__footer",children:T.jsxs("div",{className:"modal__actions",children:[T.jsx(Xa,{variant:"secondary",onClick:ie,children:"Cancel"}),T.jsx(Xa,{onClick:g,className:"btn--danger",children:"Reset All Settings"})]})})]})});return Ps.createPortal(m,document.body)});Kf.displayName="ResetToDefaultModal";const Xf=Ct.forwardRef(({playlists:ee=[],selectedPlaylistId:ie,playbackSettings:Z,onPlaylistSelect:v,onPlaylistsUpdate:x,onPlaybackSettingsUpdate:G,onResetToDefaults:w,onFileUpload:y,className:g="",...m},b)=>{const[D,k]=Oe.useState(!1),[z,C]=Oe.useState(!1),[I,K]=Oe.useState(!1);return T.jsxs(T.Fragment,{children:[T.jsx("div",{ref:b,className:`settings-section ${g}`.trim(),style:{display:"flex",flexDirection:"column",gap:"16px"},...m,children:T.jsxs("div",{className:"settings-section__content",style:{display:"flex",flexDirection:"column",gap:"16px"},children:[T.jsxs("div",{className:"settings-group",style:{display:"flex",flexDirection:"column",gap:"12px"},children:[T.jsx("div",{className:"settings-group__header",style:{display:"flex",alignItems:"center",gap:"8px"},children:T.jsx("h4",{className:"settings-group__title",style:{margin:"0",fontSize:"14px",fontWeight:"600",color:"#ffffff",display:"flex",alignItems:"center",gap:"6px"},children:"📋 Active Playlist"})}),T.jsx(qf,{playlists:ee,selectedPlaylistId:ie,onPlaylistSelect:v,placeholder:"No playlist selected"})]}),T.jsx("div",{className:"settings-group",children:T.jsx(Xa,{variant:"secondary",onClick:()=>k(!0),className:"settings-action",style:{width:"100%",background:"rgba(59, 130, 246, 0.15)",border:"1px solid rgba(59, 130, 246, 0.3)",color:"#60a5fa",padding:"12px 16px",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseOver:J=>{J.target.style.background="rgba(59, 130, 246, 0.25)",J.target.style.borderColor="rgba(59, 130, 246, 0.4)"},onMouseOut:J=>{J.target.style.background="rgba(59, 130, 246, 0.15)",J.target.style.borderColor="rgba(59, 130, 246, 0.3)"},children:"🎵 Manage Playlists"})}),T.jsx("div",{className:"settings-group",children:T.jsx(Xa,{variant:"secondary",onClick:()=>C(!0),className:"settings-action",style:{width:"100%",background:"rgba(34, 197, 94, 0.15)",border:"1px solid rgba(34, 197, 94, 0.3)",color:"#4ade80",padding:"12px 16px",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseOver:J=>{J.target.style.background="rgba(34, 197, 94, 0.25)",J.target.style.borderColor="rgba(34, 197, 94, 0.4)"},onMouseOut:J=>{J.target.style.background="rgba(34, 197, 94, 0.15)",J.target.style.borderColor="rgba(34, 197, 94, 0.3)"},children:"⚙️ Configure Playback"})}),T.jsx("div",{className:"settings-group settings-group--danger",children:T.jsx(Xa,{variant:"secondary",onClick:()=>K(!0),className:"settings-action btn--danger-outline",style:{width:"100%",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",color:"#f87171",padding:"12px 16px",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseOver:J=>{J.target.style.background="rgba(239, 68, 68, 0.2)",J.target.style.borderColor="rgba(239, 68, 68, 0.4)"},onMouseOut:J=>{J.target.style.background="rgba(239, 68, 68, 0.1)",J.target.style.borderColor="rgba(239, 68, 68, 0.3)"},children:"🔄 Restore Defaults"})})]})}),T.jsx(Yf,{isOpen:D,onClose:()=>k(!1),playlists:ee,onPlaylistsUpdate:x,onFileUpload:y}),T.jsx(Ff,{isOpen:z,onClose:()=>C(!1),settings:Z,onSettingsUpdate:G}),T.jsx(Kf,{isOpen:I,onClose:()=>K(!1),onConfirm:w})]})});Xf.displayName="SettingsSection";const Qf=Ct.forwardRef(({isOpen:ee,onClose:ie,user:Z,userSectionProps:v={},channels:x,selectedChannelId:G,onChannelSelect:w,groups:y,selectedGroupId:g,onGroupSelect:m,playlists:b,selectedPlaylistId:D,playbackSettings:k,onPlaylistSelect:z,onPlaylistsUpdate:C,onPlaybackSettingsUpdate:I,onResetToDefaults:K,onFileUpload:J,width:F="320px",position:le="left",showOverlay:P=!0,className:te="",style:re,...Y},R)=>{Oe.useEffect(()=>{const oe=xe=>{xe.key==="Escape"&&ee&&ie()};if(ee)return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[ee,ie]),Oe.useEffect(()=>{if(ee)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[ee]);const E=ee?"sidebar--open":"",A=`sidebar--${le}`,U={width:F,...re};return T.jsxs(T.Fragment,{children:[P&&ee&&T.jsx("div",{className:"sidebar-overlay",onClick:ie,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:9999,backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)"}}),T.jsxs("div",{ref:R,className:`sidebar ${E} ${A} ${te}`.trim(),style:{...U,backgroundColor:"rgba(30, 30, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:le==="right"?"1px solid rgba(255, 255, 255, 0.1)":"none",borderLeft:le==="left"?"1px solid rgba(255, 255, 255, 0.1)":void 0,borderRight:le==="right"?"1px solid rgba(255, 255, 255, 0.1)":void 0,boxShadow:le==="left"?"4px 0 20px rgba(0, 0, 0, 0.3)":"-4px 0 20px rgba(0, 0, 0, 0.3)",color:"#ffffff",zIndex:1e4},...Y,children:[T.jsx("div",{className:"sidebar__header",style:{display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"20px 20px 0 20px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",marginBottom:"0"},children:T.jsx("button",{className:"sidebar__close",onClick:ie,"aria-label":"Close sidebar",style:{background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"8px",color:"#ffffff",cursor:"pointer",fontSize:"20px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s"},onMouseOver:oe=>oe.target.style.backgroundColor="rgba(255, 255, 255, 0.2)",onMouseOut:oe=>oe.target.style.backgroundColor="rgba(255, 255, 255, 0.1)",children:"×"})}),T.jsxs("div",{className:"sidebar__content",style:{padding:"20px",display:"flex",flexDirection:"column",gap:"20px",flex:1,overflowY:"auto"},children:[Z&&T.jsx("div",{className:"sidebar__section",style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"16px"},children:T.jsx(Gf,{userName:Z.name,userIcon:"favicon-32x32.png",subtitle:Z.subtitle,...v})}),T.jsx("div",{className:"sidebar__section",style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"16px"},children:T.jsx(Hf,{channels:x,selectedChannelId:G,onChannelSelect:w,groups:y,selectedGroupId:g,onGroupSelect:m,maxHeight:"500px"})}),T.jsx("div",{className:"sidebar__section sidebar__section--settings",style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"16px"},children:T.jsx(Xf,{playlists:b,selectedPlaylistId:D,playbackSettings:k,onPlaylistSelect:z,onPlaylistsUpdate:C,onPlaybackSettingsUpdate:I,onResetToDefaults:K,onFileUpload:J})})]}),T.jsx("div",{className:"sidebar__footer",style:{borderTop:"1px solid rgba(255, 255, 255, 0.1)",padding:"16px 20px",marginTop:"auto"},children:T.jsx("div",{className:"sidebar__footer-text",style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)",textAlign:"center",fontWeight:"500"},children:"IPTV Player v1.0.0"})})]})]})});Qf.displayName="SideBar";const Zf=Ct.forwardRef(({isOpen:ee,onClose:ie,title:Z,children:v,size:x="md",showCloseButton:G=!0,closeOnOverlayClick:w=!0,closeOnEscape:y=!0,className:g="",...m},b)=>{if(Oe.useEffect(()=>(ee?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[ee]),Oe.useEffect(()=>{const z=C=>{C.key==="Escape"&&y&&ie()};if(ee)return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[ee,y,ie]),!ee)return null;const D=`modal--${x}`,k=T.jsx("div",{className:"modal-overlay",onClick:w?ie:void 0,style:{pointerEvents:"auto",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",width:"100vw",height:"100vh",zIndex:"10000",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.6)",margin:"0",padding:"16px",boxSizing:"border-box"},children:T.jsxs("div",{ref:b,className:`modal ${D} ${g}`.trim(),onClick:z=>z.stopPropagation(),style:{backgroundColor:"rgba(30, 30, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.5)",color:"#ffffff",maxHeight:"90vh",overflow:"hidden"},...m,children:[Z&&T.jsxs("div",{className:"modal__header",children:[T.jsx("h2",{className:"modal__title",children:Z}),G&&T.jsx("button",{className:"modal__close",onClick:ie,"aria-label":"Close modal",children:T.jsx("svg",{width:"20",height:"20",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),T.jsx("div",{className:"modal__content",children:v})]})});return Ps.createPortal(k,document.body)});Zf.displayName="Modal";const Wf=Ct.forwardRef(({steps:ee,isOpen:ie,onComplete:Z,onCancel:v,onStepChange:x,allowCancel:G=!0,showProgress:w=!0,showStepNumbers:y=!0,allowStepClick:g=!1,size:m="lg",captions:b={},className:D="",...k},z)=>{const[C,I]=Oe.useState({currentStep:0,completedSteps:new Set,stepErrors:new Map,isValidating:!1}),{nextCaption:K="Next",previousCaption:J="Previous",finishCaption:F="Finish",cancelCaption:le="Cancel",skipCaption:P="Skip"}=b,te=ee[C.currentStep],re=C.currentStep===0,Y=C.currentStep===ee.length-1,R=Oe.useCallback(M=>{I(d=>({...d,...M}))},[]),E=Oe.useCallback(async()=>{if(!te?.validation)return!0;R({isValidating:!0});try{if(!await te.validation())return R({stepErrors:new Map(C.stepErrors.set(C.currentStep,"Please complete this step before continuing")),isValidating:!1}),!1;const M=new Map(C.stepErrors);return M.delete(C.currentStep),R({stepErrors:M,isValidating:!1}),!0}catch{return R({stepErrors:new Map(C.stepErrors.set(C.currentStep,"Validation failed")),isValidating:!1}),!1}},[te,C.currentStep,C.stepErrors,R]),A=Oe.useCallback(async M=>{if(!(M<0||M>=ee.length)){if(M>C.currentStep){if(!await E())return;R({completedSteps:new Set([...C.completedSteps,C.currentStep])})}R({currentStep:M}),x?.(M)}},[ee.length,C.currentStep,C.completedSteps,E,R,x]),U=Oe.useCallback(async()=>{Y?await E()&&Z(C.currentStep):await A(C.currentStep+1)},[Y,C.currentStep,E,Z,A]),oe=Oe.useCallback(()=>{A(C.currentStep-1)},[C.currentStep,A]),xe=Oe.useCallback(M=>{g&&(M<=C.currentStep||C.completedSteps.has(M))&&A(M)},[g,C.currentStep,C.completedSteps,A]),pe=Oe.useCallback(()=>{te?.canSkip&&A(C.currentStep+1)},[te,C.currentStep,A]),be=Oe.useCallback(M=>C.completedSteps.has(M)?"completed":M===C.currentStep?"current":M<C.currentStep?"completed":"pending",[C.completedSteps,C.currentStep]),N=()=>w?T.jsx("div",{className:"wizard__progress",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"24px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",marginBottom:"24px"},children:ee.map((M,d)=>{const O=be(d),W=g&&(d<=C.currentStep||C.completedSteps.has(d));return T.jsxs(Ct.Fragment,{children:[T.jsxs("div",{className:`wizard__step ${O==="current"?"wizard__step--current":""} ${O==="completed"?"wizard__step--completed":""} ${O==="pending"?"wizard__step--pending":""} ${W?"wizard__step--clickable":""}`.trim(),onClick:()=>xe(d),style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",cursor:W?"pointer":"default",opacity:O==="pending"?.6:1,transition:"all 0.2s"},children:[T.jsx("div",{className:"wizard__step-circle",style:{width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"600",border:"2px solid",borderColor:O==="completed"?"#22c55e":O==="current"?"#3b82f6":"rgba(255, 255, 255, 0.3)",backgroundColor:O==="completed"?"rgba(34, 197, 94, 0.2)":O==="current"?"rgba(59, 130, 246, 0.2)":"rgba(255, 255, 255, 0.05)",color:O==="completed"?"#22c55e":O==="current"?"#3b82f6":"rgba(255, 255, 255, 0.7)"},children:O==="completed"?T.jsx("svg",{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):y?d+1:null}),T.jsx("span",{className:"wizard__step-title",style:{fontSize:"12px",color:O==="current"?"#ffffff":"rgba(255, 255, 255, 0.7)",textAlign:"center",maxWidth:"80px",wordBreak:"break-word"},children:M.title})]}),d<ee.length-1&&T.jsx("div",{className:`wizard__connector ${d<C.currentStep?"wizard__connector--completed":""}`.trim(),style:{width:"40px",height:"2px",backgroundColor:d<C.currentStep?"#22c55e":"rgba(255, 255, 255, 0.2)",transition:"background-color 0.2s"}})]},M.id)})}):null,de=()=>{const M=C.stepErrors.has(C.currentStep),d=C.stepErrors.get(C.currentStep);return T.jsxs("div",{className:"wizard__content",style:{padding:"0 24px 24px 24px"},children:[T.jsxs("h2",{className:"wizard__step-content-title",style:{margin:"0 0 24px 0",fontSize:"24px",fontWeight:"600",color:"#ffffff",display:"flex",alignItems:"center",gap:"8px"},children:[te?.title,te?.isOptional&&T.jsx("span",{className:"wizard__optional-label",style:{background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.7)",fontSize:"12px",padding:"2px 8px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:"(Optional)"})]}),M&&T.jsx("div",{className:"wizard__error",style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"6px",padding:"12px",marginBottom:"20px",color:"#ef4444",fontSize:"14px"},children:d}),T.jsx("div",{className:"wizard__step-body",children:te?.content})]})},he=()=>{if(!document.querySelector("#wizard-spinner-styles")){const M=document.createElement("style");M.id="wizard-spinner-styles",M.textContent=`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `,document.head.appendChild(M)}return T.jsxs("div",{className:"wizard__footer",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px 24px",borderTop:"1px solid rgba(255, 255, 255, 0.1)",backgroundColor:"rgba(255, 255, 255, 0.02)"},children:[T.jsx("div",{className:"wizard__footer-left",children:te?.canSkip&&!Y&&T.jsx("button",{className:"wizard__skip-button",onClick:pe,style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"rgba(255, 255, 255, 0.7)",borderRadius:"6px",padding:"10px 16px",fontSize:"14px",cursor:"pointer",transition:"all 0.2s"},onMouseOver:M=>{M.target.style.background="rgba(255, 255, 255, 0.1)",M.target.style.color="#ffffff"},onMouseOut:M=>{M.target.style.background="rgba(255, 255, 255, 0.05)",M.target.style.color="rgba(255, 255, 255, 0.7)"},children:P})}),T.jsxs("div",{className:"wizard__footer-right",style:{display:"flex",gap:"12px",alignItems:"center"},children:[G&&le&&T.jsx("button",{className:"wizard__cancel-button",onClick:v,style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"rgba(255, 255, 255, 0.7)",borderRadius:"6px",padding:"10px 16px",fontSize:"14px",cursor:"pointer",transition:"all 0.2s"},onMouseOver:M=>{M.target.style.background="rgba(255, 255, 255, 0.1)",M.target.style.color="#ffffff"},onMouseOut:M=>{M.target.style.background="rgba(255, 255, 255, 0.05)",M.target.style.color="rgba(255, 255, 255, 0.7)"},children:le}),!re&&T.jsx("button",{className:"wizard__previous-button",onClick:oe,disabled:C.isValidating,style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"#ffffff",borderRadius:"6px",padding:"10px 16px",fontSize:"14px",cursor:C.isValidating?"not-allowed":"pointer",transition:"all 0.2s",opacity:C.isValidating?.6:1},onMouseOver:M=>{C.isValidating||(M.target.style.background="rgba(255, 255, 255, 0.15)")},onMouseOut:M=>{M.target.style.background="rgba(255, 255, 255, 0.1)"},children:te?.previousButtonText||J}),T.jsxs("button",{className:"wizard__next-button",onClick:U,disabled:C.isValidating,style:{background:C.isValidating?"rgba(59, 130, 246, 0.1)":"rgba(59, 130, 246, 0.2)",border:"1px solid rgba(59, 130, 246, 0.3)",color:"#3b82f6",borderRadius:"6px",padding:"10px 16px",fontSize:"14px",fontWeight:"500",cursor:C.isValidating?"not-allowed":"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px",opacity:C.isValidating?.8:1},onMouseOver:M=>{C.isValidating||(M.target.style.background="rgba(59, 130, 246, 0.3)",M.target.style.borderColor="rgba(59, 130, 246, 0.4)")},onMouseOut:M=>{M.target.style.background=C.isValidating?"rgba(59, 130, 246, 0.1)":"rgba(59, 130, 246, 0.2)",M.target.style.borderColor="rgba(59, 130, 246, 0.3)"},children:[C.isValidating&&T.jsx("div",{className:"wizard__loading-spinner",style:{width:"14px",height:"14px",border:"2px solid rgba(59, 130, 246, 0.3)",borderTop:"2px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"}}),Y?F:te?.nextButtonText||K]})]})]})};return ie?T.jsx(Zf,{isOpen:ie,onClose:v,size:m,closeOnOverlayClick:!1,showCloseButton:!1,children:T.jsxs("div",{ref:z,className:`wizard ${D}`.trim(),...k,children:[N(),de(),he()]})}):null});Wf.displayName="Wizard";class yi{static DB_NAME="IPTV_DB";static DB_VERSION=1;static STORE_NAME="playlists";static async openDB(){return new Promise((ie,Z)=>{const v=indexedDB.open(this.DB_NAME,this.DB_VERSION);v.onerror=()=>{Z(new Error("Failed to open IndexedDB"))},v.onsuccess=()=>{ie(v.result)},v.onupgradeneeded=x=>{const G=x.target.result;if(!G.objectStoreNames.contains(this.STORE_NAME)){const w=G.createObjectStore(this.STORE_NAME,{keyPath:"id"});w.createIndex("name","name",{unique:!1}),w.createIndex("createdAt","createdAt",{unique:!1})}}})}static async getPlaylists(){try{const ie=await this.openDB();return new Promise((Z,v)=>{const w=ie.transaction([this.STORE_NAME],"readonly").objectStore(this.STORE_NAME).getAll();w.onerror=()=>{v(new Error("Failed to retrieve playlists"))},w.onsuccess=()=>{const y=w.result.map(g=>({...g,createdAt:new Date(g.createdAt),updatedAt:new Date(g.updatedAt)}));Z(y)}})}catch(ie){return console.error("Error loading playlists from IndexedDB:",ie),[]}}static async savePlaylist(ie){try{const Z=await this.openDB();return new Promise((v,x)=>{const y=Z.transaction([this.STORE_NAME],"readwrite").objectStore(this.STORE_NAME).put(ie);y.onerror=()=>{x(new Error("Failed to save playlist"))},y.onsuccess=()=>{v()}})}catch(Z){throw console.error("Error saving playlist to IndexedDB:",Z),new Error("Failed to save playlist")}}static async savePlaylists(ie){try{const Z=await this.openDB();return new Promise((v,x)=>{const w=Z.transaction([this.STORE_NAME],"readwrite").objectStore(this.STORE_NAME),y=w.clear();y.onerror=()=>{x(new Error("Failed to clear existing playlists"))},y.onsuccess=()=>{let g=0;const m=ie.length;if(m===0){v();return}ie.forEach(b=>{const D=w.add(b);D.onerror=()=>{x(new Error("Failed to save playlists"))},D.onsuccess=()=>{g++,g===m&&v()}})}})}catch(Z){throw console.error("Error saving playlists to IndexedDB:",Z),new Error("Failed to save playlists")}}static async deletePlaylist(ie){try{const Z=await this.openDB();return new Promise((v,x)=>{const y=Z.transaction([this.STORE_NAME],"readwrite").objectStore(this.STORE_NAME).delete(ie);y.onerror=()=>{x(new Error("Failed to delete playlist"))},y.onsuccess=()=>{v(!0)}})}catch(Z){return console.error("Error deleting playlist from IndexedDB:",Z),!1}}static async getPlaylist(ie){try{const Z=await this.openDB();return new Promise((v,x)=>{const y=Z.transaction([this.STORE_NAME],"readonly").objectStore(this.STORE_NAME).get(ie);y.onerror=()=>{x(new Error("Failed to retrieve playlist"))},y.onsuccess=()=>{const g=y.result;v(g?{...g,createdAt:new Date(g.createdAt),updatedAt:new Date(g.updatedAt)}:null)}})}catch(Z){return console.error("Error loading playlist from IndexedDB:",Z),null}}static isSupported(){return"indexedDB"in window}static async clearAll(){try{const ie=await this.openDB();return new Promise((Z,v)=>{const w=ie.transaction([this.STORE_NAME],"readwrite").objectStore(this.STORE_NAME).clear();w.onerror=()=>{v(new Error("Failed to clear database"))},w.onsuccess=()=>{Z()}})}catch(ie){throw console.error("Error clearing IndexedDB:",ie),new Error("Failed to clear database")}}}const tu="iptv-playlists";class vi{static parseM3U(ie){const Z=ie.split(`
`).map(w=>w.trim()),v=[],x=[];let G=null;for(let w=0;w<Z.length;w++){const y=Z[w];if(!y.startsWith("#EXTM3U")){if(y.startsWith("#EXTINF:"))try{G=this.parseExtInf(y)}catch(g){x.push(`Error parsing line ${w+1}: ${g instanceof Error?g.message:"Unknown error"}`)}else if(y&&!y.startsWith("#")&&G){if(G.url=y,G.id=this.generateChannelId(G.name||"",y),G.name&&G.url){const g=G;console.log("Created channel:",g.name,"group:",g.group),v.push(g)}G=null}}}return{channels:v,errors:x.length>0?x:void 0}}static parseExtInf(ie){const Z=ie.match(/^#EXTINF:\s*([^,]*),(.*)$/);if(!Z)throw new Error("Invalid EXTINF format");const[,v,x]=Z,G=v.match(/^(-?\d*\.?\d+)/),w=G?parseFloat(G[1]):-1,y={},g=v.matchAll(/(\w+(?:-\w+)*)="([^"]*)"/g);for(const[,b,D]of g)y[b]=D;const m=v.matchAll(/(\w+(?:-\w+)*)=([^\s"]+)/g);for(const[,b,D]of m)y[b]||(y[b]=D);return y["group-title"]?console.log("Found group-title:",y["group-title"],"for channel:",x.trim()):console.log("No group-title found for channel:",x.trim(),"params:",Object.keys(y)),{name:x.trim(),duration:w===-1?void 0:w,logo:y["tvg-logo"],group:y["group-title"]}}static generateChannelId(ie,Z){const v=Date.now().toString(36),x=Math.random().toString(36).substring(2,8),G=`${ie}-${Z}`;let w=0;for(let g=0;g<G.length;g++){const m=G.charCodeAt(g);w=(w<<5)-w+m,w=w&w}return`${Math.abs(w).toString(36).substring(0,8)}-${v}-${x}`}static async getPlaylistsAsync(){if(yi.isSupported())try{let ie=await yi.getPlaylists();if(ie.length===0){const Z=this.getLegacyPlaylists();if(Z.length>0)return console.log("Migrating playlists from localStorage to IndexedDB..."),ie=this.deduplicateChannelIds(Z),await this.savePlaylistsAsync(ie),localStorage.removeItem(tu),ie}else{const Z=this.deduplicateChannelIds(ie);if(this.hasChanges(ie,Z))return console.log("Fixed duplicate channel IDs in existing playlists"),await this.savePlaylistsAsync(Z),Z}return ie}catch(ie){return console.error("Error loading playlists from IndexedDB, falling back to localStorage:",ie),this.deduplicateChannelIds(this.getLegacyPlaylists())}else return this.deduplicateChannelIds(this.getLegacyPlaylists())}static getPlaylists(){return this.getLegacyPlaylists()}static getLegacyPlaylists(){try{const ie=localStorage.getItem(tu);return ie?JSON.parse(ie).map(v=>({...v,createdAt:new Date(v.createdAt),updatedAt:new Date(v.updatedAt)})):[]}catch(ie){return console.error("Error loading playlists from localStorage:",ie),[]}}static async savePlaylistsAsync(ie){if(yi.isSupported())try{await yi.savePlaylists(ie);return}catch(Z){console.error("Error saving playlists to IndexedDB, falling back to localStorage:",Z)}this.savePlaylists(ie)}static savePlaylists(ie){try{localStorage.setItem(tu,JSON.stringify(ie))}catch(Z){throw console.error("Error saving playlists to localStorage:",Z),new Error("Failed to save playlist")}}static async addPlaylistAsync(ie,Z,v){const x=this.parseM3U(Z),G={id:this.generatePlaylistId(),name:ie,url:v,channels:x.channels,createdAt:new Date,updatedAt:new Date};if(yi.isSupported())try{return await yi.savePlaylist(G),G}catch(y){console.error("Error saving playlist to IndexedDB, falling back to localStorage:",y)}const w=this.getPlaylists();return w.push(G),this.savePlaylists(w),G}static addPlaylist(ie,Z,v){const x=this.parseM3U(Z),G={id:this.generatePlaylistId(),name:ie,url:v,channels:x.channels,createdAt:new Date,updatedAt:new Date},w=this.getPlaylists();return w.push(G),this.savePlaylists(w),G}static updatePlaylist(ie,Z){const v=this.getPlaylists(),x=v.findIndex(G=>G.id===ie);return x===-1?null:(v[x]={...v[x],...Z,updatedAt:new Date},this.savePlaylists(v),v[x])}static async deletePlaylistAsync(ie){if(yi.isSupported())try{return await yi.deletePlaylist(ie)}catch(Z){console.error("Error deleting playlist from IndexedDB, falling back to localStorage:",Z)}return this.deletePlaylist(ie)}static deletePlaylist(ie){const Z=this.getPlaylists(),v=Z.filter(x=>x.id!==ie);return v.length===Z.length?!1:(this.savePlaylists(v),!0)}static async refreshPlaylist(ie){const Z=this.getPlaylists(),v=Z.find(x=>x.id===ie);if(!v||!v.url)return null;try{const x=await fetch(v.url);if(!x.ok)throw new Error(`HTTP ${x.status}: ${x.statusText}`);const G=await x.text(),w=this.parseM3U(G);return v.channels=w.channels,v.updatedAt=new Date,this.savePlaylists(Z),v}catch(x){throw console.error("Error refreshing playlist:",x),x}}static generatePlaylistId(){return`playlist-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}static deduplicateChannelIds(ie){const Z=new Set;return ie.map(v=>({...v,channels:v.channels.map(x=>{let G=x.id;return Z.has(G)&&(G=this.generateChannelId(x.name,x.url),console.log(`Regenerated duplicate channel ID: ${x.id} -> ${G} for channel: ${x.name}`)),Z.add(G),{...x,id:G}})}))}static hasChanges(ie,Z){if(ie.length!==Z.length)return!0;for(let v=0;v<ie.length;v++){const x=ie[v].channels,G=Z[v].channels;if(x.length!==G.length)return!0;for(let w=0;w<x.length;w++)if(x[w].id!==G[w].id)return!0}return!1}static getPlaylist(ie){return this.getPlaylists().find(v=>v.id===ie)||null}static getAllChannels(){return this.getPlaylists().flatMap(Z=>Z.channels)}static searchChannels(ie){const Z=this.getAllChannels(),v=ie.toLowerCase();return Z.filter(x=>x.name.toLowerCase().includes(v)||x.group&&x.group.toLowerCase().includes(v))}}function jf({isOpen:ee,onComplete:ie,onCancel:Z,allowCancel:v=!1}){const[x,G]=Oe.useState({method:"file",playlistName:"",playlistUrl:"",fileContent:"",fileName:""}),[w,y]=Oe.useState(!1),[g,m]=Oe.useState(null),b=Oe.useRef(null),D=F=>{G(le=>({...le,...F})),m(null)},k=async F=>{const le=F.target.files?.[0];if(le){console.log("File selected:",le.name,le.type,le.size);try{const P=await le.text(),te=le.name.replace(/\.(m3u8?|txt)$/i,"");console.log("File content read:",P.length,"characters"),console.log("First 100 characters:",P.substring(0,100)),D({fileContent:P,fileName:le.name,playlistName:x.playlistName||te})}catch(P){m("Failed to read file content"),console.error("File read error:",P)}}},z=async()=>!0,C=async()=>{if(console.log("validateSource called, method:",x.method),console.log("fileContent length:",x.fileContent?.length||0),x.method==="file"){if(!x.fileContent)return m("Please select an M3U file"),!1;console.log("Validating file content:",x.fileContent.substring(0,100));try{const F=vi.parseM3U(x.fileContent);if(F.channels.length===0)return m("No valid channels found in the M3U file"),!1;F.errors&&F.errors.length>0&&console.warn("M3U parsing warnings:",F.errors),console.log("M3U file validation passed, found",F.channels.length,"channels")}catch(F){return m(`Invalid M3U file: ${F instanceof Error?F.message:"Unknown error"}`),!1}}else{if(!x.playlistUrl.trim())return m("Please enter a playlist URL"),!1;try{new URL(x.playlistUrl)}catch{return m("Please enter a valid URL"),!1}try{y(!0);const F=await fetch(x.playlistUrl);if(!F.ok)return m(`HTTP ${F.status}: ${F.statusText}`),!1;const le=await F.text();try{const P=vi.parseM3U(le);if(P.channels.length===0)return m("No valid channels found in the playlist from this URL"),!1;console.log("URL validation passed, found",P.channels.length,"channels")}catch(P){return m(`Invalid M3U content from URL: ${P instanceof Error?P.message:"Unknown error"}`),!1}D({fileContent:le})}catch(F){return m(`Failed to load playlist: ${F instanceof Error?F.message:"Unknown error"}`),!1}finally{y(!1)}}return!0},I=async()=>x.playlistName.trim()?!0:(m("Please enter a name for your playlist"),!1),K=async()=>{try{y(!0),await ie(x.playlistName,x.fileContent,x.method==="url"?x.playlistUrl:void 0)}catch(F){throw m(F instanceof Error?F.message:"Failed to add playlist"),F}finally{y(!1)}},J=[{id:"welcome",title:"Welcome",validation:async()=>!0,content:T.jsxs("div",{style:{textAlign:"center"},children:[T.jsx("div",{style:{fontSize:"48px",marginBottom:"24px"},children:"📺"}),T.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"28px",fontWeight:"600",color:"#ffffff",lineHeight:"1.3"},children:"Welcome to IPTV Web Player!"}),T.jsx("p",{style:{marginBottom:"32px",color:"rgba(255, 255, 255, 0.8)",fontSize:"18px",lineHeight:"1.6",maxWidth:"500px",margin:"0 auto 32px auto"},children:"To get started, you'll need to provide an M3U playlist containing your IPTV channels. This can be provided as a file or downloaded from a URL. Your playlist will not be uploaded - it will be saved in local storage on your device."}),T.jsxs("div",{style:{background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"8px",padding:"20px",marginTop:"24px",maxWidth:"500px"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",marginBottom:"12px"},children:[T.jsx("div",{style:{fontSize:"20px"},children:"💡"}),T.jsx("span",{style:{color:"#3b82f6",fontWeight:"600",fontSize:"16px"},children:"What's an M3U playlist?"})]}),T.jsx("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"14px",lineHeight:"1.5",margin:0},children:"An M3U playlist is a file format that contains a list of IPTV channels with their streaming URLs. It's commonly used by IPTV providers to deliver channel lists to their customers."})]})]})},{id:"method",title:"Choose Method",validation:z,content:T.jsxs("div",{children:[T.jsx("p",{style:{marginBottom:"24px",color:"rgba(255, 255, 255, 0.8)",fontSize:"16px",lineHeight:"1.5"},children:"How would you like to add your IPTV playlist?"}),T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[T.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"16px",padding:"20px",border:`2px solid ${x.method==="file"?"rgba(59, 130, 246, 0.5)":"rgba(255, 255, 255, 0.2)"}`,background:x.method==="file"?"rgba(59, 130, 246, 0.1)":"rgba(255, 255, 255, 0.05)",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},children:[T.jsx("input",{type:"radio",value:"file",checked:x.method==="file",onChange:F=>D({method:F.target.value}),style:{margin:0,accentColor:"#3b82f6"}}),T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:"600",marginBottom:"4px",color:"#ffffff",fontSize:"16px"},children:"📁 Upload File"}),T.jsx("div",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.7)",lineHeight:"1.4"},children:"Upload an M3U or M3U8 file from your device"})]})]}),T.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"16px",padding:"20px",border:`2px solid ${x.method==="url"?"rgba(59, 130, 246, 0.5)":"rgba(255, 255, 255, 0.2)"}`,background:x.method==="url"?"rgba(59, 130, 246, 0.1)":"rgba(255, 255, 255, 0.05)",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},children:[T.jsx("input",{type:"radio",value:"url",checked:x.method==="url",onChange:F=>D({method:F.target.value}),style:{margin:0,accentColor:"#3b82f6"}}),T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:"600",marginBottom:"4px",color:"#ffffff",fontSize:"16px"},children:"🌐 Load from URL"}),T.jsx("div",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.7)",lineHeight:"1.4"},children:"Load a playlist directly from a web URL"})]})]})]})]})},{id:"source",title:x.method==="file"?"Select File":"Enter URL",validation:C,content:T.jsxs("div",{children:[x.method==="file"?T.jsxs("div",{children:[T.jsx("p",{style:{marginBottom:"24px",color:"rgba(255, 255, 255, 0.8)",fontSize:"16px",lineHeight:"1.5"},children:"Select your M3U playlist file from your device."}),T.jsx("input",{ref:b,type:"file",accept:".m3u,.m3u8,.txt",onChange:k,style:{width:"100%",padding:"16px",border:"2px dashed rgba(255, 255, 255, 0.3)",borderRadius:"8px",backgroundColor:"rgba(255, 255, 255, 0.05)",color:"#ffffff",fontSize:"14px",cursor:"pointer",transition:"all 0.2s"},onFocus:F=>F.target.style.borderColor="rgba(59, 130, 246, 0.5)",onBlur:F=>F.target.style.borderColor="rgba(255, 255, 255, 0.3)"}),T.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)",marginTop:"8px"},children:"Supported formats: .m3u, .m3u8, .txt"}),x.fileName&&T.jsxs("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"rgba(34, 197, 94, 0.1)",borderRadius:"6px",border:"1px solid rgba(34, 197, 94, 0.2)",color:"#22c55e",fontSize:"14px"},children:["✅ File selected: ",x.fileName]})]}):T.jsxs("div",{children:[T.jsx("p",{style:{marginBottom:"24px",color:"rgba(255, 255, 255, 0.8)",fontSize:"16px",lineHeight:"1.5"},children:"Enter the URL of your M3U playlist."}),T.jsx("input",{type:"url",placeholder:"https://example.com/playlist.m3u",value:x.playlistUrl,onChange:F=>D({playlistUrl:F.target.value}),style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",padding:"12px",color:"#ffffff",fontSize:"14px",outline:"none",transition:"border-color 0.2s"},onFocus:F=>F.target.style.borderColor="rgba(59, 130, 246, 0.5)",onBlur:F=>F.target.style.borderColor="rgba(255, 255, 255, 0.2)"}),T.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)",marginTop:"8px"},children:"The URL should point directly to an M3U or M3U8 file"})]}),g&&T.jsx("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#ef4444",borderRadius:"6px",border:"1px solid rgba(239, 68, 68, 0.2)",fontSize:"14px"},children:g})]})},{id:"name",title:"Name Your Playlist",validation:I,content:T.jsxs("div",{children:[T.jsx("p",{style:{marginBottom:"24px",color:"rgba(255, 255, 255, 0.8)",fontSize:"16px",lineHeight:"1.5"},children:"Give your playlist a memorable name."}),T.jsx("input",{type:"text",placeholder:"My IPTV Playlist",value:x.playlistName,onChange:F=>D({playlistName:F.target.value}),style:{width:"100%",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",padding:"12px",color:"#ffffff",fontSize:"14px",outline:"none",transition:"border-color 0.2s"},onFocus:F=>F.target.style.borderColor="rgba(59, 130, 246, 0.5)",onBlur:F=>F.target.style.borderColor="rgba(255, 255, 255, 0.2)"}),x.fileName&&T.jsxs("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)",marginTop:"8px"},children:["Default name from file: ",x.fileName.replace(/\.(m3u8?|txt)$/i,"")]}),g&&T.jsx("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#ef4444",borderRadius:"6px",border:"1px solid rgba(239, 68, 68, 0.2)",fontSize:"14px"},children:g})]})}];return T.jsx(Wf,{steps:J,isOpen:ee,onComplete:K,onCancel:v&&Z?Z:()=>{},size:"md",allowCancel:v,captions:{finishCaption:w?"Adding Playlist...":"Add Playlist",cancelCaption:v?"Cancel":void 0}})}function mp(){const[ee,ie]=Oe.useState([]),[Z,v]=Oe.useState(null),[x,G]=Oe.useState(null),[w,y]=Oe.useState(!1),[g,m]=Oe.useState(!0),[b,D]=Oe.useState(null);Oe.useEffect(()=>{(async()=>{try{const Y=await vi.getPlaylistsAsync();console.log("Loaded playlists from storage:",Y.length),ie(Y)}catch(Y){D("Failed to load playlists"),console.error("Error loading playlists:",Y)}finally{m(!1)}})()},[]),Oe.useEffect(()=>{ee.length>0&&!Z&&v(ee[0].id)},[ee,Z]);const k=ee.find(re=>re.id===Z)||null,z=Oe.useMemo(()=>k?.channels||[],[k]),C=z.find(re=>re.id===x)||null,I=Oe.useCallback(async(re,Y,R)=>{y(!0),D(null);try{const E=await vi.addPlaylistAsync(re,Y,R);return ie(A=>[...A,E]),v(E.id),E}catch(E){const A=E instanceof Error?E.message:"Failed to add playlist";throw D(A),new Error(A)}finally{y(!1)}},[]),K=Oe.useCallback((re,Y)=>{try{const R=vi.updatePlaylist(re,Y);return R?(ie(E=>E.map(A=>A.id===re?R:A)),R):null}catch(R){const E=R instanceof Error?R.message:"Failed to update playlist";throw D(E),new Error(E)}},[]),J=Oe.useCallback(async re=>{try{const Y=await vi.deletePlaylistAsync(re);if(Y&&(ie(R=>R.filter(E=>E.id!==re)),Z===re)){const R=ee.filter(E=>E.id!==re);v(R.length>0?R[0].id:null),G(null)}return Y}catch(Y){const R=Y instanceof Error?Y.message:"Failed to delete playlist";throw D(R),new Error(R)}},[ee,Z]),F=Oe.useCallback(async re=>{y(!0),D(null);try{const Y=await vi.refreshPlaylist(re);return Y?(ie(R=>R.map(E=>E.id===re?Y:E)),Y):null}catch(Y){const R=Y instanceof Error?Y.message:"Failed to refresh playlist";throw D(R),new Error(R)}finally{y(!1)}},[]),le=Oe.useCallback(re=>{v(re),G(null)},[]),P=Oe.useCallback(re=>{G(re)},[]),te=Oe.useCallback(re=>re.trim()?vi.searchChannels(re):z,[z]);return{playlists:ee,selectedPlaylist:k,selectedPlaylistId:Z,channels:z,selectedChannel:C,selectedChannelId:x,loading:w,initialLoading:g,error:b,addPlaylist:I,updatePlaylist:K,deletePlaylist:J,refreshPlaylist:F,selectPlaylist:le,selectChannel:P,searchChannels:te,clearError:()=>D(null)}}function gp(ee){return{id:ee.id,name:ee.name,logo:ee.logo,category:ee.group,isLive:!0}}function yp(ee,ie){const[Z,v]=Oe.useState({currentChannel:null,currentChannelUrl:null,isPlaying:!1,isLoading:!1,error:null}),x=Oe.useCallback((b,D)=>{v(k=>({...k,currentChannel:b,currentChannelUrl:D,error:null,isLoading:!0}))},[]),G=Oe.useCallback(b=>{const D=gp(b);x(D,b.url)},[x]),w=Oe.useCallback(()=>{v(b=>({...b,currentChannel:null,currentChannelUrl:null,isPlaying:!1,isLoading:!1,error:null}))},[]),y=Oe.useCallback(b=>{v(D=>({...D,isPlaying:b}))},[]),g=Oe.useCallback(b=>{v(D=>({...D,isLoading:b}))},[]),m=Oe.useCallback(b=>{v(D=>({...D,error:b,isLoading:!1}))},[]);return{...Z,setChannel:x,setChannelFromM3U:G,clearChannel:w,setPlaying:y,setLoading:g,setError:m}}function vp(ee){return{id:ee.id,name:ee.name,logo:ee.logo||"📺",category:ee.group||"Uncategorized",isLive:!0}}function bp(ee){return{id:ee.id,name:ee.name,url:ee.url||"",channelCount:ee.channels.length,isActive:!0,lastUpdated:ee.updatedAt}}function Sp(ee){return ee.map(vp)}function Ep(ee){return ee.map(bp)}function Ap(){const[ee,ie]=Oe.useState(!1),[Z,v]=Oe.useState(!1),[x,G]=Oe.useState(!1),[w,y]=Oe.useState(null),[g,m]=Oe.useState(!1),[b,D]=Oe.useState(!1),{playlists:k,selectedPlaylist:z,channels:C,selectedChannel:I,selectChannel:K,selectPlaylist:J,addPlaylist:F,deletePlaylist:le,initialLoading:P,error:te}=mp(),re=yp(),Y=Sp(C),R=Ep(k),E=Ct.useMemo(()=>{const N=new Map;return Y.forEach(de=>{const he=de.category||"Uncategorized";N.set(he,(N.get(he)||0)+1)}),Array.from(N.entries()).map(([de,he])=>({id:de.toLowerCase().replace(/[^a-z0-9]/g,"-"),name:de,channelCount:he}))},[Y]);Oe.useEffect(()=>{!P&&k.length===0?(console.log("No playlists found after initial loading, showing setup wizard"),v(!0)):!P&&k.length>0&&(console.log("Found",k.length,"playlists, not showing setup wizard"),v(!1))},[P,k.length]);const A=N=>{const de=C.find(he=>he.id===N.id);de&&(K(de.id),re.setChannelFromM3U(de),ie(!1))},U=N=>{J(N.id)},oe=N=>{y(N.id)},xe=Ct.useMemo(()=>{if(!w)return Y;const N=E.find(de=>de.id===w)?.name;return N?Y.filter(de=>(de.category||"Uncategorized")===N):Y},[Y,w,E]);Oe.useEffect(()=>{let N,de,he=0,M=!1;const d=()=>{re.currentChannel&&re.currentChannelUrl&&M&&(m(!0),N&&window.clearTimeout(N))},O=()=>{N=window.setTimeout(()=>{m(!1),M=!1},2e3)},W=()=>{const Me=Date.now();Me-he>500&&(M=!0,d()),he=Me,de&&window.clearTimeout(de),de=window.setTimeout(()=>{M=!1,m(!1)},3e3)},_e=()=>{re.currentChannel&&re.currentChannelUrl&&(M=!0,d())},Se=document.querySelector(".video-container"),Le=document.querySelector(".channel-info-overlay");return Se&&(Se.addEventListener("mousemove",W),Se.addEventListener("mouseleave",O),Se.addEventListener("click",d)),Le&&(Le.addEventListener("mouseenter",d),Le.addEventListener("mouseleave",O)),document.addEventListener("keydown",_e),()=>{Se&&(Se.removeEventListener("mousemove",W),Se.removeEventListener("mouseleave",O),Se.removeEventListener("click",d)),Le&&(Le.removeEventListener("mouseenter",d),Le.removeEventListener("mouseleave",O)),document.removeEventListener("keydown",_e),N&&window.clearTimeout(N),de&&window.clearTimeout(de)}},[re.currentChannel,re.currentChannelUrl,g]),Oe.useEffect(()=>{if(te||re.error){D(!0);const N=setTimeout(()=>{D(!1)},7e3);return()=>clearTimeout(N)}else D(!1)},[te,re.error]);const pe=async(N,de,he)=>{await F(N,de,he),v(!1),console.log("Setup wizard completed successfully")},be=async(N,de,he)=>{await F(N,de,he),G(!1),ie(!1),console.log("Add playlist wizard completed successfully")};return T.jsxs("div",{className:"app",children:[T.jsx("div",{className:"hamburger-container",children:T.jsx(Vf,{isOpen:ee,onToggle:()=>{console.log("Hamburger clicked, current state:",ee),ie(!ee)},size:"large",className:"floating-hamburger"})}),T.jsx(Qf,{isOpen:ee,onClose:()=>ie(!1),channels:xe,selectedChannelId:re.currentChannel?.id||I?.id,onChannelSelect:A,groups:E,selectedGroupId:w??void 0,onGroupSelect:oe,playlists:R,selectedPlaylistId:z?.id,onPlaylistSelect:U,onPlaylistsUpdate:N=>{console.log("Playlists updated:",N),k.filter(he=>!N.find(M=>M.id===he.id)).map(he=>he.id).forEach(async he=>{try{await le(he)}catch(M){console.error("Failed to delete playlist:",M)}})},onFileUpload:async(N,de)=>{console.log("File upload requested:",N,"Content length:",de.length),await F(N,de),console.log("File upload completed successfully")},onResetToDefaults:()=>{console.log("Reset to defaults requested"),k.forEach(async N=>{try{await le(N.id)}catch(de){console.error("Failed to delete playlist during reset:",de)}}),re.clearChannel(),v(!0)},user:{name:"IPTV User",icon:"📺",subtitle:`${k.length} playlist${k.length!==1?"s":""} • ${C.length} channels`},userSectionProps:{onClick:()=>G(!0)},className:"translucent-sidebar"}),T.jsx("div",{className:"video-container",children:re.currentChannelUrl?T.jsx(up,{url:re.currentChannelUrl,isLive:!0,onLoadingChange:re.setLoading,onError:re.setError,onPlayingChange:re.setPlaying}):T.jsx("div",{className:"no-video-message",children:k.length===0&&!Z?T.jsxs("div",{children:[T.jsx("h2",{children:"📺 IPTV Player"}),T.jsx("p",{children:"Setting up your first playlist..."})]}):T.jsxs("div",{children:[T.jsx("h2",{children:"📺 IPTV Player"}),T.jsx("p",{children:"Select a channel from the menu to start watching"}),T.jsx("div",{className:"hint",children:T.jsx("span",{children:"Click the ☰ menu in the top-left corner"})})]})})}),re.currentChannel&&re.currentChannelUrl&&g&&T.jsxs("div",{className:"channel-info-overlay",children:[T.jsx("div",{className:"channel-name",children:re.currentChannel.name}),re.currentChannel.category&&T.jsx("div",{className:"channel-group",children:re.currentChannel.category}),re.currentChannel.logo&&T.jsx("img",{className:"channel-logo",src:re.currentChannel.logo}),re.isLoading&&T.jsx("div",{className:"channel-status",children:"Loading..."}),re.isPlaying&&!re.isLoading&&T.jsx("div",{className:"channel-status",children:"🔴 LIVE"})]}),(te||re.error)&&b&&T.jsx("div",{className:"error-overlay",children:T.jsxs("div",{className:"error-message",children:[T.jsx("strong",{children:"⚠️ Error:"})," ",te||re.error]})}),T.jsx(jf,{isOpen:Z,onComplete:pe,allowCancel:!1}),T.jsx(jf,{isOpen:x,onComplete:be,onCancel:()=>G(!1),allowCancel:!0})]})}lp.createRoot(document.getElementById("root")).render(T.jsx(Oe.StrictMode,{children:T.jsx(Ap,{})}));</script>
    <style rel="stylesheet" crossorigin>:root{font-family:system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;color:#ffffffde;background-color:#242424;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{margin:0;display:flex;place-items:center;min-width:320px;min-height:100vh}h1{font-size:3.2em;line-height:1.1}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#1a1a1a;cursor:pointer;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}@media (prefers-color-scheme: light){:root{color:#213547;background-color:#fff}a:hover{color:#747bff}button{background-color:#f9f9f9}}*{box-sizing:border-box}html,body{margin:0;padding:0;height:100vh;overflow:hidden;background:#000;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}#root{height:100vh;overflow:hidden}.app{position:relative;width:100vw;height:100vh;background:#000}.hamburger-container{position:fixed;top:20px;left:20px;z-index:1001;opacity:.8;transition:opacity .3s ease;pointer-events:all}.hamburger-container:hover,.app:hover .hamburger-container{opacity:1;pointer-events:all}.floating-hamburger{background:#000c!important;border-radius:12px;padding:12px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3);transition:all .3s ease}.floating-hamburger .hamburger__line{background-color:#ffffffe6!important}.floating-hamburger:hover{background:#000000f2!important;transform:scale(1.05)}.floating-hamburger:hover .hamburger__line{background-color:#fff!important}.video-container{position:absolute;top:0;left:0;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;background:#000}.video-container video{width:100%;height:100%;object-fit:contain}.no-video-message{text-align:center;color:#fff;padding:2rem;max-width:600px}.no-video-message h2{font-size:3rem;margin:0 0 1rem;font-weight:300}.no-video-message p{font-size:1.5rem;margin:0 0 2rem;opacity:.8}.hint{display:inline-block;padding:1rem 2rem;background:#ffffff1a;border-radius:25px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);animation:pulse 2s infinite}@keyframes pulse{0%,to{opacity:.6;transform:scale(1)}50%{opacity:1;transform:scale(1.02)}}.channel-info-overlay{position:fixed;top:40px;right:40px;background:#000c;color:#fff;padding:1rem 1.5rem;border-radius:12px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);z-index:1000;opacity:0;transform:translateY(-20px);animation:slideInDown .5s ease forwards}@keyframes slideInDown{to{opacity:1;transform:translateY(0)}}@keyframes slideInUp{to{opacity:1;transform:translateY(0)}}.channel-name{font-size:1.2rem;font-weight:600;margin-bottom:.25rem}.channel-group{font-size:.9rem;opacity:.7}.error-overlay{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#dc3545f2;color:#fff;padding:1.5rem 2rem;border-radius:12px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);z-index:1000;text-align:center;max-width:500px;animation:fadeIn .3s ease}@keyframes fadeIn{0%{opacity:0;transform:translate(-50%,-60%)}to{opacity:1;transform:translate(-50%,-50%)}}.error-message{font-size:1.1rem}.sidebar.translucent-sidebar{background:#000000bf!important;backdrop-filter:blur(25px) saturate(1.2)!important;-webkit-backdrop-filter:blur(25px) saturate(1.2)!important;border-right:1px solid rgba(255,255,255,.15)!important;box-shadow:0 8px 32px #0000004d,inset 1px 0 1px #ffffff1a!important;position:fixed!important;top:0!important;bottom:0!important;left:0!important;z-index:1041!important;transform:translate(-100%)!important;transition:transform .25s ease-in-out!important}.sidebar.translucent-sidebar.sidebar--open{transform:translate(0)!important}.sidebar-overlay{z-index:1040!important;background:#0003!important;backdrop-filter:blur(8px)!important;-webkit-backdrop-filter:blur(8px)!important}.sidebar.translucent-sidebar .sidebar__content{background:transparent!important}.sidebar.translucent-sidebar .sidebar__header{background:#0006!important;border-bottom:1px solid rgba(255,255,255,.15)!important;backdrop-filter:blur(10px)!important;-webkit-backdrop-filter:blur(10px)!important}.sidebar.translucent-sidebar .sidebar__footer{background:#0006!important;border-top:1px solid rgba(255,255,255,.15)!important;backdrop-filter:blur(10px)!important;-webkit-backdrop-filter:blur(10px)!important}.sidebar.translucent-sidebar .sidebar__section{display:flex;flex-direction:column}.sidebar.translucent-sidebar .playlist{display:flex;flex-direction:column;flex:1;min-height:0}.sidebar.translucent-sidebar .playlist__content{flex:1;overflow-y:auto;min-height:0}.sidebar.translucent-sidebar .playlist__channels{display:flex;flex-direction:column;gap:var(--ipts-space-1)}.sidebar.translucent-sidebar *{--sidebar-bg: rgba(0, 0, 0, .85);--sidebar-content-bg: transparent;--sidebar-header-bg: rgba(0, 0, 0, .3);--sidebar-footer-bg: rgba(0, 0, 0, .3)}.sidebar.translucent-sidebar,.sidebar.translucent-sidebar h1,.sidebar.translucent-sidebar h2,.sidebar.translucent-sidebar h3,.sidebar.translucent-sidebar h4,.sidebar.translucent-sidebar h5,.sidebar.translucent-sidebar h6,.sidebar.translucent-sidebar p,.sidebar.translucent-sidebar span,.sidebar.translucent-sidebar button,.sidebar.translucent-sidebar .sidebar__header div,.sidebar.translucent-sidebar .sidebar__footer div,.sidebar.translucent-sidebar .sidebar__section div{color:#fff!important}.sidebar.translucent-sidebar .sidebar__close{color:#fffc!important}.sidebar.translucent-sidebar .sidebar__close:hover{color:#fff!important;background-color:#ffffff1a!important}.sidebar.translucent-sidebar .sidebar__footer-text{color:#fff9!important}.sidebar.translucent-sidebar .user-section__name,.sidebar.translucent-sidebar .user-section__subtitle,.sidebar.translucent-sidebar .playlist__title,.sidebar.translucent-sidebar .playlist__category-header,.sidebar.translucent-sidebar .playlist__channel-name,.sidebar.translucent-sidebar .playlist__channel-status,.sidebar.translucent-sidebar .settings-section__title,.sidebar.translucent-sidebar .settings-group__title,.sidebar.translucent-sidebar .settings-group__description{color:#fff!important}.sidebar.translucent-sidebar .btn{color:#fff!important;border-color:#ffffff4d!important;backdrop-filter:blur(10px)!important;-webkit-backdrop-filter:blur(10px)!important}.sidebar.translucent-sidebar .btn--primary{background:linear-gradient(135deg,#3b82f6cc,#2563ebe6)!important;border-color:#3b82f6cc!important;box-shadow:0 4px 16px #3b82f64d!important}.sidebar.translucent-sidebar .btn--primary:hover{background:linear-gradient(135deg,#3b82f6e6,#2563eb)!important;box-shadow:0 6px 20px #3b82f666!important}.sidebar.translucent-sidebar .btn--secondary{background:#ffffff1a!important;border-color:#ffffff4d!important;box-shadow:0 2px 8px #0003!important}.sidebar.translucent-sidebar .btn--secondary:hover{background:#fff3!important;border-color:#fff6!important}.sidebar.translucent-sidebar .playlist__channel:hover{background:#ffffff1a!important;backdrop-filter:blur(10px)!important;-webkit-backdrop-filter:blur(10px)!important;box-shadow:0 2px 8px #0003!important}.sidebar.translucent-sidebar .playlist__channel--selected{background:linear-gradient(135deg,#3b82f64d,#2563eb33)!important;border-color:#3b82f680!important;box-shadow:0 2px 12px #3b82f64d!important}.sidebar.translucent-sidebar .user-section:hover{background:#ffffff1a!important;backdrop-filter:blur(10px)!important;-webkit-backdrop-filter:blur(10px)!important}::-webkit-scrollbar{display:none}@media (max-width: 768px){.hamburger-container{top:15px;left:15px}.channel-info-overlay{top:20px;right:20px;left:20px;text-align:center}.no-video-message h2{font-size:2rem}.no-video-message p{font-size:1.2rem}}button{cursor:pointer;padding:.5rem 1rem;border:none;border-radius:4px;background-color:#007bff;color:#fff;font-size:.875rem;transition:background-color .2s}button:hover{background-color:#0056b3}button:disabled{background-color:#6c757d;cursor:not-allowed}input[type=text],input[type=url],input[type=file]{padding:.5rem;border:1px solid #ddd;border-radius:4px;font-size:.875rem}input[type=text]:focus,input[type=url]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.m3u-upload{border:1px solid #e9ecef;border-radius:8px;padding:1rem;background-color:#f8f9fa}.m3u-upload h3{margin-top:0;margin-bottom:1rem;color:#495057}</style>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
